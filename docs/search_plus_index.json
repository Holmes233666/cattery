{"./":{"url":"./","title":"ç®€ä»‹","keywords":"","body":"Summary è½¯å·¥å¤§ä¸‰ä¸‹ç¬”è®° ç®—æ³•åˆ†æä¸è®¾è®¡ç¬”è®° CH1ï¼šIntroduction CH2ï¼šç®—æ³•å…¥é—¨ CH2ï¼šç®—æ³•å…¥é—¨_review CH3ï¼šGrowth of Functions CH3ï¼šGrowth of Functions_review CH4ï¼šRecurrences CH6ï¼šHeapSort CH7ï¼šQuickSort CH8ï¼šSorting in linear time CH9ï¼šMedians and Order Statistics CH10ï¼šDivide and Conquerï¼šMore Algorithms CH15ï¼šDynamic_Programming CH16ï¼šGreedy_Algorithms CH24ï¼šShorest_Path CH25ï¼šBack-Tracking è½¯ä»¶ä½“ç³»ç»“æ„ CH1ï¼šIntroduction CH2ï¼šAchitecture_Style CH3ï¼šUML CH4ï¼šç†è§£è´¨é‡å±æ€§ CH5ï¼šATMA è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç† PART1-åˆ¤æ–­é¢˜é”™è¯¯æ€»ç»“ PART2-é€‰æ‹©é¢˜ç­”æ¡ˆæ•´ç† PART3-å¡«ç©ºé¢˜ PART4-ç®€ç­”é¢˜ ä¿ç ”ç¬”è®° ä¿ç ”ç®—æ³•ç»ƒä¹ AcWingè®­ç»ƒ åŸºç¡€ç®—æ³•.md è®ºæ–‡é˜…è¯» ParameterServeré˜…è¯»ç¬”è®°-2014-OSDI-ææ² PATHWAYSé˜…è¯»ç¬”è®°-2022-MLSys-JeffDean-Sanjay Alpaé˜…è¯»ç¬”è®°-2022-OSDI-éƒ‘æ€œæ‚¯ FasterMoEé˜…è¯»ç¬”è®°-2022-PPoPP-ä½•å®¶å‚² SEUSSé˜…è¯»ç¬”è®°-2020-EuroSys-JamesCadden ç¦»æ•£æ•°å­¦ é›†åˆè®ºåŸºç¡€ å‘½é¢˜é€»è¾‘ å‘½é¢˜é€»è¾‘çš„æ¨ç†ç†è®º è°“è¯é€»è¾‘ äºŒå…ƒå…³ç³» ç‰¹æ®Šå…³ç³» å‡½æ•° å›¾è®ºåŸºç¡€ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/about.html":{"url":"ç®—æ³•/about.html","title":"ç®—æ³•åˆ†æä¸è®¾è®¡","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH1ï¼šIntroduction.html":{"url":"ç®—æ³•/CH1ï¼šIntroduction.html","title":"CH1ï¼šIntroduction","keywords":"","body":"CH1ï¼šIntroduction 1.1 Factors of Programming programming language IDE software achitecture æ¶æ„ï¼š æ¶æ„çš„ç±»å‹ï¼š \\begin{cases}C2\\ Styleï¼šconponent\\ \\& \\ connector\\\\Pipe-Fliter\\ Style:è¾“å…¥\\rightarrow è¾“å‡º\\\\Repositories\\ Styleï¼šä»¥æŸä¸€æ•°æ®æºä¸ºä¸­å¿ƒçš„æ“ä½œ\\end{cases} æˆç†Ÿçš„æ¨¡å¼ï¼šé€æ­¥äº§ç”Ÿå•†ä¸šæ¶æ„ Java EE CORBA .NETï¼ˆä¸javaEEç±»ä¼¼ï¼‰ 1.2 More Important 1.2.1 Transaction finish or null 1.2.2 Security 1.3 DS and Algorithm 1.3.1 Algorithm Conceptï¼šA well-Defined computational procedure that takes some value, or set of values, as input and proceduces some value, or set of values, as output. Broadlyï¼ša step-step procedure for solving a problem or accomplishing some end especially by a computer. issuesï¼š correctness efficiency(amount of work done and space used) storage(simplicity, clarity) optimality 1.3.2 Promblem that can be solved by algorithm åŸºå› å·¥ç¨‹ ç½‘ç»œ ç”µå­å•†åŠ¡ ç”Ÿäº§ ä¸€ä¸ªç»å…¸çš„é—®é¢˜ï¼šyou are given n integers(there may be negative ones but not all) a1, a2, ..., an, determine i and j which maximize the sum from $a_i$ to $a_j$. Caseï¼š6 integersï¼š(-2, 11, -4, 13, -5, -2) Ansï¼ši = 2, j = 4, max sum is 20 1.3.3 Importance of algorithms é—®é¢˜ï¼šç»™1000,000ä¸ªæ•´æ•°æ’åº æ•°æ®é‡ ä¸»é¢‘ ç®—æ³•æ—¶é—´å¤æ‚åº¦ è®¡ç®—æ—¶é—´ 1000000 1GHz $2n^2$ $2\\times 10^5\\ seconds$ 1000000 100MHz $50nlgn$ $105\\ seconds$ åŠ ä¹‹ä¸»é¢‘çš„æå‡ä¸å¤§ï¼Œç®—æ³•æ›´ä¸ºé‡è¦ 1.3.4 About course Design and Analysis æ€ä¹ˆæ‰¾ç®—æ³•ï¼Ÿ è¯„ä»·ç®—æ³•ï¼Œå®šé‡ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH2ï¼šç®—æ³•å…¥é—¨.html":{"url":"ç®—æ³•/CH2ï¼šç®—æ³•å…¥é—¨.html","title":"CH2ï¼šç®—æ³•å…¥é—¨","keywords":"","body":"CH2ï¼šç®—æ³•å…¥é—¨ The problem of sorting inputï¼šsequence of n natural numbers outputï¼špermutation such that $a_1'\\leq a_2'\\leq ....\\leq a_n'$ 2.1 Insert Sort ç®—æ³•ï¼š for(i = 2; i = 1 and A[j] > key){ A[j+1] = A[j]; // åç§» j--; } A[j+1] = key; } 2.2 Kinds of Analysis worstest - caseï¼ˆusuallyï¼‰ï¼šæœ€åæƒ…å†µä¼˜å…ˆè€ƒè™‘ Average - caseï¼ˆsometimesï¼‰ Best - caseï¼ˆbogusï¼‰ 2.2.1 å¾ªç¯ä¸å˜å¼ loop-invariants Proving correctness Using Loop-invariantsã€å¤–å±‚ä¸ºå¾ªç¯ã€‘ éœ€è¦è¯æ˜çš„ä¸‰ä¸ªæ€§è´¨ï¼š åˆå§‹åŒ–ï¼šå®ƒåœ¨å¾ªç¯çš„ç¬¬ä¸€è½®è¿­ä»£å¼€å§‹æ—¶ï¼Œåº”è¯¥æ˜¯æ­£ç¡®çš„ ä¿æŒï¼šå¦‚æœåœ¨æŸä¸€æ¬¡çš„è¿­ä»£å¼€å§‹å‰æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£å¼€å§‹å‰ï¼Œä»–ä¹Ÿåº”è¯¥ä¿æŒæ­£ç¡® ç»ˆæ­¢ï¼šä¸å˜å¼ç»™äº†ä¸€ä¸ªæœ‰ç”¨çš„æ€§è´¨ï¼Œè¡¨æ˜ç®—æ³•æ˜¯æ­£ç¡®çš„ 2.2.2 è¿è¡Œæ—¶é—´ ï¼ˆ1ï¼‰Running Time è¿è¡Œæ—¶é—´çš„å–å†³å› ç´ ï¼š è¾“å…¥åºåˆ—ï¼šå·²ç»æ’åˆ—å¥½çš„åºåˆ—ã€æ•°æ®ç‰¹å¾ã€‘ æ•°æ®è§„æ¨¡ï¼šæ›´çŸ­çš„åºåˆ—æ›´å®¹æ˜“æ’å¥½ é€šå¸¸ï¼Œæˆ‘ä»¬è€ƒè™‘è¿è¡Œæ—¶é—´çš„ä¸Šç•Œï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªä¿è¯ ï¼ˆ2ï¼‰Machine-independent time æ’å…¥æ’åºçš„æœ€å·®æ—¶é—´å–å†³äºè®¡ç®—æœºçš„é€Ÿåº¦ï¼š ç›¸å¯¹é€Ÿåº¦ï¼ˆon the same machineï¼‰â€”â€”å…³æ³¨ç®—æ³• ç»å¯¹é€Ÿåº¦ï¼ˆon different machineï¼‰ é€šå¸¸æˆ‘ä»¬å¿½è§†æœºå™¨ç›¸å…³æ—¶é—´çš„é™åˆ¶ï¼Œå…³æ³¨â€œthe growth of T(n) as n â†’ âˆâ€ ç§°ä¸ºæ¸è¿‘åˆ†æâ€œAsympotic Analysisâ€ ï¼ˆ3ï¼‰$\\theta-$notation å…³å¿ƒå¢é•¿ç‡ï¼Œä½é˜¶å’Œå¸¸æ•°ä¸¢å¼ƒ Drop low-order terms; ignore leading constants Exampleï¼š$3n^3+90n^2-5n+6046 = \\theta(n^3)$ å½“nå˜å¾—è¶³å¤Ÿå¤§æ—¶ï¼Œä¸€ä¸ª$\\theta(n^2)$çš„ç®—æ³•æ€»ä¼šæ‰“è´¥ä¸€ä¸ª$\\theta(n^3)$çš„ç®—æ³• 2.2.3 Insertion Sort Analysis Worest caseï¼šInput reverse sortedã€é€†åºçš„åºåˆ—ã€‘ T(n) = \\sum\\limits_{j = 2,...,n}\\theta(j) = \\theta(n^2) Average caseï¼šAll permutations equally likely T(n) = \\sum\\limits_{j = 2,...,n}\\theta(j/2)=\\theta(n^2) 2.3 Analysis Algorithm Analysis An Algorithmï¼š ç®—æ³•åˆ†ææŒ‡çš„æ˜¯å¯¹ä¸€ä¸ªç®—æ³•æ‰€éœ€çš„èµ„æºè¿›è¡Œåˆ†æï¼Œé¢„æµ‹ç®—æ³•æ‰€éœ€çš„èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜ã€é€šä¿¡å¸¦å®½æˆ–è®¡ç®—æœºç¡¬ä»¶ç­‰ã€‚ ä½†æ˜¯é€šå¸¸æˆ‘ä»¬æ›´æƒ³æµ‹é‡è®¡ç®—æ—¶é—´ã€‚ 2.3.1 RAM RAMï¼šå•å¤„ç†æœºï¼Œéšæœºå­˜å‚¨æ¨¡å‹ random-access-machineï¼ˆRAMï¼‰ Model with no concurrent operations ä¸è€ƒè™‘å¹¶å‘ executed as an atom operation ä¸è€ƒè™‘ä¸­æ–­ï¼ŒåŸå­æ“ä½œ æ¯æ¡æŒ‡ä»¤éœ€è¦å›ºå®šæ—¶é—´ å†…å­˜å®¹é‡è¶³å¤Ÿå¤§ åœ¨RAMæ¨¡å‹ä¸‹ï¼Œå¯¹åŸºç¡€çš„æ“ä½œè¿›è¡Œè®¡æ•°å³å¯ count fundamental operationã€‚ 2.3.2 Analysis of Insert Operation æ’å…¥æ’åºçš„æ—¶é—´è®¡ç®—å¦‚ä¸‹ï¼š T(n) = c_1n+c_2(n-1) + c_4(n-1)+c_5\\sum\\limits_{j=2}^nt_j+c_6\\sum\\limits_{j=2}^n(t_j-1) + c_7\\sum\\limits_{j=2}^n(t_j-1)+c_8(n-1)\\\\ best caseï¼šæ•°ç»„æ˜¯æœ‰åºçš„ **$t_j = 1$ï¼Œæ£€æŸ¥ä¸€æ¬¡ï¼Œä¸éœ€è¦åç§»** T(n) = c_1n+c_2(n-1) + c_4(n-1)+c_5(n-1)+c_8(n-1)\\\\=(c_1+c_2+c_4+c_5+c_8)n-(c_2+c_4+c_5+c_8) è¿è¡Œæ—¶é—´æ˜¯nçš„çº¿æ€§å‡½æ•° worest caseï¼šæ•°ç»„æ˜¯å€’åºçš„ **$t_j = j$ï¼Œæ£€æŸ¥ä¸€æ¬¡ï¼Œä¸éœ€è¦åç§»** T(n) = c_1n+c_2(n-1)+c_4(n-1)+c_5(n(n+1)/2-1)+c_6(n(n-1)/2)+c_7(n(n-1)/2)+c_8(n-1)\\\\=(c_5/2+c_6/2+c_7/2)n^2+(c_1+c_2+c_4+c_5/2-c_6/2-c_7/2+c_8)n-(c_2+c_4+c_5+c_8) è¿è¡Œæ—¶é—´æ˜¯nçš„äºŒæ¬¡å‡½æ•°ã€‚ noteï¼š å¯¹äºæŸäº›ç®—æ³•æ¥è¯´ï¼Œæœ€åæƒ…å†µç»å¸¸å‘ç”Ÿ å¹³å‡æƒ…å†µæœ‰æ—¶å€™å’Œä¸€èˆ¬æƒ…å†µä¸€æ ·ç³Ÿç³• 2.3.3 Order of Growth æˆ‘ä»¬åªè€ƒè™‘è¿è¡Œæ—¶é—´çš„å¢é•¿é¡ºåº: æˆ‘ä»¬å¯ä»¥å¿½ç•¥ä½é˜¶é¡¹ï¼Œå› ä¸ºå¯¹äºéå¸¸å¤§çš„nï¼Œå®ƒä»¬ç›¸å¯¹ä¸é‡è¦ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥å¿½ç•¥å‰é¡¹çš„å¸¸ç³»æ•°ï¼Œå› ä¸ºå¯¹äºéå¸¸å¤§çš„nï¼Œå®ƒä»¬å¯¹è®¡ç®—æ•ˆç‡çš„å¢é•¿é€Ÿåº¦å¹¶ä¸é‡è¦ã€‚ æˆ‘ä»¬åˆšåˆšè¯´è¿‡ï¼Œæœ€å¥½çš„æƒ…å†µæ˜¯nçš„çº¿æ€§è€Œæœ€å/å¹³å‡çš„æƒ…å†µæ˜¯nçš„äºŒæ¬¡å‹ã€‚ 2.4 Designing Algorithm 2.4.1 Divide and Conquer To solve Pï¼š Divide P into smaller problems P_1, P_2, ... , P_k Conquer by solving the (smaller) subproblems recursively Combine the solutions to P_1,P_2,...,P_k into the solution for P ï¼ˆ1ï¼‰Merge Sort Using Divide and Conquer, we can obtain a merge sort algorithm Divideï¼šdivide n elements into two subsequences of n/2 elements each Conquerï¼šSolve the two subsequences recursively Combineï¼šMerge the two sorted subsequences to produce the sorted answer Merge-Sort(Aï¼Œpï¼Œr) INPUT: a sequence of n numbers stored in array A OUTPUT: an ordered sequence of n numbers MergeSort(A,p,r) if p Actions of Merge Sortï¼š 2.4.2 Analysis divide and conquer Algorithm $T(n)$ running time on a problem of size n ã€n ï¼šé—®é¢˜è§„æ¨¡ã€‘ å‡è®¾æŠŠåŸé—®é¢˜åˆ†æˆaä¸ªå­é—®é¢˜ï¼Œæ¯ä¸ªå­é—®é¢˜æ˜¯åŸé—®é¢˜è§„æ¨¡çš„$1/b$ å¯¹äºMergeSortæ¥è¯´ï¼Œa = 2ï¼Œæ¯ä¸ªé—®é¢˜çš„è§„æ¨¡æ˜¯åŸé—®é¢˜çš„1/b $D(n)$ åˆ†è§£çš„å¼€é”€ $C(n)$ åˆå¹¶çš„å¼€é”€ å­é—®é¢˜ --åˆå¹¶-->åŸé—®é¢˜ MergeSort Recurrence Equation T(n) = \\begin{cases}\\Theta(1)\\quad if\\ nâ‰¤c\\\\ aT(n/b)+D(n) + C(n)\\quad otherwise\\end{cases} å¯¹äºMergeSortæ¥è¯´ï¼Œé€’å½’å¼å¦‚ä¸‹ï¼š T(n) = \\begin{cases}\\Theta(1)\\quad if\\ nâ‰¤c\\\\ 2T(n/2)+\\Theta(n)\\quad otherwise\\end{cases} Claimï¼š T(n) = nlog_2^n æ‰€æœ‰æƒ…å†µä¸‹å‡ä¸ºnlog_2^n æœ€å¥½ æœ€å å¹³å‡ $log_2^n+1$æ˜¯é’ˆå¯¹ç»“ç‚¹çš„ï¼Œè‹¥æ˜¯é’ˆå¯¹è¾¹åˆ™æ˜¯$log_2^n$ã€‚æ¯å±‚çš„å’Œæ˜¯ä¸€å®šçš„ï¼Œéƒ½æ˜¯cn æ‰€ä»¥æ€»çš„èŠ±è´¹æ—¶é—´ä¸ºï¼š \\sum_{i=1}^{log_2^n} cn = cnÂ·log_2^n Proof by Telescoping T(n) = 2T(n/2)+n = 2(2T(n/4) + n/2)+n = 4T(n/4)+2n\\\\ =......=nT(n/n)+log_2^n n=nT(1)+nlog_2^n var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH2ï¼šç®—æ³•å…¥é—¨_review.html":{"url":"ç®—æ³•/CH2ï¼šç®—æ³•å…¥é—¨_review.html","title":"CH2ï¼šç®—æ³•å…¥é—¨_review","keywords":"","body":"CH2 ç®—æ³•å…¥é—¨ MindMap æ’åºé—®é¢˜ï¼š è¾“å…¥ï¼šåºåˆ—$$ è¾“å‡ºï¼šéé™åºæ’åˆ—ï¼š$$ï¼Œæ»¡è¶³$a_1'\\leq a_2'\\leq...\\leq a_n'$ 2.1 Insert Sort ç¨‹åºï¼š void insertSort(vector& vec) { for (int i = 2; i 0 && vec[j] > key) { vec[j+1] = vec[j]; // åç§»æ“ä½œ j--; } vec[j+1] = key; } } æ³¨æ„åç§»æ“ä½œï¼šA[j+1] = A[j] è‹¥ä½ç½®0å¤„æ•°å­—ä¸ºè´Ÿæ— ç©·ï¼Œé‚£ä¹ˆwhileå¾ªç¯ä¸­å°†ä¸ç”¨å†™æ¡ä»¶j>0ã€‚ 2.2 Analysis of algorithms 2.2.1 è¿è¡Œæ—¶é—´ Running Timeï¼š æ•°æ®çš„åˆå§‹ç‰¹å¾ æ•°æ®è§„æ¨¡ we seek upper bounds on the running time Kinds of Analysisï¼š Worst - caseï¼ˆusually æœ€åæƒ…å†µæœ€ä¼˜å…ˆè€ƒè™‘ï¼‰ Average - caseï¼ˆsometimesï¼‰ Best - caseï¼ˆbogusï¼‰ 2.2.2 loop-invariant Proving correctness using loop-invariantï¼šæœ€å¤–å±‚å¿…é¡»æ˜¯å¾ªç¯ï¼Œè¯æ˜æŸä¸€æ€§è´¨æ¯ä¸€æ¬¡å¾ªç¯éƒ½ä¸å˜ éœ€è¦è¯æ˜çš„ä¸‰ä¸ªæ€§è´¨ åˆå§‹åŒ–ï¼šä»–åœ¨å¾ªç¯çš„ç¬¬ä¸€è½®è¿­ä»£å¼€å§‹å‰ï¼Œåº”è¯¥æ˜¯æ­£ç¡®çš„ ä¿æŒï¼šå¦‚æœåœ¨æŸä¸€æ¬¡çš„è¿­ä»£å¼€å§‹å‰æ˜¯æ­£ç¡®çš„ï¼Œé‚£ä¹ˆåœ¨ä¸‹ä¸€æ¬¡çš„è¿­ä»£å¼€å§‹å‰ä»–ä¹Ÿåº”è¯¥ä¿æŒæ­£ç¡® ç»ˆæ­¢ï¼šå¾ªç¯ç»“æŸæ—¶ï¼Œä¸å˜å¼ç»™äº†ä¸€ä¸ªæœ‰ç”¨çš„æ€§è´¨ï¼Œè¡¨æ˜ç®—æ³•æ˜¯æ­£ç¡®çš„ ä½¿ç”¨å¾ªç¯ä¸å˜å¼è¯æ˜æ’å…¥æ’åº è¯æ˜ï¼šåœ¨æ¯æ¬¡è¿­ä»£å¼€å§‹å‰å­æ•°ç»„A[1...j-1]ä¸­å…ƒç´ ä¸ºåŸæ•°ç»„ä¸­çš„A[1...j-1]ï¼Œä½†æ˜¯æ˜¯æœ‰åºçš„ åˆå§‹åŒ– j = 2 ä¿æŒï¼šA[j - 1], A[j - 2],â€¦ are moved one at a time till the proper position for A[j] is found. ç»“æŸï¼šå½“j=n+1æ—¶ï¼Œæ•´ä¸ªåºåˆ—æœ‰åº 2.2.3 æœºå™¨ç‹¬ç«‹æ—¶é—´ machine independent time relative timeï¼šåœ¨ç›¸åŒçš„æœºå™¨ä¸Šâ€”â€”å…³æ³¨ç®—æ³• absolute timeï¼šåœ¨ä¸åŒçš„æœºå™¨ä¸Š å¿½ç•¥æœºå™¨ç›¸å…³çš„çº¦æŸï¼Œç›´æ¥è€ƒè™‘ $n\\rightarrow \\infty$æ—¶çš„$T(n)$ â€”â€” æ¸è¿‘åˆ†æ Asymptotic Analysis 2.2.4 $\\Theta-Notation$ ï¼ˆ1ï¼‰å®šä¹‰ $\\Theta$è¡¨ç¤ºæ³•çš„å®šä¹‰ï¼š æ•°å­¦å®šä¹‰ï¼š$\\Theta(g(n)) = {å­˜åœ¨æ­£æ•´æ•°c_1å’Œc_2ï¼Œå¹¶ä¸”n_0>0ï¼Œæ»¡è¶³å½“æ‰€æœ‰çš„n\\geq n_0æ—¶ï¼Œ0\\leq c_1g(n)\\leq f(n)\\leq c_2g(n)}$ å·¥ç¨‹ä¸Šï¼šå…³å¿ƒå¢é•¿ç‡ï¼Œä½é˜¶å’Œå¸¸æ•°é¡¹ä¸¢å¼ƒ Exampleï¼š$3n^3 + 9n^2-5n+8344 = \\Theta(n^3)$ ï¼ˆ2ï¼‰Asyptotic Performance å½“nå˜å¾—è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œä¸€ä¸ª$\\Theta(n^2)$çš„ç®—æ³•ä¸€å®šæ¯”ä¸€ä¸ª$\\theta(n^3)$çš„ç®—æ³•è¦å¥½ 2.2.5 Insertion sort analysis æœ€å·®æƒ…å†µï¼šè¾“å…¥æ˜¯é€†åºçš„â€”â€”æ¯ä¸ªæ•°éƒ½è¦å‰ç§» T(n) = \\sum_{j=2..n}\\Theta(j)=\\Theta(n^2) å¹³å‡æƒ…å†µï¼š T(n) = \\sum_{j=2..n}\\Theta(j/2)=\\Theta(n^2) 2.3 ç®—æ³•åˆ†æçš„å…¥é—¨ 2.3.1 ç®—æ³•åˆ†æçš„æ¦‚å¿µ ç®—æ³•åˆ†ææŒ‡çš„æ˜¯å¯¹ä¸€ä¸ªç®—æ³•æ‰€éœ€çš„èµ„æºè¿›è¡Œåˆ†æï¼Œå†…å­˜ï¼Œé€šä¿¡å¸¦å®½æˆ–è€…è®¡ç®—æœºç¡¬ä»¶æ˜¯ä¸»è¦å…³å¿ƒçš„ï¼Œä½†é€šå¸¸å¸Œæœ›æµ‹é‡è®¡ç®—æ—¶é—´ã€‚ åœ¨æˆ‘ä»¬åˆ†æç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»æœ‰ä¸€ä¸ªå°†è¦ä½¿ç”¨çš„å®ç°æŠ€æœ¯çš„æ¨¡å‹ï¼ŒåŒ…æ‹¬è¯¥æŠ€æœ¯çš„èµ„æºåŠå…¶æˆæœ¬çš„æ¨¡å‹ ç®—æ³•å®ç°çš„æŠ€æœ¯æ¨¡å‹ï¼šå•å¤„ç†å™¨ï¼Œéšæœºå­˜å‚¨æ¨¡å‹[RAM] 2.3.2 Random Access Model ä¸è€ƒè™‘å¹¶å‘ ä¸è€ƒè™‘ä¸­æ–­ï¼ŒåŸå­æ“ä½œ å‡è®¾æ¯æ¡æŒ‡ä»¤èŠ±è´¹å¸¸æ•°æ—¶é—´ å†…å­˜è¶³å¤Ÿå¤§ â€¦â€¦ åœ¨RAMæ¨¡å‹ä¸‹ï¼Œéœ€è¦è€ƒè™‘çš„æ˜¯åŸºæœ¬æ“ä½œçš„æ¬¡æ•° counting fundamental operations 2.3.3 Analysis of insert operation $cost$ï¼šæ¯æ¬¡åŸºæœ¬æ“ä½œèŠ±è´¹çš„ä»£ä»· $t_j$ï¼šå‡è®¾ç¬¬$j$æ¬¡è¿­ä»£éœ€è¦æ£€æŸ¥$while$å¾ªç¯æ¡ä»¶çš„æ¬¡æ•°ä¸º$t_j$ T(n) = c_1n+c_2(n-1) + c_4(n-1) +c_5\\sum_{j=2}^n t_j+c_6\\sum_{j=2}^n (t_j-1)+c_7\\sum_{j=2}^n (t_j-1)+c_8(n-1) best-caseï¼šæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œ$t_j=1$æ£€æŸ¥ä¸€æ¬¡whileï¼Œä¸éœ€è¦åç§» T(n) = c_1n+c_2(n-1) + c_4(n-1) +c_5(n-1)+c_8(n-1) = (c_1+c_2+c_4+c_5+c_8)n -(c_2+c_4+c_5+c_8) å³ï¼Œæœ€å¥½æƒ…å†µä¸‹æ’å…¥æ’åºå¼€é”€ä¸ºçº¿æ€§å¼€é”€ã€‚ worest-caseï¼šæ•°ç»„æ˜¯é€†åºçš„ï¼Œé‚£ä¹ˆ$t_j = j$ï¼ˆ$i=0$ä¹Ÿä¼šæ£€æŸ¥ï¼‰ \\begin{aligned} T(n)=& c_{1} n+c_{2}(n-1)+c_{4}(n-1)+c_{5}(n(n+1) / 2-1)+c_{6}(n(n-1) / 2) \\\\ & c_{7}(n(n-1) / 2)+c_{8}(n-1) \\\\ =&\\left(c_{5} / 2+c_{6} / 2+c_{7} / 2\\right) n^{2} \\\\ &+\\left(c_{1}+c_{2}+c_{4}+c_{5} / 2-c_{6} / 2-c_{7} / 2+c_{8}\\right) n-\\left(c_{2}+c_{4}+c_{5}+c_{8}\\right) \\end{aligned} è¿è¡Œæ—¶é—´æ˜¯å¹³æ–¹çº§å¼€é”€ã€‚ åœ¨ä¸€äº›ç®—æ³•ä¸­ï¼Œæœ€åæƒ…å†µç»å¸¸å‘ç”Ÿï¼Œæ¯”å¦‚æŸ¥è¯¢æ•°æ®åº“ æœ‰æ—¶å€™å¹³å‡æƒ…å†µå’Œæœ€å·®æƒ…å†µä¸€æ ·ç³Ÿç³• Order of Growth å¿½ç•¥ä½é˜¶é¡¹ å¿½ç•¥å¸¸æ•°é¡¹ 2.4 Designing Algorithms Insert Sortï¼šå¢é‡æ³• 2.4.1 Divide-and-Conquer To solve P: Divide P into smaller problems P1 , P2 , â€¦, Pk . Conquer by solving the (smaller) subproblems recursively. Combine the solutions to P1 , P2 , â€¦, Pk into the solution for P. noteï¼šè§£å†³é—®é¢˜å‰æƒ³ä¸€æƒ³ï¼šè¯¥é—®é¢˜éš¾ä»¥è§£å†³æ˜¯å¦æ˜¯å› ä¸ºè§„æ¨¡å¤ªå¤§äº†ï¼Œè‹¥æ˜¯è§„æ¨¡è¶³å¤Ÿå°ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥è§£å†³ 2.4.2 Merge Sort ä½¿ç”¨åˆ†æ²»ç­–ç•¥ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ†æå½’å¹¶æ’åºã€‚ Divideï¼šæŠŠnä¸ªå…ƒç´ åˆ†æˆä¸¤ä¸ªå­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—æœ‰$n/2$ä¸ªå…ƒç´  Conquerï¼šé€’å½’æ±‚è§£ä¸¤ä¸ªå­é—®é¢˜ Solve the two subsequences recursively Combineï¼šåˆå¹¶ä¸¤ä¸ªå­åºåˆ—ï¼Œå¾—åˆ°æœ‰åºçš„ç»“æœ ï¼ˆ1ï¼‰Merge-Sortå‡½æ•° å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªMerge(A,p,q,r)å‡½æ•°ï¼Œä»–æŠŠä¸¤ä¸ªæœ‰åºçš„æ•°ç»„A[pâ€¦â€¦q]å’ŒA[q+1â€¦â€¦r]åˆå¹¶ Merge-Sort è¾“å…¥ï¼šéœ€è¦æ’åºçš„nä¸ªæ•°åºåˆ—A è¾“å‡ºï¼šæœ‰åºåºåˆ— #include #include #include using namespace std; void Merge_Sort(vector& vec, int start, int end); // åˆ†æ²»ç®—æ³•ä¸»ä½“ void Merge(vector& A, int start, int mid, int end); // åˆå¹¶çš„è¿‡ç¨‹ï¼Œé‡ç‚¹åœ¨åˆå¹¶ void printVec(vector& vec); int main() { vector nums = {8,5,9,10,3,6,2,7}; Merge_Sort(nums, 0, nums.size()-1); printVec(nums); return 0; } void Merge_Sort(vector& vec, int start, int end) { if (start & A, int start, int mid, int end) { int n1 = mid - start + 1; // æ•°ç»„1ä¸ªæ•° int n2 = end - (mid + 1) + 1; // æ•°ç»„2å…ƒç´ ä¸ªæ•° vector vec1(n1+1), vec2(n2+1); // ä¸´æ—¶æ•°ç»„åˆå§‹åŒ– // æ•°ç»„æœ«å°¾è®¾ä¸ºæ— ç©·å¤§ç®€åŒ–äº†æ‰«å°¾å·¥ä½œ vec1[n1] = 99999; vec2[n2] = 99999; // æ•°ç»„èµ‹å€¼ for (int i = start; i & vec) { for (int i = 0; i æ³¨æ„åˆ†æ²»æ—¶é‡‡å–è‡ªä¸Šè€Œä¸‹çš„é€’å½’å¤„ç†æ—¶ï¼Œæ¯ä¸ªåˆ†æ”¯æ‰§è¡Œçš„é¡ºåºï¼Œå¦‚ä¸‹ï¼š 2.4.3 Analysis divide-and-conquer Algorithm ï¼ˆ1ï¼‰ç¬¦å·å®šä¹‰ $T(n)$ï¼š$\\text{running time on a problem of size n}$ï¼Œ é—®é¢˜çš„è¿è¡Œæ—¶é—´ï¼Œnä¸ºé—®é¢˜è§„æ¨¡ $D(n)$ï¼šåˆ†è§£çš„æ—¶é—´å¼€é”€ $C(n)$ï¼šåˆå¹¶çš„å¼€é”€ $å­é—®é¢˜\\rightarrow åŸé—®é¢˜$ ç»Ÿä¸€æ¨¡å¼ï¼š T(n)=\\begin{cases}\\Theta(1)&& if\\ n\\leq c\\\\ D(n) + aT(n/b) + C(n)&& otherwise\\end{cases} å½“é—®é¢˜è§„æ¨¡è¶³å¤Ÿå°æ—¶ï¼Œä¸éœ€è¦åˆ†æ²»ã€‚ å¦åˆ™é€’å½’æ±‚è§£ ï¼ˆ2ï¼‰MergeSort Analysis T(n)=\\begin{cases}\\Theta(1)&& if\\ n\\leq c\\\\ 2T(n/2) + C(n)=2T(n/2) + \\Theta(n)&& otherwise\\end{cases} åœ¨å½’å¹¶æ’åºä¸­ï¼Œåˆ†è§£æ—¶åˆ†è§£ä¸º2ä¸ªå­é—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜çš„è§„æ¨¡æ˜¯åŸæ¥çš„$n/2$ã€‚ Claimï¼š$T(n) = nlog2^n$ï¼Œæ‰€æœ‰æƒ…å†µä¸‹å‡ä¸º$nlgn$ã€å¹³å‡ã€æœ€å¥½ã€æœ€åã€‘ è¯æ˜ï¼š é€’å½’åˆ°ä½•æ—¶ç»ˆæ­¢ï¼Ÿ$n/x == 1$æ—¶ç»ˆæ­¢ï¼Œæ¬¡æ•°ï¼šé™¤æ³•$log_2^n$ï¼Œæ ‘é«˜$log_2^n+1$ T(n) = cnÂ·lg^n + c'n ä»£å…¥æ³•è¯æ˜ Proof by Telescoping T(n) =2T(n/2) + n\\\\ =2(2T(n/4)+n/2) +n=4T(n/4)+2n\\\\ =4(2T(n/8) + n/4) + 2n = 8T(n/8) + 3n\\\\ =â€¦â€¦\\\\=nT(n/2^k) + kn\\\\=â€¦â€¦\\\\ =nT(n/2^{lgn}) + nlgn æ•°å­¦å½’çº³æ³•è¯æ˜ T(n) = nlgn var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH3ï¼šGrowth_of_Functions.html":{"url":"ç®—æ³•/CH3ï¼šGrowth_of_Functions.html","title":"CH3ï¼šGrowth of Functions","keywords":"","body":"CH3ï¼šGrowth of Functions Topicsï¼š Growth of Functions O/\\Theta/\\Omega notations Asymptotic Growthï¼š We want to express rate of growth of standard functions: the leading term with respect to n ã€ç¬¬ä¸€é¡¹ã€‘ ignoring constants in front of it ã€å¿½ç•¥å¸¸æ•°é¡¹ã€‘ 3.1 Asymptotic Notation 3.1.1 O-notation O(g(n)) = {f(n) ï¼šThere exist positive constants c and n_0 such that 0â‰¤f(n) â‰¤cg(n) for all $nâ‰¥n_0$} O(.) ç”¨æ¥æ¸è¿‘è¡¨ç¤ºè®¡ç®—æ—¶é—´çš„ä¸Šå±Š â€”â€” ã€æœ€åæƒ…å†µã€‘ O(.) is used to bound worest-case running time å°†f(n)ç”¨ç®€æ´çš„O(.)æ¥è¡¨ç¤º ä»»ä½•ä¸€ä¸ªäºŒæ¬¡å¤šé¡¹å¼éƒ½æ˜¯$O(n^2)$ Noteï¼š When we say \"the running time is O(n)\"ï¼šthe worest case running time is O(n) We often write f(n) = O(g(n)), instead of f(n) âˆˆ O(g(n)) Use O(n) in equationsï¼š2n^2+3n+1 = 2n^2+O(n) 3.1.2 $\\Omega-notation$ \\Omega(g(n)) = \\{\\text{There exist positive constants c and n0 such that 0=n0}\\} ã€å¤§äºgï¼ˆnï¼‰çš„æ•´æ•°å€ã€‘ \\Omega-notationç”¨äºç»™å‡ºå‡½æ•°çš„ä¸‹ç•Œ ä»»ä½•ä¸€ä¸ªäºŒæ¬¡å¤šé¡¹å¼éƒ½æ˜¯\\Omega(n^2)çš„ã€‚ 3.1.3 \\Theta-notation \\Theta(g(n)) = \\{\\text{There exist positive constants c and n0 such that } 0\\leq c_1g(n)\\leq f(n)\\leq c_2g(n)\\ \\text{for all n>=n0}\\} \\Theta(g(n))æä¾›äº†å‡½æ•°çš„ä¸€ä¸ªtight bound ç´§è‡´ç•Œ $f(n) = \\Theta(g(n))$å½“ä¸”ä»…å½“f(n) = O(g(n))å¹¶ä¸”f(n) =\\Omega(g(n)) åªè¦æœ€é«˜æ¬¡é¡¹ï¼Œé‚£å°±æ˜¯$\\Theta(.)$ Noteï¼š We often think of f(n) = O(g(n)) as corresponding to f(n)â‰¤ g(n) f(n) = \\Theta(g(n)) corresponds to f(n) = g(n) f(n) = \\Omega(g(n)) corresponds to f(n) â‰¥ g(n) Exampleï¼š 4n^3 + 3n^2 + 2n + 1 = 4n^3 + 3n^2 + Î˜(n)= 4n^3 + Î˜(n^2) = Î˜(n^3) var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH3ï¼šGrowth_of_Functions_review.html":{"url":"ç®—æ³•/CH3ï¼šGrowth_of_Functions_review.html","title":"CH3ï¼šGrowth of Functions_review","keywords":"","body":"CH3ï¼šGrowth of Functions MindMap Asymptotic Growth åˆ†æç®—æ³•æ—¶æˆ‘ä»¬å¯¹ç®—æ³•è¾“å…¥è§„æ¨¡ä¸ºnæ—¶çš„æœ€åæƒ…å†µä¸‹è¿è¡Œæ—¶é—´å‡½æ•°æ„Ÿå…´è¶£ ä¸è€ƒè™‘å¸¸æ•°é¡¹ ä¸è€ƒè™‘ä½é˜¶é¡¹ 3.1 Asymptotic Notation 3.1.1 O-Notation ï¼ˆ1ï¼‰å®šä¹‰ O(g(n)) = \\{f(n):\\text{There exists positive c and }n_0\\text{ such that } 0\\leq f(n)\\leq cg(n)\\text{ for all }n\\geq n_0\\} æ­£æ•´æ•°c æ­£æ•´æ•°n0 g(n)æ˜¯æœ€é«˜æ¬¡é¡¹ existsï¼šå­˜åœ¨å³å¯ **$O(g(n))$æ˜¯ä¸€ä¸ªæ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„è¿è¡Œæ—¶é—´å‡½æ•°çš„é›†åˆ** $O(.)$ï¼šç”¨äºæ¸è¿›ä¸Šç•Œå‡½æ•° $\\text{is used to asymptotic upper bound a function}$ $O(.)$ï¼šç”¨æ¥è¡¨ç¤ºæœ€åæƒ…å†µçš„è¿è¡Œæ—¶é—´$\\text{is used to bound worst-case running time}$ ï¼ˆ2ï¼‰Example ï¼ˆ3ï¼‰ä½¿ç”¨æƒ…å†µ å½“æˆ‘ä»¬è¯´é“â€œè¿è¡Œæ—¶é—´æ˜¯O(n)â€æ—¶ï¼Œæˆ‘ä»¬æŒ‡çš„æ˜¯æœ€åæƒ…å†µä¸‹çš„è¿è¡Œæ—¶é—´æ˜¯O(n) é€šå¸¸å†™ä¸ºï¼š$f(n) = O(g(n))$ï¼Œè€Œä¸æ˜¯$f(n)\\in O(g(n))$â€”â€”è™½ç„¶æ˜¯ä¸ªé›†åˆ æˆ‘ä»¬ä¹Ÿåœ¨ç­‰å¼ä¸­ä½¿ç”¨$O(n)$ï¼Œä¾‹å­ï¼š 2n^2+3n +1 = 2n^2 +O(n) $O(1)$è¡¨ç¤ºå¸¸æ•°æ—¶é—´ 3.1.2 $\\Omega-Notation$ ï¼ˆ1ï¼‰å®šä¹‰ \\Omega(g(n)) = \\{f(n):\\text{There exists positive c and }n_0\\text{ such that } 0\\leq cg(n)\\leq f(n) \\text{ for all }n\\geq n_0\\} æˆ‘ä»¬ä½¿ç”¨$\\Omega(.)$æ¥è¡¨ç¤ºè¿è¡Œæ—¶é—´çš„ä¸‹ç•Œ ï¼ˆ2ï¼‰Example when we say â€œthe running time is $Î©(n^2 )$â€ we mean that the best-case running time is $Î©(n^2)$ â€”â€”the worst case might be worse. 3.1.3 $\\Theta-Notation$ ï¼ˆ1ï¼‰å®šä¹‰ \\Theta(g(n)) = \\{f(n):\\text{There exists positive }c_1ï¼Œc_2\\text{ and }n_0\\text{ such that } 0\\leq c_1g(n)\\leq f(n)\\leq c_2g(n) \\text{ for all }n\\geq n_0\\} æˆ‘ä»¬ä½¿ç”¨$\\Theta-Notation$æ¥è¡¨ç¤ºç´§è‡´ç•Œ å……è¦æ¡ä»¶ï¼š$f(n) = Î˜(g(n))\\ if\\ and\\ only\\ if\\ f(n) =O(g(n))\\ \\ and\\ \\ f(n) = Î©(g(n))$ ï¼ˆ2ï¼‰Example 3.1.4 æ€»ç»“ ï¼ˆ1ï¼‰è¡¨ç¤ºæ³• ï¼ˆ2ï¼‰åœ¨ç­‰å¼ä¸­çš„ä½¿ç”¨ ä½¿ç”¨$Oã€\\Thetaã€\\Omega$åœ¨å‡½æ•°ä¸­æ›¿æ¢ä½é˜¶é¡¹ç®€åŒ–å‡½æ•°è¡¨è¾¾ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH4ï¼šRecurrences.html":{"url":"ç®—æ³•/CH4ï¼šRecurrences.html","title":"CH4ï¼šRecurrences","keywords":"","body":"CH4ï¼šRecurrences MindMap Reviewï¼š MergeSort åˆ†æMergeSortçš„æ—¶é—´å¤æ‚åº¦ é€’å½’æ ‘ Picture of Recursion Tree è¿­ä»£æ³• Telescoping æ•°å­¦å½’çº³æ³• Mathematical Induction æ¸è¿‘åˆ†æ $O-Notation$ $\\Omega-Notation$ $\\Theta-Notation$ ç®—æ³•åŒ…å«å¯¹è‡ªèº«çš„è°ƒç”¨æ—¶ï¼Œå…¶è¿è¡Œæ—¶é—´å¯ä»¥ç”¨é€’å½’å¼è¡¨ç¤ºï¼š $MergeSortï¼šT(n) = aT(n/b) +D(n) +C(n) = 2T(n/2) + O(n)$ 3ç§æ±‚è§£é€’å½’å‡½æ•°çš„æ–¹æ³•ï¼š ä»£æ¢æ³•-------------Substitution é€’å½’æ ‘æ³•----------Recursion Tree ä¸»æ–¹æ³•-------------Master Method 4.1 Substitution Method ä»£æ¢æ³• ï¼ˆ1ï¼‰æ­¥éª¤ æ­¥éª¤ï¼š çŒœæµ‹ä¸€ä¸ªè§£çš„å½¢å¼ Guess the form of solution ä½¿ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜ Verify by induction æ±‚è§£å¸¸æ•°é¡¹ Solve for constants ï¼ˆ2ï¼‰ä¾‹å­ Example1ï¼š$T(n) = 4T(n/2) + 100n$ çŒœæµ‹ï¼š$O(n^3)$ï¼ˆå¦‚æœè¦è¯æ˜$\\Theta$çš„è¯ï¼Œé‚£ä¹ˆè¦åˆ†åˆ«è¯æ˜Oå’Œ$\\Omega$ï¼‰ å½’çº³åŸºç¡€ï¼š$T(1) = \\Theta(1)$ å½’çº³å‡è®¾ï¼š$T(k) \\leq ck^3 $åœ¨$k ä½¿ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜ï¼š$T(n) \\leq cn^3$ è¯æ˜ï¼š \\begin{aligned} \\mathrm{T}(\\mathrm{n}) &=4 \\mathrm{~T}(\\mathrm{n} / 2)+100 n \\\\ & \\leq 4 \\mathrm{c}(\\mathrm{n} / 2)^{3}+100 n \\\\ &=(\\mathrm{c} / 2) n^{3}+100 n \\\\ &=\\mathrm{cn}^{3}-\\left((\\mathrm{c} / 2) n^{3}-100 n\\right)\\\\ &\\leq\\mathrm{cn}^{3} \\end{aligned} æœ€åç¡®å®šcå’Œnçš„å€¼å³å¯ï¼š Example2ï¼š$T(n) = 2T(\\lfloor n/2\\rfloor) + n$ è¦ä¸¥æ ¼éµå®ˆè¯æ˜çš„ç»“æœçš„æ¨¡å¼ï¼Œä¸‹é¢çš„è¯æ˜æ˜¯é”™è¯¯çš„ï¼š Example3ï¼šå°è¯•å˜é‡æ›¿æ¢ è€ƒè™‘ï¼š$T(n) = 2T(\\sqrt{n}) + lgn$ Renameï¼š$m = lgn\\Rightarrow T(2^m) = 2T(2^{\\frac{m}{2}})+m$ ä»¤$S(m) = T(2^m)$ï¼Œåˆ™æœ‰ï¼š$S(m) = 2S(m/2) + m$ è®¾å½“$m_0\\leq m$æ—¶æœ‰ï¼š$S(m_0)\\leq cm_0lgm_0$ S(m) = 2S(m/2) + m\\\\ \\leq 2c(m/2)lg(m/2) + m\\\\ =cmlg(m/2)+m\\\\=cmlgm-cm + m\\\\ =cmlgm-(c-1)m\\\\=O(mlgm) è½¬æ¢å›æ¥ $T(2^m) = S(m) = O(mlgm)$ $T(m) = O(lgmlgm)$ $T(n) = O(lgnlglgn)$ ï¼ˆ3ï¼‰çŒœæµ‹æ–¹æ³• ä½¿ç”¨ä»£æ¢æ³•çš„ä¸€ä¸ªé‡è¦æŠ€å·§æ˜¯è¦çŒœæµ‹ çŒœæµ‹çš„æ–¹å¼ï¼š é€’å½’æ ‘çš„æ–¹æ³•å¸®åŠ©çŒœæµ‹ ä¸å…ˆå‰è§è¿‡çš„ç›¸ä¼¼ å…ˆæ•´è¾ƒæ¾çš„ä¸Šå±Šç„¶åç¼©å°åŒºé—´ é™ä½ä¸Šå±Šï¼Œæé«˜ä¸‹ç•Œï¼Œç¼©å°ä¸ç¡®å®šåŒºé—´ 4.2 Recursion-tree Method é€’å½’æ ‘æ˜¯ä¸€ä¸ªå¥½çš„çŒœæµ‹çš„ç›´æ¥æ–¹æ³• é€’å½’æ ‘æ–¹æ³•å¯èƒ½ä¸å¯é ï¼Œå°±åƒä»»ä½•ä½¿ç”¨çœç•¥å·çš„æ–¹æ³•ä¸€æ · 4.2.1 ä¾‹å­è¯´æ˜ $T(n) = 3T(n/4) + \\Theta(n^2)$ ï¼ˆ1ï¼‰é€’å½’æ ‘çŒœæµ‹ä¸Šç•Œ æœ€åä¸€å±‚å¶å­æ•°ï¼š$3^{log_4^n} = n^{log_4^3}$ æ¯å±‚å¼€é”€ï¼š$((\\frac{3}{16})^icn^2)$ æ€»å¼€é”€ï¼š$cn^2 + (\\frac{3}{16})cn^2+(\\frac{3}{16})^2cn^2+......+(\\frac{3}{16})^{log_4^n-1}cn^2 + O(n^{log_4^3})=\\frac{1\\times (1-(\\frac{3}{16})^{log_4^n+1})}{1-\\frac{3}{16}}+O(n^{log_4^3})$ ä½¿ç”¨ç­‰æ¯”æ•°åˆ—çš„ä¸Šç•Œä½œä¸ºä¸Šé™ï¼š cn^2\\sum_{i=0}^{log_4^n-1}(\\frac{3}{16})^i = \\frac{cn^2}{1-\\frac{3}{16}}=\\frac{13}{16}cn^2 æ‰€ä»¥ï¼š T(n) =cn^2 + (\\frac{3}{16})cn^2+(\\frac{3}{16})^2cn^2+......+(\\frac{3}{16})^{log_4^n-1}cn^2 + O(n^{log_4^3})=\\frac{1\\times (1-(\\frac{3}{16})^{log_4^n+1})}{1-\\frac{3}{16}}+O(n^{log_4^3})\\\\ \\leq \\frac{13}{16}cn^2 +O(n^{log_4^3}) = O(n^2) ï¼ˆ2ï¼‰è¿­ä»£æ³•è¯æ˜ é€’å½’åŸºç¡€ï¼š$T(1) = O(1)$ å½’çº³å‡è®¾ï¼š$T(k) \\leq ck^2ï¼Œå½“k è¯æ˜ï¼š$T(n) \\leq cn^2$ T(n) = 3T(n/4) + d(n^2)\\\\ \\leq 3c(n/4)^2 + d(n^2)\\\\ =\\frac{3}{16}cn^2 + d(n^2)\\\\ \\leq cn^2 å½“$d\\geq \\frac{16}{13}c$æ—¶æˆç«‹ã€‚ 4.3 Master Method â€œcook bookâ€ Method for solving recurrences of the form: T(n) = aT(n/b) + f(n)\\\\ å…¶ä¸­a \\geq 1 , b >1 å¶å­çš„ä¸ªæ•°ï¼š$a^h = a^{log_b^n} = n^{log_b^a}$ æ¯”è¾ƒæ ‘æ ¹$f(n)$å’Œ$n^{log_b^a}$ ä¸‰ç§æƒ…å†µï¼š ç”±æ ¹åˆ°å¶å­\\begin{cases}å‡å°‘\\\\ä¸å˜\\\\å¢å¤§\\end{cases} 4.3.1 Compare f(n) with $n^{log_b^a}$ ï¼ˆ1ï¼‰$f(n) = O(n^{log_{b}^{a}-\\epsilon})$ å¶å­å¼€é”€ä¸¥æ ¼å¤§äºæ ‘æ ¹ $f(n)$å¤šé¡¹å¼å¢é•¿æ…¢äº$n^{log_b^a}(by\\ an\\ n^{\\epsilon}\\ factor)$ $Solution:T(n) = \\Theta(n^{log_b^a})$ æ³¨æ„æ˜¯$\\Theta$ ï¼ˆ2ï¼‰$f(n) = O(n^{log_{b}^{a}}(lgn)^k)$ æ ‘æ ¹å¼€é”€ä¸ºå¶å­å¼€é”€çš„$lgn$çš„$k$æ¬¡æ–¹å€ å…¶ä¸­$k\\geq 0$ï¼Œæ•´æ•° $Solution:T(n) = \\Theta(n^{log_b^a}lgn^{k+1})$æœ€ç»ˆç»“æœå¤šä¹˜ä»¥ä¸€ä¸ªæ ‘é«˜çš„kæ¬¡æ–¹ ï¼ˆ3ï¼‰$f(n) = O(n^{log_{b}^{a}+\\epsilon})$ å¶å­å¼€é”€å°äºæ ‘æ ¹å¼€é”€ éœ€è¦é¢å¤–æ»¡è¶³$af(n/b)\\leq cf(n)$ $T(n)=\\Theta(f(n))$æ ‘æ ¹é‡çº§ 4.3.2 Conclusion ï¼ˆ1ï¼‰æ–¹æ³•æ€»ç»“ æ ‘æ ¹å’Œå¶å­æ¯”è¾ƒï¼ŒåŒæ—¶è¦æ³¨æ„ä»€ä¹ˆæ—¶å€™å†™$O$ï¼Œä»€ä¹ˆæ—¶å€™å†™$\\Omega$ï¼Œä»€ä¹ˆæ—¶å€™ ä¾‹é¢˜ï¼š Example1 T(n) = 9T(n/3) + n $f(n) = n = O(n^{log_b^{a}-\\epsilon})= n^{2-\\epsilon}$ï¼Œå…¶ä¸­$\\epsilon = 1$ æ‰€ä»¥$T(n) = \\Theta(n^2)$ Example2 T(n) = T(2n/3) + 1 $f(n) = 1 = \\Theta(n^{log_{\\frac{3}{2}}^1}lg^kn)$ï¼Œå…¶ä¸­$k=1$ æ‰€ä»¥$T(n) = \\Theta(lgn)$ Example3 T(n) = 3T(n/4) +nlgn $f(n) = nlgn = \\Omega(n^{log_4^3}+\\epsilon)$ï¼Œå…¶ä¸­$\\epsilon â‰ˆ 0.2$ ä¸”$af(n/b) = 3f(n/4) = 3\\frac{n}{4}lg{\\frac{n}{4}}=\\frac{3n}{4}(lgn-2)\\leq cnlgn$ å½“$c = \\frac{3}{4}, n\\geq 1$æ—¶æˆç«‹ã€‚ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH6ï¼šHeapSort.html":{"url":"ç®—æ³•/CH6ï¼šHeapSort.html","title":"CH6ï¼šHeapSort","keywords":"","body":"CH6ï¼šHeapSort MindMap Topicsï¼š Heaps HeapSort Priority queue Recap and Overview å¼ºè°ƒç¨³å®šæ€§æ—¶å¤šå…³æ³¨çš„æ˜¯å¤šå…³é”®å­—æ’åºã€‚ æ’å…¥æ’åº æ—¶é—´å¤æ‚åº¦æ˜¯$O(n^2)$ï¼ŒåŸåœ°æ’åº å½’å¹¶æ’åº æ—¶é—´å¤æ‚åº¦æ˜¯$O(nlgn)$ï¼Œéœ€è¦è¾…åŠ©å­˜å‚¨ç©ºé—´ å †æ’åº æ—¶é—´å¤æ‚åº¦æ˜¯$\\Theta(nlgn)$ï¼ŒåŸåœ°æ’åº å¿«æ’ å¹³å‡æƒ…å†µçš„æ—¶é—´å¤æ‚åº¦æ˜¯$O(nlgn)$ï¼ŒåŸåœ°æ’åº çº¿æ€§æ—¶é—´çš„æ’åº 6.1 Heap 6.1.1 å †å­˜å‚¨å’Œå †æ•°æ®ç»“æ„ ï¼ˆ1ï¼‰å †å†…å­˜çš„ä½¿ç”¨ å †çš„ä½¿ç”¨ï¼š å†…å­˜çš„åˆ†ç±» \\begin{cases}æ ˆå†…å­˜ï¼šå±€éƒ¨å˜é‡ï¼Œæ–¹æ³•å’Œå‡½æ•°\\\\ å †å†…å­˜ï¼šmalloc\\ new\\\\ é™æ€æ–¹æ³•åŒºï¼šå…¨å±€å˜é‡\\end{cases} ï¼ˆ2ï¼‰å †æ•°æ®ç»“æ„çš„ä½¿ç”¨ å †æ•°æ®ç»“æ„ï¼š å…ƒç´ æŒ‰ç…§ä¸‹æ ‡ç´¢å¼•â€”â€”å †æ•°æ®ç»“æ„çš„å®ç°æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ æ¯ä¸ªå…ƒç´ æ”¯æŒï¼šPARENTï¼ŒLEFTå’ŒRIGHTæ“ä½œ çˆ¶å­å…³ç³»çš„æ˜ å°„é€»è¾‘ä¸ºï¼š è‹¥æ•°ç»„ä¸‹æ ‡ä»1å¼€å§‹ï¼Œé‚£ä¹ˆçˆ¶å­æ˜ å°„å…³ç³»å‡½æ•°ä¸ºï¼š $PARENT(i) = \\lfloor i/2 \\rfloor$ $LEFT(i) = 2i$ $RIGHT(i) = 2i+1$ è‹¥æ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹ï¼Œé‚£ä¹ˆçˆ¶å­æ˜ å°„å…³ç³»å‡½æ•°ä¸ºï¼š $PARENT(i) = \\lceil i/2 \\rceil -1$ $LEFT(i) = 2i+1$ $RIGHT(i) = 2i+2$ int getParent(int child) { return ceil(child / 2.0) - 1; } int getLeft(int parent) { return parent * 2 + 1; } int getRight(int parent) { return parent * 2 + 2; } å †ä¸­çˆ¶å­çš„å¤§å°å…³ç³» \\begin{cases}å¤§é¡¶å †ï¼šA[PARENT(i)]\\geq A[i]\\\\ å°é¡¶å †ï¼šA[PARENT(i)]\\leq A[i]\\end{cases} å †ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯$A[0]$æˆ–è€…$A[1]$ï¼Œå¯¹åº”ä¸¤ç§ä¸åŒçš„æƒ…å†µ ç»“ç‚¹çš„é«˜åº¦æ˜¯ä»è¯¥ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„æœ€é•¿è·¯å¾„ã€‚ å †çš„é«˜åº¦æ˜¯æ ‘æ ¹çš„é«˜åº¦ã€‚ å¶å­ç»“ç‚¹çš„é«˜åº¦ä¸º0ï¼Œæ ‘æ ¹çš„é«˜åº¦ä¸ºæ ‘çš„é«˜åº¦ã€‚ æœ‰nä¸ªç»“ç‚¹çš„æ ‘çš„é«˜åº¦ä¸º$\\lfloor lgn\\rfloor$ ï¼ˆ3ï¼‰æ—¶é—´å¤æ‚åº¦æ¦‚è¿° MAX-HEAPIFYï¼šä¿è¯å †æ˜¯ä¸€ä¸ªå¤§é¡¶å †ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯$O(lgn)$ Build-Max-Heapï¼šå»ºå †ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯$O(n)$ å †æ’åºï¼šå †æ’åºæ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å»ºæˆä¸€ä¸ªå¤§é¡¶å †ï¼Œç„¶ååå¤æ‰§è¡Œï¼Œå–ä¸‹ç»“ç‚¹åè°ƒç”¨MAX-HEAPIFYçš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯$O(nlgn)$ 6.1.2 å †çš„å»ºç«‹ å»ºå †ä¸¤ç§æ–¹å¼ï¼šé€’å½’å»ºå †å’Œéé€’å½’å»ºå † ï¼ˆ1ï¼‰é€’å½’å»ºå † é€’å½’å»ºå †ä¸‰ä¸ªæ­¥éª¤ï¼šåˆ†ã€æ²»ã€åˆå¹¶ åˆ†ï¼šåˆ†è§£æˆå­æ ‘ æ²»ï¼šé€’å½’å¤„ç†å·¦å­æ ‘å’Œå³å­æ ‘ åˆå¹¶ï¼šMaxHeapify void buildMaxHeap(int parent, vector& vec) { if (parent ï¼ˆ2ï¼‰éé€’å½’å»ºå † éé€’å½’å»ºå †è¿‡ç¨‹é‡‡ç”¨å¾ªç¯çš„å»ºå †æ–¹å¼ï¼Œä»æœ€åä¸€ä¸ªéå¶å­ç»“ç‚¹å¼€å§‹ï¼Œé€æ­¥å»ºå † æœ€åä¸€ä¸ªéå¶å­ç»“ç‚¹çš„ä¸‹æ ‡ï¼š$\\lfloor vec.size()/2\\rfloor$ void buildMaxHeap_iteration(vector& vec) { int last_non_leaf = vec.size() / 2; for (int i = last_non_leaf; i >= 0; i--) { maxHeapify(vec, i); } } ï¼ˆ3ï¼‰åˆå¹¶è¿‡ç¨‹ï¼šMAXHEAPIFY MaxHeapify()æ—¶é—´å¤æ‚åº¦ä¸º$O(h)$ï¼Œå…¶ä¸­$h$æ˜¯æ ‘çš„é«˜åº¦ï¼Œ$h = \\lfloor lgn \\rfloor $ é€’å½’å†™æ³• å†™æˆé€’å½’å¤„ç†çš„å½¢å¼å¦‚ä¸‹ï¼š void maxHeapify(vector& vec, int parent) { int largest = parent; int left = getLeft(parent); int right = getRight(parent); // æ‰¾åˆ°çˆ¶å­ä¹‹é—´æœ€å¤§å€¼çš„ä½ç½® if (left vec[largest]) { // æ³¨æ„çŸ­è·¯åˆ¤å†³ largest = left; } if (right vec[largest]) { // æ³¨æ„çŸ­è·¯åˆ¤å†³ largest = right; } // æ›´æ¢ä½ç½® if (largest != parent) { int temp = vec[largest]; vec[largest] = vec[parent]; vec[parent] = temp; // æ¥ç€maxheapifyå¤„ç†å­æ ‘ maxHeapify(vec, largest); } } å¾ªç¯å†™æ³• ä¸Šè¿°çš„å†™æ³•æ˜¯åœ¨ç»“æŸçš„æ—¶å€™è°ƒç”¨é€’å½’å¤„ç†ï¼Œè¿™ç§å†™æ³•å¾ˆå®¹æ˜“æ”¹æˆå¾ªç¯çš„å½¢å¼ã€‚å¦‚ä¸‹ï¼š void maxHeapify(vector& vec, int parent) { int largest = parent; bool ifChange = true; while(ifChange) { int left = getLeft(parent); int right = getRight(parent); // æ‰¾åˆ°çˆ¶å­ä¹‹é—´æœ€å¤§å€¼çš„ä½ç½® if (left vec[largest]) { // æ³¨æ„çŸ­è·¯åˆ¤å†³ largest = left; } if (right vec[largest]) { // æ³¨æ„çŸ­è·¯åˆ¤å†³ largest = right; } // æ›´æ¢ä½ç½® if (largest != parent) { // éœ€è¦äº¤æ¢ int temp = vec[largest]; vec[largest] = vec[parent]; vec[parent] = temp; ifChange = true; }else{ ifChange = false; } } } ï¼ˆ4ï¼‰è¿è¡Œæ—¶é—´åˆ†æ è‹¥é‡‡å–ç›´æ¥çš„æ–¹å¼åˆ†æè¿è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆæ—¶é—´å°†ä¼šæ˜¯ï¼š T(n) = O(n/2)\\times O(lgn) = O(nlgn) **key observationï¼š** T(n) = 2T(n/2) + O(lgn) $f(n) = lgn = O(n^{log_2^2-\\epsilon})=O(n^{1-\\epsilon})$ æ‰€ä»¥å †æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(n)$ 6.1.3 å †æ’åº å †æ’åºç­–ç•¥ï¼šæ¯æ¬¡å–å‡ºå †é¡¶çš„å…ƒç´ ï¼Œä½¿ç”¨å †ä¸­æœ€åä¸€ä¸ªå…ƒç´ ä¸å †é¡¶å…ƒç´ äº¤æ¢ï¼Œç„¶åè°ƒç”¨MaxHeapify void HeapSort(vector& vec) { int size = vec.size(); // ä»0å¼€å§‹çš„ for (int i = size - 1; i >= 1; i--) { // ä»æœ€åä¸€ä¸ªç»“ç‚¹å¼€å§‹ int temp = vec[i]; vec[i] = vec[0]; vec[0] = temp; size = size - 1; maxHeapify(vec, 0, size); } } æ—¶é—´å¤æ‚åº¦ï¼š$O(nlgn)$ åŸåœ°æ’åº inplace ä¸ç¨³å®šæ’åº 6.2 PriorityQueue 6.2.1 åº”ç”¨ æœ€å¤§å€¼ä¼˜å…ˆé˜Ÿåˆ—çš„åº”ç”¨ï¼š åœ¨å…±äº«è®¡ç®—æœºä¸Šè°ƒåº¦å·¥ä½œ å®ç°ä¼˜å…ˆé˜Ÿåˆ— æœ€å°å€¼ä¼˜å…ˆé˜Ÿåˆ—åº”ç”¨ï¼š è¿ªæ°ç‰¹æ–¯æ‹‰ç®—æ³• Prim æœ€å°ç”Ÿæˆæ ‘ç®—æ³• å“ˆå¤«æ›¼ç¼–ç  6.2.2 ä¼˜å…ˆé˜Ÿåˆ— æ“ä½œï¼š æ’å…¥ä¸€ä¸ªå…ƒç´ Insert(S, x) è·å¾—æœ€å¤§å€¼MAXIMUM(S) å–å‡ºæœ€å¤§å€¼EXTRACT-MAX(S) INCREASE-KEYS(S, x, k) å°†ä½ç½®xçš„å…ƒç´ æ­£å¤§ä¸ºkey ï¼ˆ1ï¼‰è·å¾—æœ€å¤§å…ƒç´  MAXMUM(A) return A[0]; ï¼ˆ2ï¼‰å»é™¤æœ€å¤§å…ƒç´  å…ˆæ£€æŸ¥æº¢å‡º æœ€åä¸€ä¸ªå…ƒç´ ä¸ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢ maxHeapifyè°ƒæ•´ int PriorityQueue::extract_max() { if (vec.size() ï¼ˆ3ï¼‰å¢å¤§å…ƒç´  é¦–å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯å¢å¤§ ä¸€ç›´å’Œçˆ¶äº²æ¢ï¼Œç›´åˆ°çˆ¶äº²çš„å€¼æ›´å¤§ void PriorityQueue::increase_key(int index, int key) { if (key 0 && vec[parent(index)] ï¼ˆ4ï¼‰æ’å…¥å…ƒç´  å †å¤§å°åŠ ä¸€ å°†æœ«å°¾å…ƒç´ è®¾ç½®ä¸ºæ— ç©·å° è°ƒç”¨å¢å¤§å…ƒç´ çš„å‡½æ•°è¿›è¡Œå¤„ç† void PriorityQueue::insert(int key) { // æ”¾åˆ°æœ€å vec.push_back(key); // å‘ä¸Šæ¯”è¾ƒè°ƒæ•´ increase_key(vec.size()-1, key); } var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH7ï¼šQuickSort.html":{"url":"ç®—æ³•/CH7ï¼šQuickSort.html","title":"CH7ï¼šQuickSort","keywords":"","body":"CH7ï¼šQuickSort 7.1 Description of QuickSort 7.1.1 Randomized algorithm éšæœºçš„åº”ç”¨ï¼š QuickSort rand()ï¼šäº§ç”Ÿ0~1ä¹‹é—´éšæœºæ•° ä¸ºä»€ä¹ˆä½¿ç”¨éšæœºï¼Ÿâ€”â€”æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ³• 7.1.2 å¿«æ’çš„æ¦‚è¿° åˆ†æ²»çš„ç»“æœï¼šåˆ†è§£æ—¶åšå¾—å°‘ï¼Œé‚£ä¹ˆåˆå¹¶æ—¶å°±è¦åšçš„å¤šã€‚åä¹‹ï¼Œåˆ†è§£æ—¶åšå¾—å¤šï¼Œé‚£ä¹ˆåˆå¹¶æ—¶åšå¾—å°‘ã€‚ Divideï¼šåˆ©ç”¨pivotå°†æ•°ç»„åˆ†ä¸ºä¸¤åŠï¼Œä¸€åŠæ¯”pivotå¤§ï¼Œä¸€åŠæ¯”pivotå° Conquerï¼šé€’å½’æ±‚è§£å­æ•°ç»„ Combineï¼šTrival 7.1.2.1 Divide and Conquer ï¼ˆ1ï¼‰QuickSort ä¸»ç®—æ³•ï¼šquickSort(A, p, r) ä¸»è¦åšåˆ†æ²»ï¼Œåˆ†è§£é—®é¢˜æ—¶åšè¾ƒå¤šçš„çŸ³å¢™ï¼šæ¯æ¬¡ç¡®å®špivotçš„ä½ç½® pivotä½ç½®ç¡®å®šåï¼Œåˆ†åˆ«é€’å½’æ±‚è§£å·¦è¾¹å’Œå³è¾¹çš„æ•°ç»„ ç®—æ³•ä¸ºåŸåœ°æ’åºï¼Œä¸éœ€è¦åˆå¹¶ void quickSort(vector& vec, int start, int end) { if (start ï¼ˆ2ï¼‰Partition æ³¨æ„içš„åˆå§‹åŒ– æ³¨æ„å„ä¸ªåŒºé—´çš„è¡¨ç¤ºå«ä¹‰ï¼š ç¨‹åºå¦‚ä¸‹ï¼š int partition(vector& vec, int start, int end) { // pivotçš„é€‰æ‹© int pivot = vec[end]; // é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ å……å½“pivot int i = start - 1; for (int j = start; j æœ‰å¤šå°‘ä¸ªæ¯”pivotå°çš„ï¼Œé‚£ä¹ˆå°±åŠ å‡ æ¬¡1 7.1.2.2 å¿«æ’çš„åˆ†æ å‡è®¾æ¯ä¸ªå…ƒç´ æ˜¯ä¸ä¸€æ ·çš„ï¼Œç°å®ä¸­ï¼Œå¦‚æœæœ‰é‡å¤çš„å…ƒç´ ï¼Œé‚£ä¹ˆæœ‰æ›´å¥½çš„ç®—æ³•å­˜åœ¨ã€‚ ï¼ˆ1ï¼‰å¿«æ’çš„æœ€åæƒ…å†µ æˆ‘ä»¬å‡è®¾$T(n)$æ˜¯æœ€åæƒ…å†µä¸‹çš„è¿è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆï¼š æœ€åæƒ…å†µå‘ç”Ÿåœ¨pivotæ˜¯æœ€å¤§æˆ–è€…æœ€å°çš„å…ƒç´ æ—¶ï¼Œæ­¤æ—¶ï¼Œé—®é¢˜åˆ†è§£æˆä¸¤ä¸ªé—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªé—®é¢˜çš„è§„æ¨¡ä¸º0ï¼Œå¦ä¸€ä¸ªé—®é¢˜çš„è§„æ¨¡ä¸ºn-1ã€‚ ä¸€æ¬¡åªä¼šå‡å°‘è§„æ¨¡1. T(n) = T(n-1) + T(0) +\\Theta(n) é€’å½’æ ‘å¦‚ä¸‹ï¼š ï¼ˆ2ï¼‰å¿«æ’çš„æœ€å¥½æƒ…å†µ å¿«æ’çš„æœ€å¥½æƒ…å†µå‘ç”Ÿåœ¨æ¯æ¬¡é€‰å–çš„pivotä¸ºä¸­ä½æ•°æ—¶ï¼Œ T(n) = 2T(n/2) +\\Theta(n) æ­¤æ—¶ï¼Œé€’å½’æ ‘å¦‚ä¸‹ï¼š æ—¶é—´å¤æ‚åº¦ä¸å½’å¹¶ç›¸åŒã€‚ ï¼ˆ3ï¼‰1:9æƒ…å†µ å‡è®¾pivotæ¯æ¬¡æŠŠæ•°ç»„åˆ†ä¸º1:9çš„ä¸¤ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆé€’å½’å¼å¦‚ä¸‹ï¼š T(n) = T(9n/10)+T(n/10) +\\Theta(n) æ­¤æ—¶çš„é€’å½’æ ‘å¦‚ä¸‹ï¼š æ¯æ¬¡éƒ½é™¤ä»¥$9/10$ï¼Œé‚£ä¹ˆæ ‘é«˜ä¸º$log_{\\frac{10}{9}}^{n}$ æ€»ä»£ä»·å°äº$cnlog_{\\frac{10}{9}}^{n}$ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦$T(n) = O(nlgn)$ ï¼ˆ4ï¼‰å¼•å…¥éšæœºçš„å¿«æ’ éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ä½œä¸ºPivotã€‚ // å¼•å…¥éšæœº int RandomizedPartition(vector& vec, int start, int end) { int p = rand() % (end - start + 1) + start; // éšæœºé€‰æ‹©ä¸€ä¸ªä½œä¸ºpivot int temp = vec[p]; vec[p] = vec[end]; vec[end] = temp; return partition(vec, start, end); } æ¯æ¬¡éƒ½é€‰åˆ°æœ€å¤§æˆ–è€…æœ€å°çš„æ•°çš„æ¦‚ç‡ä¸ºï¼š $\\frac{2}{100}\\times\\frac{2}{99}.......\\times \\frac{2}{2}$ excepted time ä¸º$O(nlgn)$ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH8ï¼šSorting_in_linear_time.html":{"url":"ç®—æ³•/CH8ï¼šSorting_in_linear_time.html","title":"CH8ï¼šSorting in linear time","keywords":"","body":"CH8ï¼šSorting in linear time Comparision Sort æ¯”è¾ƒæ’åºï¼šåœ¨æ’åºçš„æœ€ç»ˆç»“æœä¸­ï¼Œå„å…ƒç´ çš„æ¬¡åºä¾èµ–äºä»–ä»¬ä¹‹é—´çš„æ¯”è¾ƒã€‚ ä»»ä½•çš„æ¯”è¾ƒæ’åºæœ€å¥½çš„æœ€åæƒ…å†µä¸‹ç»è¿‡$\\Omega(nlgn)$æ¬¡æ¯”è¾ƒï¼Œå½’å¹¶ï¼Œå †æ’éƒ½æ˜¯æœ€ä¼˜çš„ã€‚ 8.1 æ’åºç®—æ³•çš„ä¸‹ç•Œ $Sort$ åˆ¤å®šæ ‘ï¼šDecision Tree å†…éƒ¨èŠ‚ç‚¹ï¼š$iï¼šj$æ ‡è¯†ï¼Œæ»¡è¶³$1\\leq i,j\\leq n$ å¶å­ç»“ç‚¹ä¸ºä¸€ä¸ªæ’åºåºåˆ—ï¼š$$ ç®—æ³•çš„æ‰§è¡Œå¯¹åº”ä¸€æ¡ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„ï¼Œæ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹æ ‡è¯†ä¸€æ¬¡æ¯”è¾ƒ$a_i\\leq a_j$ã€‚ æ ‘åŒ…å«æ‰€æœ‰å¯èƒ½å‡ºç°çš„ç»“æœã€‚ ä¸Šæ ‘è¡¨ç¤ºçš„æ˜¯ç›´æ¥æ’å…¥æ’åºçš„ç»“æœã€‚ ä»æ ¹èŠ‚ç‚¹åˆ°è¾¾ä»»æ„ä¸€ä¸ªå¯è¾¾å¶å­ç»“ç‚¹ç›´æ¥çš„æœ€ç®€å•è·¯å¾„çš„é•¿åº¦ï¼šæœ€åæƒ…å†µä¸‹çš„æ¯”è¾ƒæ¬¡æ•°ã€‚ æ‰€æœ‰æƒ…å†µï¼šå¶å­æ•°é‡ä¸º$n$çš„å…¨æ’åˆ—ï¼Œå³$n!$ h\\geq lg(n!) \\geq lg(n/e)^n\\\\ =nlgn-nlge=\\Omega(nlgn) å½’å¹¶æ’åºå’Œå †æ’åºæ˜¯æ¸è¿›åˆ†ææ¡†æ¶ä¸‹çš„æœ€ä¼˜æ¯”è¾ƒæ’åºç®—æ³•ã€‚ ä¸å¯èƒ½æ¯”$\\Omega(nlgn)$æ›´å¥½ ------------------------------------------>ä¸é æ¯”å¤§å°æ’åºï¼Œæ•°æ®å…·æœ‰ç‰¹æ®Šæ€§ 8.2 Counting Sort è®¡æ•°æ’åº 8.1.1 ç®—æ³•æ€è·¯ è¾“å…¥ï¼šå°èŒƒå›´å†…æ•´æ•°ï¼Œé‡å¤å€¼è¾ƒå¤šã€‚æ•°æ®èŒƒå›´ä¸º$[1â€¦â€¦n]$ è¾“å‡ºï¼šå¦ä¸€ä¸ªé¡ºåºæ•°ç»„$[1...n]$å·²æ’åº è¾…åŠ©æ•°ç»„ï¼šC[1...k] ç®—æ³•æ€æƒ³ï¼š For x in A, if there are 17 elements less than x in A, then x belongs in output position 18. How if several elements in A have the same value? â€“ Put the 1st in position 18, 2nd in position 19,3rd in position 20,â€¦ How if there are 17 elements not greater than x in A? â€“ Put the last one in position 17, the penultimate one in position 16,â€¦ åˆ©ç”¨æ•°æ®ç‰¹æ®Šæ€§ï¼Œä½¿ç”¨kä¸ªè®¡æ•°å™¨ã€‚ vector countingSort(vector& vec, int k) { // è®¡æ•°å™¨åˆå§‹åŒ–ä¸ºå…¨0 vector C(k+1, 0); // åˆå§‹åŒ–è®¡æ•°å™¨ vector result = vec; // åˆå§‹åŒ–ç»“æœæ•°ç»„ // ç»Ÿè®¡ç­‰äºè¯¥æ•°çš„æ•°æ®æ•°é‡ for (int i = 1; i = 1; i--) { // ä»åŸæ•°ç»„çš„æœ€åä¸€ä¸ªå¼€å§‹å‘å‰æ‰«æï¼šä¿è¯ç¨³å®šæ’åº result[C[vec[i]]] = vec[i]; // ä¸‰é‡åµŒå¥—ï¼Œæ³¨æ„ C[vec[i]]--; // ä½¿ç”¨ä¸€æ¬¡å‡ä¸€å› } return result; } 8.1.2 ç®—æ³•åˆ†æ ï¼ˆ1ï¼‰æ—¶é—´å¤æ‚åº¦åˆ†æ è¯¥ç®—æ³•å¦‚æœè¾“å…¥çš„æ•°æ®æ˜¯å°èŒƒå›´çš„ï¼Œkä¸è¶…è¿‡nï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(n)$ï¼Œæœ€åæƒ…å†µä¸‹ä¹Ÿæ˜¯$\\Theta(n)$ ï¼ˆ2ï¼‰åç§»è€ƒè™‘ æ•°ç»„èŒƒå›´ï¼š å¦‚æœèŒƒå›´æ˜¯$0â€¦â€¦k$ï¼Œé‚£ä¹ˆè®¡æ•°å™¨C[0]ä¹Ÿä½¿ç”¨å³å¯ å¦‚æœèŒƒå›´æ˜¯$[2â€¦â€¦k]$ï¼Œé‚£ä¹ˆè®¡æ•°å™¨$C[1]$ä¸ç”¨ å¦‚æœèŒƒå›´æ˜¯$[5000â€¦â€¦5100]$ï¼Œé‚£ä¹ˆè®¡æ•°å™¨æ‰€æœ‰çš„$C[vec[i]-åç§»é‡]$ // ç»™å®šæŸä¸ªèŒƒå›´ï¼Œæ¯”å¦‚5000~5015 void counting_sort2(vector& vec, vector& result, int start, int k) { vector counter(k - start + 1, 0); // åˆå§‹åŒ–ä¸ºå¾…æ’åºæ•°ç»„çš„èŒƒå›´ä¸ª0ï¼š0~kä¸ª0 for (int i = 0; i =0; i--) { result[counter[vec[i] - start]-1] = vec[i]; counter[vec[i] - start]--; } print(counter); } ï¼ˆ3ï¼‰æ‰«æé¡ºåº æœ€åä¸€æ­¥å¡«å…¥ç»“æœæ•°ç»„æ—¶ï¼Œä»åŸæ•°ç»„çš„æœ€åå‘å‰æ‰«æï¼Œä¿è¯ç¨³å®šæ€§ã€‚ 8.3 Radix Sort åŸºæ•°æ’åº 8.3.1 ç®—æ³•æ€è·¯ Digit by Digit Sortï¼šæŒ‰ä½æ’åº åŸºæ•°æ’åºï¼šä½¿ç”¨è¾…åŠ©æ•°ç»„çš„ç¨³å®šæ’åºï¼Œé¦–å…ˆå¯¹æœ€ä½æœ‰æ•ˆä½è¿›è¡Œæ’åº å¯¹æ¯ä¸€ä½è¿›è¡Œæ’åºæ—¶ä½¿ç”¨çš„éƒ½æ˜¯ç¨³å®šæ’åºï¼Œæœ€åç»“æœç¨³å®šã€‚ RADIX-SORT(A, d) for (int i = 1; i è‹¥ä½æ•°ä¸å›ºå®šï¼šé‡‡ç”¨æœ€å¤§çš„ä½æ•°ã€‚ counting sort åˆé€‚ã€‚ 8.2.2 æ—¶é—´å¤æ‚åº¦åˆ†æ æ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(dO(n))$ï¼Œå…¶ä¸­$d$æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$\\Theta(n)$ 8.4 BucketSort 8.4.1 ç®—æ³•æ€è·¯ æ•°æ®ç‰¹æ®Šæ€§è¡¨ç°åœ¨ï¼šæ•°æ®å‡åŒ€åˆ†å¸ƒã€‚æ¯ä¸ªåŒºé—´çš„æ•°å‡ºç°çš„æ¦‚ç‡ç›¸ç­‰ã€‚ ï¼ˆ1ï¼‰æ­¥éª¤ ä¸ºæ¯ä¸€ä¸ªå€¼åˆ†é…ä¸€ä¸ªæ¡¶ å°†$A[i]$æ’å…¥åˆ°æ¡¶$B[\\lfloor nA[i]\\rfloor]$ä¸­ï¼Œæ¡¶èŒƒå›´ä¸º$0~n-1$ æ˜ å°„å…³ç³»ä¿è¯ï¼Œæ¡¶n-kå†…çš„æ•°ä¸€å®šæ¯”æ¡¶n-k-rå†…çš„æ•°å¤§ å¯¹äºæ¯ä¸€ä¸ªæ¡¶ï¼Œå†…éƒ¨ä½¿ç”¨ç›´æ¥æ’å…¥æ’åº æ»¡è¶³å‡åŒ€åˆ†å¸ƒï¼Œæ•°å­—è¾ƒå°‘ï¼Œæ’å…¥æ’åºå¯ä»¥è®¤ä¸ºä¸ºå¸¸æ•°æ—¶é—´ å°†å„ä¸ªæ¡¶åˆå¹¶ å¸¸æ•°æ—¶é—´ ï¼ˆ2ï¼‰ç®—æ³•å®ç° å®é™…å®ç°æ—¶æ¡¶çš„æ•°æ®ç»“æ„éœ€è¦è€ƒè™‘ç”¨é“¾è¡¨æ•°ç»„æ¥å®ç°ã€‚é¦–å…ˆç»™å‡ºä¼ªä»£ç ï¼š #include #include #include #include using namespace std; class LinkNode{ public: double val; LinkNode *next; LinkNode() : val(0), next(nullptr) {}; LinkNode(double x): val(x), next(nullptr) {} LinkNode(int x, LinkNode *next) : val(x), next(next) {} }; void printVec(vector& vec) { for(int i = 0; i& vec, int a, int b, int n) { // äº§ç”Ÿaåˆ°bä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„nä¸ªéšæœºæ•° srand((unsigned int)time(NULL)); for(int i = 0; i & vec, vector& res, int start, int end) { vector linklist_vec; int n = vec.size(); // å¤„ç†é“¾è¡¨æ•°ç»„çš„å¤´ç»“ç‚¹ï¼Œå¤´ç»“ç‚¹ä¸æ”¾ç½®æ•°æ® for(int i = 0; i next != nullptr and head->next->valnext; } // æ‰¾åˆ°è¦æ’å…¥çš„ä½ç½® LinkNode* next_Pointer = head->next; head->next =new LinkNode(vec[i]); head->next->next = next_Pointer; } // å°†éç©ºæ¡¶ä¸­çš„æ•°æ®å–å‡ºï¼Œå¾—åˆ°æœ€ç»ˆçš„é¡ºåº // æ‰«æå¹¶è¿æ¥é“¾è¡¨ for(int i = 0; i next != nullptr) { head = head->next; res.push_back(head->val); } } } int main() { vector vec; int start = 2, end = 5, n = 30; // å‡†å¤‡éšæœºæ•° random_generation(vec, start, end, n); // æ¡¶æ’åº vector res; bucket_sort(vec, res, start, end); printVec(res); } 8.4.2 ç®—æ³•åˆ†æ ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ï¼Œæ’å…¥çš„æ—¶é—´å’Œå†…éƒ¨æ’åºçš„æ—¶é—´éƒ½è§†ä½œå¸¸æ•°ã€‚ è‹¥åŒºé—´ä¸åœ¨0~1ä¹‹é—´ï¼Œé‚£ä¹ˆè¦è¿›è¡Œä¿®æ”¹ï¼š [0~2]ï¼š$B[\\lfloor nA[i]/2\\rfloor]$ [a, b]ï¼šB[\\lfloor n(A[i]-a)/(b-a)\\rfloor] æƒ³ä¸€ä¸‹æ€ä¹ˆæŠŠè¿™ä¸ªæ•°å˜åˆ°0~1å°±è¡Œäº†ã€‚ 8.5 æ€»ç»“ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH9ï¼šMedians_and_Order_Statistics.html":{"url":"ç®—æ³•/CH9ï¼šMedians_and_Order_Statistics.html","title":"CH9ï¼šMedians and Order Statistics","keywords":"","body":"CH9ï¼šMedians and Order Statistics MindMap 9.1 Order Statistics 9.1.1 èƒŒæ™¯ä»‹ç» OrderStatistics æ’ä½ç»Ÿè®¡ï¼šé›†åˆä¸­ç¬¬iå°çš„å…ƒç´  ä¸­ä½æ•°ï¼šå¿«æ’ä¸­æ‰¾ä¸­ä½æ•°ï¼Œä»£ä»·å¤§ å¯»æ‰¾é›†åˆä¸­ç¬¬iå°çš„å…ƒç´ ï¼š æœ€å¤§ï¼ši = n æœ€å°ï¼ši = 1 ä¸­ä½æ•° æˆ‘ä»¬å¯ä»¥å¤šå¿«è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ æœ€å¤§æˆ–è€…æœ€å°ï¼šO(n) æ’åºï¼šO(nlgn) ä¸‹é¢å°è¯•ç”¨O(n)è§£å†³ 9.1.2 Randomized algorithm for finding the i th element éšæœºç®—æ³• ï¼ˆ1ï¼‰ç®—æ³•æ€è·¯ ç®—æ³•æ€è·¯ï¼š åˆ©ç”¨å¸¦æœ‰éšæœºçš„partitionç®—æ³•ç¡®å®špivotçš„ä½ç½®ï¼ŒæŒ‰ç…§pivotä½ç½®å’Œè¦æ‰¾çš„å…ƒç´ çš„æ’åå¯¹å¯¹åº”çš„éƒ¨åˆ†è¿›è¡Œé€’å½’ ç»ˆæ­¢æ¡ä»¶ï¼šåŒºé—´é•¿åº¦ä¸º1æˆ–è€…æ˜¯pivotä½ç½®å°±æ˜¯rankä½ç½® é€’å½’æ‰¾å·¦è¿˜æ˜¯å³ä¸è¦æé”™ ç®—æ³•å®ç°ï¼š int randomizedSelect(vector& vec, int start, int end, int rank) { if (start == end) return vec[start]; int pivot_index = randomizedPartition(vec, start, end); int pivot_rank = pivot_index - start + 1; if (pivot_rank == rank) { return vec[pivot_index]; } if (rank ï¼ˆ2ï¼‰ç®—æ³•åˆ†æ æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ï¼š$T(n) = T(n-1) +\\Theta(n) = \\Theta(n^2)$ ä¸å¿«æ’åŒºåˆ«ï¼Œå¿«æ’æ˜¯ä¸¤ä¸ªå­é—®é¢˜ã€‚ 9.1.3 å¯¹äºå¿«æ’çš„ä¼˜åŒ– å¯¹äºå¿«æ’çš„æ—¶é—´å¤æ‚åº¦ï¼Œè‹¥æ‰¾ä¸­å€¼æ˜¯çº¿æ€§å¼€é”€ï¼Œé‚£ä¹ˆï¼š T(n) = 2T(n/2) + O(n) + O(n) =\\Theta(nlgn) è‹¥æ‰¾ä¸­å€¼æ˜¯æœ€åæƒ…å†µï¼š T(n) = 2T(n/2) + O(n) +O(n^2) çº¿æ€§çš„æ‰¾ä¸­å€¼ï¼š æ¯5ä¸ªä¸€ç»„ï¼Œå¿«é€Ÿé€šè¿‡ç›´æ¥æ’å…¥æ’åºæ‰¾åˆ°ä¸­å€¼ï¼Œæ¯ç»„ä¸­å€¼çš„ä¸­å€¼ä½œä¸ºpivotã€‚ T(n) = T(n/5) + \\Theta(n) + T(7n/10) = \\Theta(n) var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH10ï¼šDivide_and_Conquerï¼šMore_Algorithms.html":{"url":"ç®—æ³•/CH10ï¼šDivide_and_Conquerï¼šMore_Algorithms.html","title":"CH10ï¼šDivide and Conquerï¼šMore Algorithms","keywords":"","body":"CH10ï¼šDivide and Conquerï¼šMore Algorithms 10.1 Square matrix multiplication çŸ©é˜µç›¸ä¹˜ 10.1.1 åˆ†æ²»ç®—æ³• $A = (a{ij})ï¼ŒB = (b{ij})$ï¼Œéƒ½æ˜¯nÃ—nçš„çŸ©é˜µ å®šä¹‰ï¼š $C = A\\times B, c{ij} = \\sum{k=1}^{n}a{i,k}b{k,j}$ çŸ©é˜µç›¸ä¹˜çš„ç®—æ³•ï¼š åˆ†æ²»ï¼špartition çŸ©é˜µç›¸ä¹˜ç¬¦åˆæ ‡é‡ä¹˜æ³• çŸ©é˜µä¹˜æ³•çš„åˆ†æ²»ï¼šSquare-Matrix-Multiply-Recursive(A,B) T(n) = 8T(n/2) + (\\frac{n}{2})^2\\\\ f(n) = \\Theta(n^2)\\\\ n^{log_2^8} = n^3\\\\ T(n) = O(n^3) 10.1.2 Strassenâ€™s method 10.2 The Maximum - subarray problem 10.2.1 é—®é¢˜èƒŒæ™¯ è¦æ±‚æœ€ä½ç‚¹ä¹°å…¥ï¼Ÿæœ€é«˜ç‚¹å–å‡ºï¼Ÿ å»ºæ¨¡ä¸ºæœ€å’Œå­æ•°ç»„å’Œé—®é¢˜ï¼š 10.2.2 æš´åŠ›è§£æ³• æš´åŠ›è§£æ³•ï¼šç©·ä¸¾æ‰€æœ‰çš„å­æ•°ç»„â€”â€”ç©·ä¸¾æ‰€æœ‰çš„ä¸‹æ ‡å¯èƒ½æƒ…å†µï¼Œæ‰¾å‡ºæœ€å¤§å€¼çš„å­æ•°ç»„. æš´åŠ›è§£æ³•ç¨‹åºå¦‚ä¸‹ï¼š // æš´åŠ›ç©·ä¸¾å­æ•°ç»„ int maxSum_brute(vector& vec) { int maxSum = -1; int besti = -1, bestj = -1; for (int i = 0; i maxSum) { maxSum = tempSum; besti = i; bestj = j; } } } return maxSum; } æ—¶é—´å¤æ‚åº¦æ˜¯$O(n^2)$ 10.2.3 åˆ†æ²»æ³• åˆ†æ²»æ³•éœ€è¦é¢å¤–è€ƒè™‘ä¸€ä¸ªcrossçš„æƒ…å†µï¼šæœ€ä¼˜è§£å¯èƒ½æ˜¯åœ¨ä¸¤ä¸ªå­æ•°ç»„çš„ä¸­é—´å¾—åˆ°ã€‚ \\begin{cases}äºŒåˆ†\\\\næ¨n-1\\end{cases} Divideï¼šæŠŠæ•°ç»„åˆ†æˆä¸¤ä¸ªæ•°ç»„ Conquerï¼šé€’å½’æ±‚è§£å­é—®é¢˜ï¼Œå¹¶é¢å¤–æ±‚è§£è·¨è¶Šä¸­é—´çš„æƒ…å†µ Combineï¼šä¸‰æŒ‘ä¸€ï¼Œæ‰¾åˆ°æœ€å¤§å’Œå­æ•°ç»„ ç®—æ³•å®ç°å¦‚ä¸‹ï¼š // åˆ†æ²»æ³•ï¼Œå«æœ‰cross int getMidMax(vector& vec, int start, int end, int mid) { int maxsum = vec[mid]; int maxNum = vec[mid]; for (int i = mid - 1; i >= start; i--) { maxsum += vec[i]; if (maxsum > maxNum) { maxNum = maxsum; } } maxsum = maxNum; for (int i = mid + 1; i maxNum) { maxNum = maxsum; } } return maxNum; } int maxSum(vector& vec, int start, int end) { if (start == end) return vec[start]; // åˆ† int mid = (start + end) / 2; // æ²» int maxSumLeft = maxSum(vec, start, mid); int maxSumRight = maxSum(vec, mid + 1, end); int maxSumCross = getMidMax(vec, start, end, mid); // åˆå¹¶ int maxNum = max(maxSumLeft, maxSumRight); maxNum = max(maxNum, maxSumCross); return maxNum; } æ—¶é—´å¤æ‚åº¦ï¼š$nlgn$ $T(n) = 2T(n/2) + \\Theta(n)$ $f(n) = n^{log_2^2} = n = \\Theta(nlg^0k)$ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH15ï¼šDynamic_Programming.html":{"url":"ç®—æ³•/CH15ï¼šDynamic_Programming.html","title":"CH15ï¼šDynamic_Programming","keywords":"","body":"CH15ï¼šDynamic Programming MindMapï¼š åŠ¨æ€è§„åˆ’ï¼šåˆ†æ²»åº”ç”¨åœ¨ä¼˜åŒ–é—®é¢˜ä¸Š 15.1 Optimization Problems 15.1.1 åŠ¨æ€è§„åˆ’ä¸DC åŠ¨æ€è§„åˆ’æ˜¯ä¸€ç§ç®—æ³•è®¾è®¡ç­–ç•¥ï¼Œç±»ä¼¼åˆ†æ²»ã€‚ åŠ¨æ€è§„åˆ’æ˜¯è‡ªä¸‹è€Œä¸Šçš„è®¡ç®—ï¼Œè€Œä¸æ˜¯è‡ªä¸Šè€Œä¸‹çš„è®¡ç®—ã€‚ bottom up rather than top down 15.1.2 åŠ¨æ€è§„åˆ’æ±‚è§£é—®é¢˜çš„æ­¥éª¤ åŠ¨æ€è§„åˆ’çš„æ–¹æ³•æœ‰4ä¸ªæ­¥éª¤ï¼š åˆ»ç”»é—®é¢˜çš„æœ€ä¼˜è§£çš„ç»“æ„ï¼Œå¦‚ä½•åˆ©ç”¨å­é—®é¢˜æ±‚è§£çˆ¶é—®é¢˜ã€æœ€ä¼˜å­ç»“æ„æ‰¾å‡ºæ¥ã€‘ é—®é¢˜çš„æœ€ä¼˜è§£ä¸€å®šä½¿ç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£ é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼ åŒºåˆ†æœ€ä¼˜è§£å’Œæœ€ä¼˜è§£çš„å€¼ï¼ŒåŠ¨æ€è§„åˆ’æ±‚è§£é—®é¢˜æ—¶é€šå¸¸è®¡ç®—çš„æ˜¯æœ€ä¼˜è§£çš„å€¼ï¼Œè€Œä¸æ˜¯æœ€ä¼˜è§£ é€’æ¨å¼ä»£è¡¨çš„æ˜¯æœ€ä¼˜è§£çš„å€¼ï¼Œè¡¨ç¤ºçš„æ˜¯æ€ä¹ˆç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£ æŒ‰ç…§ä»ä¸‹è‡³ä¸Šçš„æ¨¡å¼æ±‚è§£ é€’å½’+å¤‡å¿˜å½• // è‡ªä¸‹è€Œä¸Šï¼Œè®¡ç®—æ¬¡åºéœ€æ³¨æ„ é‡æ„æœ€ä¼˜è§£ æœ€ä¼˜è§£çš„å€¼çŸ¥é“äº†ï¼Œè¿˜éœ€è¦è®¡ç®—æœ€ä¼˜è§£ æ€ä¹ˆæŒ‘ï¼Ÿè¿‡ç¨‹éœ€è¦ä¿å­˜ã€‚ 15.2 è£…é…çº¿é—®é¢˜ Assembly Line Scheduling 15.2.1 èƒŒæ™¯ å·¥å‚ä¸­æœ‰ä¸¤æ¡å¹³è¡Œçš„è£…é…çº¿ï¼Œæ¯æ¡çº¿nä¸ªç«™ï¼š$S{i,1},S{i,2},...,S_{i,n}$ï¼Œ$i=1,2$ æ¯ä¸ªç«™$S{1,i}$å’Œ$S{2,j}$åšçš„äº‹æƒ…ç›¸åŒï¼Œä½†å¯èƒ½æœ‰ä¸åŒçš„è£…é…æ—¶é—´ï¼š$a_{i,j}$ æ­¤å¤–è‹¥æ˜¯ä»è£…é…çº¿$i$åˆ°è£…é…çº¿$j$ï¼Œéœ€è¦èŠ±è´¹ä¼ é€æ—¶é—´ï¼š$t_{i,j}$ æµæ°´çº¿å¯ä»¥æ··ç”¨ï¼Œåˆ‡æ¢æµæ°´çº¿éœ€è¦ä»£ä»· å¼€å§‹æ—¶æœ‰å‡†å¤‡æ—¶é—´$e_i$å’Œæœ€åçš„ç¦»å¼€æ—¶é—´$x_i$ å¦‚ä½•é€‰æ‹©è°ƒåº¦ï¼Œæ‰èƒ½è·å¾—æ—¶é—´ä¸Šæœ€çŸ­çš„æœ€ä¼˜è§£ï¼Ÿ 15.2.2 ç®—æ³•åˆ†æ ï¼ˆ1ï¼‰åˆ†æ å¯¹äºå½“å‰ç«™$S_{1,j}$ï¼Œé€‰æ‹©åªæœ‰ä¸¤ç§ï¼š if $j = 1$ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ç§ å¦‚æœ$j \\geq 2$ï¼Œé‚£ä¹ˆï¼š ç›´æ¥ä»$S_{1,j-1}$ç«™åˆ°è¾¾ ç”±$S{2,j-1}$ç«™ä¼ é€’åˆ°$S{1,j-1}$ ä¾èµ–äºæœ€ä¼˜å­ç»“æ„Optimal substructureï¼šä¸€ä¸ªé—®é¢˜çš„æœ€ä¼˜è§£ä¸€å®šåŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£ ï¼ˆ2ï¼‰é€’æ¨å¼ åˆ†ä¸¤ä¸ªçº¿è·¯å†™é€’æ¨å¼ï¼š ç«™ç‚¹1ï¼š f_{1,j} = \\begin{cases}a_{1,1} + e_1&& if \\ j=1\\\\ min(f_{1,j-1}+a_{1,j}, f_{2,j-1}+t_{2,j-1}+a_{1,j})&& if \\ j\\geq2\\end{cases} ç«™ç‚¹2ï¼š f_{2,j} = \\begin{cases}a_{2,1} + e_2&& if \\ j=1\\\\ min(f_{2,j-1}+a_{2,j}, f_{1,j-1}+t_{1,j-1}+a_{2,j})&& if \\ j\\geq2\\end{cases} Total Timeï¼š $min{f_1[n]+x_1, f_2[n]+x2}$ 15.2.3 ç®—æ³•å®ç° ï¼ˆ1ï¼‰ç›´æ¥å®ç° ç›´æ¥æŒ‰ç…§ä¸Šè¿°æ€è·¯ï¼Œå®ç°ç¨‹åºå¦‚ä¸‹ï¼š int fun1(int j) { if (j == 1) { return t1[0] + a1[1]; } return min(fun2(j-1) + t2[j-1] + a1[j], fun1[j-1] + a1[j]); } int fun2(int j) { if (j == 1) { return t2[0] + a2[1]; } return min(fun1(j-1) + t1[j-1] + a2[j], fun2[j-1] + a2[j]); } int main() { int time = min(fun1(n) + t1[j], f2(n) + t2[j]); return 0; } ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º$T(n) = 2T(n-1) + O(1)$ å«æœ‰å¤§é‡çš„é‡å¤è®¡ç®—çš„è¿‡ç¨‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º$O(2^n)$ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•çš„æ€è·¯ã€‚ ï¼ˆ2ï¼‰è‡ªä¸‹è€Œä¸Š ä»1~nè®¡ç®—ï¼Œéé€’å½’ j 1 2 3 4 5 6 f1[j] 9 18 20 24 32 35 f2[j] 12 16 22 25 30 37 $f^* = min(35+3, 37+2)$ ç®—æ³•å®ç°ï¼š ä½¿ç”¨æ•°ç»„$L$è®°å½•æœ¬æ¬¡é€‰æ‹©ã€‚ æ‰“å°ç«™ç‚¹çš„é€‰æ‹©æƒ…å†µï¼š æ ˆæ‰“å° é€’å½’æ‰“å° 15.3 Matrix Chain Product 15.3.1 é—®é¢˜èƒŒæ™¯ nä¸ªçŸ©é˜µï¼Œæ¯ä¸ªçŸ©é˜µç»´åº¦å¯èƒ½ä¸åŒï¼Œä¿è¯èƒ½å¤Ÿè¿ä¹˜ï¼Œæ±‚è§£é“¾ä¹˜çš„æœ€å°ä»£ä»·ã€‚ ä»£ä»·çš„å®šä¹‰ï¼šä½¿ç”¨æ ‡é‡ä¹˜æ³•çš„æ¬¡æ•°è¡¨ç¤ºä»£ä»·scalar multiplications $A_1:p\\times q\\quad A_2:q\\times r$ é‚£ä¹ˆ$A_1\\times A_2$çš„ä»£ä»·ä¸ºï¼š$p\\times q\\times r$ éæ–¹é˜µï¼Œä¹˜æ³•çš„è®¡ç®—é¡ºåºå¯¼è‡´æœ€åçš„è®¡ç®—é‡ä¸åŒã€‚ Order1 15.3.2 æ±‚è§£ 15.3.2.1 æš´åŠ›è§£æ³• ç©·ä¸¾åŠ æ‹¬å·çš„æ–¹å¼ï¼Œå¤šå°‘ç§åŠ æ‹¬å·æ–¹å¼ï¼Ÿ 15.3.2.2 åˆ†æ²» ï¼ˆ1ï¼‰åˆ»ç”»æœ€ä¼˜è§£ç»“æ„ è€ƒè™‘å¸¸è§çš„ä¸¤ç§åˆ†æ²»æ–¹æ³•ï¼š äºŒåˆ†ï¼š ä¸ä¸€å®šåˆ†æˆä¸­é—´ä¸¤åŠï¼šæœ€ä¼˜è§£ä¸ä¸€å®šç”¨åˆ°å­é—®é¢˜çš„æœ€ä¼˜è§£ næ¨n-1ï¼š 99ä¸ªçŸ¥é“---->100ä¸ªï¼šä¸ä¸€å®šç”¨ç¬¬99ä¸ªçš„æœ€ä¼˜è§£ ä¸Šè¿°ä¸¤ç§æƒ…å†µï¼šäºŒåˆ†å’Œnæ¨n-1æä¾›çš„éƒ½æ˜¯å­é—®é¢˜çš„ä¸€ç§å¯èƒ½ï¼Œéœ€è¦åˆ—ä¸¾æ‰€æœ‰çš„å­é—®é¢˜ï¼Œåˆ’åˆ†å¾ˆé‡è¦ï¼Œæ‰€æœ‰çš„åˆ’åˆ†éƒ½è¦åˆ—ä¸¾ã€‚ éœ€è¦åˆ—ä¸¾æ‰€æœ‰çš„å¯èƒ½çš„å­é—®é¢˜ï¼šn-1ä¸ªå­é—®é¢˜ï¼ŒåŸé—®é¢˜çš„æœ€ä¼˜è§£ä¸€å®šç”¨çš„æ˜¯n-1ä¸ªå­é—®é¢˜ä¸­çš„ä¸€ä¸ªã€‚ å­é—®é¢˜å¦‚ä½•æ±‚è§£ï¼šé€’å½’æ±‚è§£ã€‚ ï¼ˆ2ï¼‰é€’å½’å®šä¹‰æœ€ä¼˜è§£çš„å€¼ æœ€ä¼˜è§£ï¼šæ€ä¹ˆåŠ æ‹¬å· æœ€ä¼˜è§£çš„å€¼ï¼šæœ€å°çš„è®¡ç®—é‡ é¦–å…ˆæè¿°è¯¥é—®é¢˜éœ€è¦å·¦æ‹¬å·ä½ç½®å’Œå³æ‹¬å·ä½ç½®ä¸¤ä¸ªç»´åº¦ï¼Œæ‰€ä»¥è¯¥é€’å½’å¼çš„å…¬å…±æ ·å¼å¿…ç„¶æ˜¯ä¸€ä¸ªäºŒç»´è¡¨è¾¾å¼ï¼Œä¸å¦¨ç”¨ğ‘š[ğ‘–,ğ‘—]è¡¨ç¤ºï¼š å…¶ä¸­ğ‘–æ˜¯å³æ‹¬å·çš„ä½ç½® ğ‘—æ˜¯å·¦æ‹¬å·çš„ä½ç½® ğ‘š[ğ‘–,ğ‘—]ä¸ºè§„æ¨¡ä¸ºğ‘– âˆ¼ ğ‘—çš„çŸ©é˜µé“¾ä¹˜é—®é¢˜çš„æœ€å°ä»£ä»·å€¼ å…¶æ¬¡ï¼Œç»“åˆä¸Šå›¾çš„åŠ æ‹¬å·çš„æ–¹å¼ï¼Œè§„æ¨¡ä¸ºğ‘›æ—¶æ˜¯ä»ğ‘› âˆ’ 1ä¸ªå­é—®é¢˜ä¸­æŒ‘é€‰ã€‚æˆ‘ä»¬å¯ä»¥æ¨å¾—ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªè§„æ¨¡ä¸ºğ‘– âˆ¼ ğ‘—çš„é—®é¢˜ï¼Œå…¶å­é—®é¢˜çš„ä¸ªæ•°ä¸ºğ‘— âˆ’ ğ‘–ä¸ªã€‚ å¯¹åº”çš„å­é—®é¢˜å¯ä»¥æè¿°ä¸ºğ‘– âˆ¼ ğ‘˜ä¸ªçŸ©é˜µä½œä¸ºå­é—®é¢˜è®¡ç®—ï¼Œğ‘˜ + 1 âˆ¼ ğ‘—ä¸ªçŸ©é˜µä½œä¸ºå¦ä¸€ä¸ªå­é—®é¢˜è®¡ç®—ï¼Œğ‘˜çš„å–å€¼èŒƒå›´åº”è¯¥æ»¡è¶³ğ‘– â‰¤ ğ‘˜ æœ€åï¼Œéœ€è¦æ³¨æ„çˆ¶é—®é¢˜çš„ä»£ä»·ä¸ä»…ä»…æ˜¯ä¸¤ä¸ªå­é—®é¢˜çš„æœ€å°ä»£ä»·ç›¸åŠ ï¼Œè¿˜åŒ…æ‹¬ä¸¤ä¸ªå­é—® é¢˜åˆå¹¶çš„ä»£ä»·ï¼Œä»¥ä»£ä»·æ•°ç»„çš„å½¢å¼æè¿°åˆå¹¶çš„ä»£ä»·å³ä¸ºï¼šğ‘ƒ[ğ‘– âˆ’ 1]ğ‘ƒ[ğ‘˜]ğ‘ƒ[ğ‘—] é€’å½’å¼ï¼š m[i,j] = \\min_{i\\leq k ï¼ˆ3ï¼‰è‡ªä¸‹è€Œä¸Šè®¡ç®— â‘ é€’å½’ç®—æ³• ç»ˆæ­¢æ¡ä»¶ï¼š i==jï¼šå¼€é”€ä¸º0 å› ä¸ºé‡å¤è®¡ç®—å­˜åœ¨ï¼Œæ‰€ä»¥ï¼Œéœ€è¦æ‰“å¤‡å¿˜å½• å¤‡å¿˜å½•ç»“æœå¦‚ä¸‹ï¼š // é€’å½’å†™æ³•çš„åˆå§‹åŒ–å¤‡å¿˜å½• void init_memo(vector>& res, vector& p) { for(int i = 0; i & cost, int start, int end, vector>& choose, vector>& res) { if (res[start][end] != 999999) return res[start][end]; for (int k = start; k new_cost) { res[start][end] = new_cost; choose[start][end] = k; } } return res[start][end]; } â‘¡ è‡ªä¸‹è€Œä¸Š æ³¨æ„è§„æ¨¡ï¼š åˆå§‹åŒ–ï¼ŒçŸ©é˜µè§„æ¨¡ä¸º1æ—¶ï¼Œè®¡ç®—é‡ä¸º0ï¼›è§„æ¨¡ä¸ºå…¶ä»–æ—¶ï¼Œåˆå§‹å°†è®¡ç®—é‡ç½®ä¸ºæ— ç©· èµ·å§‹çŸ©é˜µç¡®å®šï¼Œè§„æ¨¡ç¡®å®šï¼Œé‚£ä¹ˆæœ«å°¾çŸ©é˜µç¡®å®š åœ¨èµ·å§‹å’Œæœ«å°¾ä¹‹é—´éå†kï¼Œé€‰æ‹©æœ€å°çš„ ç¨‹åºå®ç°ï¼š // è‡ªä¸‹è€Œä¸Šçš„æ±‚è§£ int matrix_chain_product_down_top(vector& p, int start, int end, vector>& choose, vector>& res) { for (int l = 2; l = cost) { res[i][j] = cost; choose[i][j] = k; } } } } return res[start][end]; } æ—¶é—´å¤æ‚åº¦æ˜¯$O(n^3)$ Exampleï¼š ï¼ˆ4ï¼‰é‡æ„æœ€ä¼˜è§£ p[i,j] = \"(\" p[i, s[i,j]] p[s[i,j]+1, j] \")\" // æ‰“å°åŠ æ‹¬å·çš„æ–¹æ³• void printBracket(vector> s, int i, int j) { if(i == j){ cout 15.3 åŠ¨æ€è§„åˆ’åŸç† æœ€ä¼˜å­ç»“æ„ optimal substructure æ»¡è¶³ï¼šå¯ç”¨DC---->DP Qï¼š æ˜¯å¦ä¸€å®šç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Ÿæ€ä¹ˆç”¨ï¼Ÿ ç»´æ•° æœ€ä¼˜è§£çš„å€¼ï¼šå‡ æŒ‘ä¸€ 15.3.1 Optimal substructure ä¸ä¸€å®šèƒ½åº”ç”¨åœ¨æ‰€æœ‰é—®é¢˜ä¸Šï¼Œæœ‰äº›é—®é¢˜åªèƒ½ç©·ä¸¾ï¼šTSP ä¸æ»¡è¶³æœ€ä¼˜å­ç»“æ„çš„ä¾‹å­ï¼šæœ€é•¿/çŸ­ç®€å•è·¯å¾„Longest simple path ç®€å•è·¯å¾„ï¼šä¸èƒ½ç»•ç¯ 15.4 Longest Common Subsequence å­åºåˆ—ï¼šä¸ä¸€å®šè¿ç»­ï¼Œä½†æ˜¯é¡ºåºä¸€å®š 15.4.1 ç®—æ³•åˆ†æ æš´åŠ›æ±‚è§£ï¼šé¦–å…ˆæ‰¾åˆ°è¾ƒçŸ­ä¸²çš„æ‰€æœ‰å­åºåˆ—$O(2^m)$ï¼Œç„¶ååœ¨åœ¨è¾ƒé•¿ä¸²ä¸­æ¯”è¾ƒ$O(n)$ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º$O(n2^m)$ åˆ†æ²»ï¼š ä¸²å˜çŸ­æ–¹å¼ï¼š äºŒåˆ† næ¨n-1 ä¸²æœ«å°¾æ¯”è¾ƒ \\begin{cases}æœ«å°¾ç›¸åŒï¼šæœ€ä¼˜è§£ä¸€å®šä¼šç”¨è¯¥å­—æ¯ï¼Œæœ€ç»ˆè§£ä¸ºå­é—®é¢˜æœ€ä¼˜è§£ + 1\\\\ æœ«å°¾ä¸åŒï¼šä¸å¯èƒ½ä¸¤ä¸ªå­—æ¯éƒ½ç”¨ï¼Œåªæœ‰ä¸€ä¸ªå¯ç”¨ï¼ŒæŒ‘ä¸€ä¸ªæœ€ä¼˜çš„\\end{cases} é€’å½’å¼ï¼š c[i,j] = \\begin{cases}c[i-1,j-1]+1&& x[i]==y[j]\\\\ max(c[i-1,j],c[i,j-1])&& x[i]\\neq y[j]\\end{cases} è¾¹ç•Œæ¡ä»¶ï¼š $j==0æˆ–i==0$ï¼ŒæŸä¸€ä¸²ä¸ºç©ºï¼Œé‚£ä¹ˆæœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ä¸º0 15.4.2 ç®—æ³•å®ç° ï¼ˆ1ï¼‰ç›´æ¥å®ç° æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œé‡å¤å­é—®é¢˜ // é€’å½’-æ— å¤‡å¿˜å½• int LCS_recursive(string& x, string& y, int i, int j) { if (j == -1 || i == -1) { return 0; } if (x[i] == y[j]) return LCS_recursive(x, y, i-1, j-1) + 1; return max(LCS_recursive(x, y, i-1, j), LCS_recursive(x, y, i, j-1)); } ï¼ˆ2ï¼‰é€’å½’+å¤‡å¿˜å½• /** é€’å½’å†™æ³•ï¼Œå¸¦å¤‡å¿˜å½• **/ int recursive_LCS_Memoization(string& x, string& y, int i, int j, vector>& res, vector>& s) { if(res[i+1][j+1] != -999999) { // è‡ªå·±ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å³å¯ã€‚ return res[i+1][j+1]; } if(x[i] == y[j]) { int num = recursive_LCS_Memoization(x, y, i - 1, j - 1, res, s); res[i+1][j+1] = num + 1; }else{ int num1 = recursive_LCS_Memoization(x, y, i-1, j, res, s); int num2 = recursive_LCS_Memoization(x, y, i, j-1, res, s); res[i+1][j+1] = max(num1, num2); } return res[i+1][j+1]; } /* å¤‡å¿˜å½•çš„åˆå§‹åŒ– */ void init_memoization(vector>& res, string& x, string& y) { // ç¬¬0è¡Œå’Œç¬¬0åˆ—åˆå§‹åŒ–ä¸º0 for(int i = 0; i ï¼ˆ3ï¼‰è‡ªä¸‹è€Œä¸Š /** é€’å½’å†™æ³•ï¼Œå¸¦å¤‡å¿˜å½• **/ int recursive_LCS_Memoization(string& x, string& y, int i, int j, vector>& res, vector>& s) { if(res[i+1][j+1] != -999999) { // è‡ªå·±ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å³å¯ã€‚ return res[i+1][j+1]; } if(x[i] == y[j]) { int num = recursive_LCS_Memoization(x, y, i - 1, j - 1, res, s); res[i+1][j+1] = num + 1; }else{ int num1 = recursive_LCS_Memoization(x, y, i-1, j, res, s); int num2 = recursive_LCS_Memoization(x, y, i, j-1, res, s); res[i+1][j+1] = max(num1, num2); } return res[i+1][j+1]; } /* å¤‡å¿˜å½•çš„åˆå§‹åŒ– */ void init_memoization(vector>& res, string& x, string& y) { // ç¬¬0è¡Œå’Œç¬¬0åˆ—åˆå§‹åŒ–ä¸º0 for(int i = 0; i void printLongest(vector>& s, string& x, string& y, int i, int j) { if (i == -1 or j == -1) return; string last = s[i][j]; if(last == \"â†–\") { printLongest(s, x, y, i-1, j-1); cout 15.5 æœ€å¤§å­æ•°ç»„å’Œ æ¼æ‰ä¸èƒ½é€’å½’ï¼Œæ˜¯ä¸æ„¿çœ‹åˆ°çš„ã€‚ æ”¹å˜å»ºæ¨¡æ–¹å¼ï¼šä»¥$a_k$ç»“å°¾çš„æœ€å¤§å’Œå­æ•°ç»„ $b[j] = max(b[j-1]+a[j], a[j])$ å­é—®é¢˜æ˜¯ä¸æ˜¯æ­£æ•°ï¼Ÿæ­£æ•°å°±åŠ  var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH16ï¼šGreedy_Algorithms.html":{"url":"ç®—æ³•/CH16ï¼šGreedy_Algorithms.html","title":"CH16ï¼šGreedy_Algorithms","keywords":"","body":"CH16ï¼šGreedy Algorithms MindMapï¼š DC---ä¼˜åŒ–--->DP----->Greedy DPï¼šæœ‰æ—¶overkill Greedyï¼šè®¤å‡†ä¸€ç§ 16.1 Activity-Selection Problem æ´»åŠ¨é›†åˆï¼š$A = {a_1,a_2,...,a_n}$ ä¸åŒçš„æ´»åŠ¨æŒç»­æ—¶é—´ä¸åŒï¼Œå¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ï¼š$(s_i,f_i)\\qquad 1\\leq i\\leq n$ ç›®æ ‡ï¼šæœ€å¤§ä¸å†²çªæ´»åŠ¨é›†åˆ \"non-overlapping\" activities Selection \\begin{cases}æŒ‰ç»“æŸæ—¶é—´æ’åºâˆš\\\\æŒ‰å¼€å§‹æ—¶é—´æ’åºï¼Ÿ\\end{cases} 16.1.1 ä¾‹å­åˆ†æ è‹¥ç©·ä¸¾ï¼š$2^n$ç§é€‰æ‹© 16.1.1.1 åˆ†æ²» ï¼ˆ1ï¼‰äºŒåˆ† $a1,a_2,â€¦â€¦,a_k$|$a{k+1},â€¦â€¦,a_n$ â€‹ 3 4 â€‹ 3+4 ï¼Ÿ ä¸ä¸€å®šï¼Œå¯èƒ½å†²çª ä»åˆå¹¶çš„è§’åº¦çœ‹ï¼Œä¸¤ä¸ªå­é—®é¢˜ä¸ç›¸äº’ç‹¬ç«‹ï¼Œå¯èƒ½å†²çªï¼Œæ— æ³•åˆå¹¶ã€‚ ï¼ˆ2ï¼‰næ¨n-1 ä¸äºŒåˆ†é—®é¢˜ç›¸åŒï¼Œä¹Ÿå¯èƒ½å†²çª ï¼ˆ3ï¼‰cross éœ€è¦å­é—®é¢˜æä¾›æ‰€æœ‰çš„æœ€ä¼˜è§£ï¼Œæ¬¡ä¼˜è§£â€¦â€¦è§„æ¨¡å¤±æ§ ï¼ˆ4ï¼‰å»ºæ¨¡å­é—®é¢˜ï¼šæ´»åŠ¨é›† s_{ij} = \\{a_k\\in S: f_i\\leq s_k æ´»åŠ¨iç»“æŸåå¼€å§‹ï¼Œæ´»åŠ¨jå¼€å§‹å‰ç»“æŸçš„æ´»åŠ¨é›†åˆã€‚ å°†æ´»åŠ¨ä½œä¸ºéš”ç¦»ï¼š ä½¿ç”¨ä¸€ä¸ªé›†åˆ$s{0,n+1}$ï¼Œå…¶ä¸­$s_0$çš„ç»“æŸæ—¶é—´ä¸º0æ—¶åˆ»ï¼Œ$s{n+1}$çš„å¼€å§‹æ—¶é—´ä¸ºæ— ç©· æœ€ç»ˆçš„ç­”æ¡ˆæ˜¯$S_{0,n+1}$ ä½¿ç”¨æŸä¸€ä¸ªæ´»åŠ¨ä½œä¸ºéš”ç¦»ï¼Œ ä¸­é—´çš„ç»ˆæ­¢æ¡ä»¶ï¼š$s_{i,j}$ä¸ºç©ºï¼Œå¦‚ï¼ša_içš„ç»“æŸæ¯”a_jçš„å¼€å§‹è¦æ™š $A{i,j} = A{i,k}\\cup {ak}\\cup A{k,j}$ é‚£ä¹ˆï¼Œé—®é¢˜çš„æœ€ä¼˜è§£çš„å€¼å¯ä»¥é€’å½’å®šä¹‰ä¸ºï¼š c[i,j]=\\begin{cases}0&&if\\ S_{i,j}=\\empty\\\\ \\max\\limits_{i 16.1.1.2 Greedy ï¼ˆ1ï¼‰kçš„æŒ‘é€‰ æ˜¯å¦çœŸçš„è¦æŒ‘æ‰€æœ‰çš„kï¼Ÿ å†²çªçš„æ´»åŠ¨ä¸éœ€è¦ä½œä¸ºkè¿›è¡ŒæŒ‘é€‰ é—®é¢˜ç‰¹æ®Šæ€§ï¼šçŸ¥é“k=?æ—¶æœ€ä¼˜ï¼Ÿ æœ€ä¼˜è§£ä¸­ä¸€å®šåŒ…å«ç»“æŸæœ€æ—©çš„ã€‚â€”â€”ä¸ç”¨ç©·ä¸¾æ‰€æœ‰çš„kï¼Œç›´æ¥æ‰¾ç»“æŸæ—¶é—´æœ€æ—©çš„ã€‚ ï¼ˆ2ï¼‰æ±‚è§£å®ç° é€’å½’å®ç° æ²¡æœ‰è¦å’Œjæ¯”çš„ï¼Œajçš„å¼€å§‹æ—¶é—´æ˜¯æ— ç©·å¤§ï¼Œè‚¯å®šæ»¡è¶³ã€‚ è¿­ä»£å®ç° æŒ‰ç…§ç»“æŸæ—¶é—´æ’åºï¼Œè¿›è¡Œæ‰«æå³å¯ã€‚ æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$ void iterate_AS(vector acts, vector& res) { sort(acts.begin(), acts.end(), Activity::cmp); res.push_back(acts[0]); int last_act = 0; for (int i = 1; i = acts[last_act].end) { res.push_back(acts[i]); last_act = i; } } } 16.1.2 è´ªå¿ƒç­–ç•¥åˆ†æ è´ªå¿ƒç­–ç•¥ä½•æ—¶æ»¡è¶³ï¼š Greedy Choice property ä¸€ä¸ªé—®é¢˜çš„å…¨å±€æœ€ä¼˜è§£èƒ½å¤Ÿé€šè¿‡è¯¥å±€éƒ¨æœ€ä¼˜è§£å¾—åˆ° Optimal subtructure ä¸€ä¸ªé—®é¢˜ä¸€å®šä½¿ç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£ 16.2 Knapsack Problem \\begin{cases}0-1èƒŒåŒ…ï¼šè¦ä¹ˆæ‹¿ï¼Œè¦ä¹ˆä¸æ‹¿ï¼Œç©·ä¸¾2^nç§å¯èƒ½æ€§\\\\ åˆ†æ•°èƒŒåŒ…ï¼šæ‹¿å¤šå°‘ï¼Œç©·ä¸¾å¯èƒ½æ€§ä¸ºæ— ç©·å¤§\\end{cases} æœ€ä¼˜å­ç»“æ„çš„åˆ¤å®šï¼šæ˜¯å¦ä¸€å®šä½¿ç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£ï¼Ÿ å­é—®é¢˜ï¼šæ˜¯å¦å‰©ä¸‹çš„å®¹é‡ä¸€å®šç”¨å…¶æœ€å¤§ä»·å€¼ï¼Ÿæ˜¯ â€”â€”æ»¡è¶³æœ€ä¼˜å­ç»“æ„ï¼Œæ¨ç»™å­é—®é¢˜ã€‚ 16.2.1 Fractional Knapsack æ— æ³•æ¨ç»™å­é—®é¢˜ã€‚ æœ€ä¼˜è§£ä¸€å®šè£…æ»¡æ€§ä»·æ¯”æœ€é«˜çš„ã€‚ 16.2.2 0-1 Knapsack Problem ï¼ˆ1ï¼‰åˆ†æ²»æ€è·¯åˆ†æ å¯»æ‰¾è§„æ¨¡å‹ç¼©çš„æ–¹æ³• è§„æ¨¡\\begin{cases}èƒŒåŒ…çš„å®¹é‡\\\\ç‰©å“çš„æ•°é‡\\end{cases}\\qquad ä»»ä½•ä¸€ä¸ªå‡å°‘éƒ½æ˜¯è§„æ¨¡å‹ç¼© æ€è·¯ï¼š â‘  äºŒåˆ†å®¹é‡å’Œç‰©å“ï¼šç»å¸¸ä¸å¯¹ï¼Œå­é—®é¢˜çš„æƒ…å†µå¤ªå¤š â‘¡ næ¨n-1 é‚£ä¹ˆæ¨ç»™å­é—®é¢˜æœ‰ä¸¤ç§æƒ…å†µï¼š \\begin{cases}å®¹é‡å…¨ç»™å­é—®é¢˜\\\\å®¹é‡è‡ªå·±ç•™ä¸€éƒ¨åˆ†ï¼Œå‰©ä½™éƒ¨åˆ†ç»™å­é—®é¢˜\\end{cases} å­é—®é¢˜é€’å½’æ±‚è§£ æœ€ä¼˜è§£çš„å€¼ï¼šèƒ½å¾—åˆ°çš„æœ€å¤§ä»·å€¼ï¼š $c[i,j]ï¼šå‰iä¸ªç‰©å“ï¼ŒèƒŒåŒ…å®¹é‡ä¸ºj$ï¼š c[i,j] = max(c[i-1, j], c[i-1,j-w[i]] + v[i]) å¯¹ç‰©å“çš„é¡ºåºæ— è¦æ±‚ï¼Œå®é™…é€»è¾‘å°±æ˜¯è¦åˆ—ä¸¾æ¯ä¸ªç‰©å“è£…å…¥æˆ–è€…ä¸è£…å…¥ å®é™…ä¸Šé€’å½’æ¯”ä¸¤ä¸ªforè¦å¿«ï¼Œï¼šåªä¼šè°ƒéƒ¨åˆ†ï¼Œä¸æ˜¯æ‰€æœ‰çš„å­é—®é¢˜éƒ½è¦è®¡ç®—ã€‚ åˆå§‹çš„æ¡ä»¶ï¼šèƒŒåŒ…å®¹é‡ä¸ºç©ºå’Œå¯é€‰ç‰©å“ä¸ºç©ºæ—¶ï¼Œä»£ä»·å‡ä¸º0 // 0-1èƒŒåŒ…ï¼Œé€’å½’æ±‚è§£å‰item_numä¸ªç‰©å“åœ¨èƒŒåŒ…å®¹é‡ä¸ºcapacityæ—¶çš„æœ€å¤§ä»·å€¼ // ä½¿ç”¨å¤‡å¿˜å½• double knapstack_dp(vector& items, int item_num, int capacity, vector>& result, vector& choose) { // æŸ¥çœ‹å¤‡å¿˜å½• if(result[item_num][capacity] != -99999) { return result[item_num][capacity]; } // å½“å‰ç‰©å“çš„é‡é‡å·²ç»è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œç›´æ¥è¿”å›ç»™å­é—®é¢˜ if(items[item_num-1].weight > capacity) { result[item_num][capacity] = knapstack_dp(items, item_num-1, capacity, result, choose); // æ‰“å¤‡å¿˜å½• choose[item_num - 1] = false; return knapstack_dp(items, item_num-1, capacity, result, choose); // è¿”å› } // å¦åˆ™ä¸¤ä¸ªå­é—®é¢˜ä¸­æŒ‘å‡ºæ›´ä¼˜çš„ double with_now = knapstack_dp(items, item_num - 1, capacity - items[item_num-1].weight, result, choose) + items[item_num-1].value; // è£…å…¥å½“å‰çš„ç‰©å“ double without_now = knapstack_dp(items, item_num - 1, capacity, result, choose); // ä¸è£…å½“å‰çš„ç‰©å“ // äºŒæŒ‘ä¸€ if(with_now >= without_now) { result[item_num][capacity] = with_now; choose[item_num - 1] = true; }else{ result[item_num][capacity] = without_now; choose[item_num - 1] = false; } return result[item_num][capacity]; } // åˆå§‹åŒ–å¤‡å¿˜å½• void init_memoization(vector>& result, int item_num, int capacity) { for (int i = 0; i & items, int capacity, vector>& result, vector& choose) { init_memoization(result, items.size(), capacity); // åˆå§‹åŒ–è¡¨æ ¼ for (int i = 1; i = items[i-1].weight && result[i-1][j - items[i-1].weight] + items[i-1].value > result[i-1][j]) { choose[i-1] = true; result[i][j] = result[i-1][j - items[i-1].weight] + items[i-1].value; }else{ choose[i-1] = false; result[i][j] = result[i-1][j]; } } } return result[items.size()][capacity]; } 16.3 Huffman codes 16.3.1 åº”ç”¨èƒŒæ™¯ å®šé•¿ç¼–ç å’Œå˜é•¿ç¼–ç æ•ˆç‡ä¸åŒï¼š 16.3.2 Prefix-free Code æ— å‰ç¼€ç ï¼Œè§£ç ç»“æœæ˜¯å”¯ä¸€çš„ã€‚ å“ˆå¤«æ›¼ç¼–ç çš„æ±‚è§£è¿‡ç¨‹ï¼š var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH24ï¼šShorest_Path.html":{"url":"ç®—æ³•/CH24ï¼šShorest_Path.html","title":"CH24ï¼šShorest_Path","keywords":"","body":"CH24ï¼šShorest Path MindMapï¼š 24.1 å®šä¹‰ æœ€çŸ­è·¯å¾„é—®é¢˜ï¼š æœ€ä¼˜è§£ï¼šæœ€çŸ­è·¯å¾„ï¼Œæ€ä¹ˆèµ° æœ€ä¼˜è§£çš„å€¼ï¼šæœ€çŸ­è·¯å¾„çš„é•¿åº¦ æœ€çŸ­è·¯å¾„çš„æƒé‡å®šä¹‰ä¸ºï¼š æœ€çŸ­è·¯å¾„çš„æƒé‡å®šä¹‰ä¸ºï¼š\\begin{cases}min(\\{w(p)ï¼š\\text{if there is a path p from u to v}\\} \\\\ \\infty\\quad otherwise\\end{cases} ä¸€èˆ¬ä½¿ç”¨æœ‰å‘å›¾ï¼Œæ— å‘å›¾è§†ä½œåŒå‘ã€‚ æœ€çŸ­è·¯å¾„ä¸€å®šæ»¡è¶³æœ€ä¼˜å­ç»“æ„ï¼ˆä¸å¯ç”¨simpleçº¦æŸï¼‰ ä¸‰è§’ä¸ç­‰å¼ï¼š \\sigma (u,v)\\leq \\sigma(u,x)+\\sigma(x,v) å¦‚æœå›¾ä¸­åŒ…å«è´Ÿæƒç¯ï¼Œé‚£ä¹ˆæœ€çŸ­è·¯å¾„å¯èƒ½ä¸å­˜åœ¨ã€‚ 24.2 Single-Source shortest path å•æºï¼šæºç‚¹çš„ä½ç½®å›ºå®šï¼Œsourceå›ºå®š æ¯å¯¹$\\sigma(u,v)$ï¼šæ¯ä¸€å¯¹ç»“ç‚¹ä¹‹é—´ 24.2.1 ç®—æ³•åˆ†æ æ»¡è¶³æœ€ä¼˜å­ç»“æ„ï¼šä¸€å®šä½¿ç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£ äºŒåˆ† kæ˜¯ä¸­é—´çš„ä¸€ä¸ªç»“ç‚¹ï¼Œæ‰¾u->k + k->vï¼Œç©·ä¸¾æ‰€æœ‰çš„kï¼ŒæŒ‘ä¸€ä¸ªæœ€å°çš„ æ— æ³•è®¡ç®—ï¼šå¯èƒ½å­˜åœ¨å­é—®é¢˜äº’ç›¸åŒ…å«ã€‚ næ¨n-1 ä¸€æ ·çš„é—®é¢˜ã€‚ è®¡ç®—æ¬¡åºçš„ç¡®å®šæ˜¯æœ€çŸ­è·¯å¾„çš„å…³é”®ã€‚ è®¡ç®—æ¬¡åºæ˜¯å¦å­˜åœ¨? \\begin{cases}æ— é¡ºåºï¼šäººä¸ºçš„å¢åŠ ä¸€ä¸ªé¡ºåº\\\\ æœ‰é¡ºåºï¼šå°è¯•ï¼Œåˆ†åˆ«åšå­é—®é¢˜çš„å°è¯•\\end{cases} 24.2.2 dijkstraç®—æ³• ï¼ˆ1ï¼‰æ€è·¯åˆ†æ é¡ºåºæ˜¯å¦çœŸçš„ä¸å­˜åœ¨ï¼Ÿè€ƒè™‘ä¸‹é¢çš„å›¾ï¼š ç‰¹ç‚¹ï¼šæ— è´Ÿæƒï¼Œå¯èƒ½å­˜åœ¨è®¡ç®—æ¬¡åº æ— è´Ÿæƒå€¼çš„å›¾æœ‰ç‰¹ç‚¹ï¼šè¶Šå¾€åèµ°è·¯å¾„åªèƒ½è¶Šé•¿ï¼Œæ‰€ä»¥å¯¹äºä»Aåˆ°å…¶ä½™çš„ç‚¹ï¼ŒCç¦»Aæ›´è¿‘ï¼Œåªå¯èƒ½Cæ˜¯åˆ«çš„é—®é¢˜çš„å­é—®é¢˜ï¼Œä¸å¯èƒ½åˆ«çš„é—®é¢˜æ˜¯Cçš„å­é—®é¢˜ã€‚äºæ˜¯ï¼š å°è¯•è®©Cå½“åˆ«çš„é—®é¢˜çš„å­é—®é¢˜ å°è¯•è®©Eå½“åˆ«çš„é—®é¢˜çš„å­é—®é¢˜ å°è¯•è®©Bå……å½“åˆ«çš„é—®é¢˜çš„å­é—®é¢˜ â€¦â€¦ ä¸å‰é¢çš„DPé€»è¾‘çš„ä¸åŒï¼š DPï¼šçˆ¶é—®é¢˜æ‰¾å­é—®é¢˜ ç°åœ¨ï¼šå­é—®é¢˜æ‰¾çˆ¶é—®é¢˜ å³dijkstraç®—æ³• ï¼ˆ2ï¼‰ç¨‹åºå®ç° ï¼ˆ3ï¼‰æ—¶é—´å¤æ‚åº¦åˆ†æ æœ€åçš„æƒ…å†µä¸‹ï¼Œæ¯æ¡è¾¹éƒ½ä¼šç”¨æ¥åšæ¾å¼›ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºï¼š T(n) = \\Theta(VT_{EXTRACT\\_MIN} +ET_{DECREASE\\_KEY}) Q $T_{EXTRACT_MIN}$ $T_{DECREASE_KEY}$ Total array O(V) O(1) O(v2) Binary Heap O(lgV) O(lgV) O(ElgV) Fibonacci Heap O(lgV) O(1) O(E+VlgV) 24.2.3 å…¶ä»–è¾¹æƒçš„æƒ…å†µ 24.2.3.1 æ— æƒå›¾ ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œå †æ•°æ®ç»“æ„æ¢ä¸ºé˜Ÿåˆ—å³å¯ã€‚ æ—¶é—´å¤æ‚åº¦$Time=O(V+E)$ 24.2.4 Bellman-Ford å¦‚æœçœŸçš„å«æœ‰è´Ÿæƒå€¼è¾¹ï¼Œé‚£ä¹ˆä¹‹å‰çš„è®¡ç®—æ¬¡åºå°†ä¸å¯ç”¨ï¼Œä½¿ç”¨Bellman-Ford å…¶æ€æƒ³åœ¨äºï¼šè‹¥å­é—®é¢˜åµŒå¥—ï¼Œé‚£ä¹ˆå¤šä½¿ç”¨å‡ æ¬¡ã€‚åªè¦æœ‰ä¸€æ¡è¾¹å°±æ‹¿æ¥å°è¯•æ›´æ–°ï¼Œä½†ä¸æ˜¯åªä½¿ç”¨ä¸€æ¬¡ã€‚ æœ¬è´¨ï¼šç©·ä¸¾æ‰€æœ‰çš„å‰é©± å¾ªç¯æ¬¡æ•°ï¼š|V|-1 ç¨‹åºå®ç°ï¼š ç®—æ³•å®ç°æ—¶ï¼Œå¯ä»¥ä¸ºéå†è¾¹çš„æ¬¡åºè¿›è¡Œè§„å®šã€‚æŒ‰ç…§æ¬¡åºåˆ©ç”¨æ¯æ¡è¾¹å°è¯•è¿›è¡Œæ¾å¼›ã€‚ /*** Bellman-Fordç®—æ³• ***/ void Graph::bellman_ford(char s) { int source = s - 'A'; // æºç‚¹çš„ä¸‹æ ‡ vector distance(vexnum, 999999); // è·ç¦»æ•°ç»„çš„åˆå§‹åŒ– distance[source] = 0; vector pre(vexnum, '@'); int iternum = vexnum - 1; for (int i = 0; i distance[j] + arcList[j][k].weight) { distance[target] = distance[j] + arcList[j][k].weight; pre[target] = j + 'A'; } } } } // å†æ¾å¼›ä¸€æ¬¡ï¼Œè‹¥æœ‰è´Ÿç¯åˆ™æŠ¥é”™ for (int i = 0; i distance[i] + arcList[i][j].weight) { cout æ€è€ƒï¼Œä¸ºä»€ä¹ˆè¿›è¡Œn-1è½®å³å¯ã€‚ ä¸€ä¸ªæ— è´Ÿç¯çš„å›¾ï¼Œæœ€çŸ­è·¯å¾„çš„è¾¹çš„æœ€å¤šæ¡æ•°ä¸ºn-1æ¡ï¼Œå¦åˆ™ä¼šå‡ºç°ç¯ã€‚ ä¸ç»•ç¯çš„æœ€çŸ­è·¯å¾„ï¼Œè¾¹æ•°æœ€å¤šæ˜¯n-1 24.3 All-pairs shorest path æ‰€æœ‰ç»“ç‚¹å¯¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼š æ— è´Ÿæƒï¼šè·‘nédijkstra $O(V^2lgV + EVlgV)$ å«è´Ÿæƒï¼šè·‘néBellman-Ford 24.3.1 ç”¨è¾¹æ•°åšçº¦æŸçš„DP ï¼ˆ1ï¼‰ç®—æ³•æ€æƒ³ Dynamic Programming è§„æ¨¡å˜å°ï¼šè¾¹æ•°å˜å°‘ é™åˆ¶è¾¹çš„æ•°é‡â€”â€”næ¨n-1 å®šä¹‰ï¼š d_{ij}^m:ä»iâ†’jæœ€å¤šè¿‡mæ¡è¾¹çš„æœ€çŸ­è·¯å¾„ é‚£ä¹ˆæœ‰ï¼š d_{ij}^0 =\\begin{cases}0&& if \\ i=j\\\\ \\infty&& if\\ i\\neq j\\end{cases} æ¾å¼›ä¸ºï¼š æ±‚ k ---> vçš„æœ€çŸ­è·¯å¾„ï¼Œè¿‡100æ¡è¾¹çš„æœ€çŸ­è·¯å¾„ï¼Œæ±‚99æ¡ï¼Œç©·ä¸¾k d_{ij}^{(m)}=\\min_{k}\\{d_{i,k}^{(m-1)} + a_{k,j}\\} æœ€ç»ˆåˆ»ç”»é—®é¢˜ä¸ºæœ€å¤šè¿‡xæ¡è¾¹çš„æœ€çŸ­è·¯å¾„ã€‚ è‡ªä¸Šè€Œä¸‹ï¼šæ¨åˆ°m=0æ—¶å°±æœ‰ç­”æ¡ˆäº†ã€‚ è‡ªä¸‹è€Œä¸Šï¼šä»m=0å¼€å§‹æ¨ï¼Œmä»å°åˆ°å¤§è®¡ç®— d_{ij}^0ï¼šiåˆ°jæœ€å¤š0æ¡è¾¹\\rightarrow d_{ij}^1ï¼šiåˆ°jæœ€å¤š1æ¡è¾¹\\rightarrowâ€¦â€¦d_{ij}^{n-1}ï¼šiåˆ°jæœ€å¤šn-1æ¡è¾¹ æ— è´Ÿç¯ï¼Œæœ€çŸ­è·¯å¾„æœ€å¤šn-1æ¡è¾¹ã€‚ å‡è®¾ä½¿ç”¨è¿­ä»£çš„æ–¹å¼ï¼š for m = 1~n-1 // æ¯ä¸ªmè®¡ç®—ä¸€ä¸ªäºŒç»´æ•°ç»„ for i = 1~n for j = 1~n for k = 1~n // æ‰€æœ‰å‰é©± éœ€è¦ä½¿ç”¨ä¸‰ç»´æ•°ç»„ï¼Œé€»è¾‘ä¸Šæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ å®é™…çš„æ“ä½œæ²¡æœ‰æ ‡mï¼š è®¡ç®—çš„è¿‡ç¨‹å¯èƒ½è¢«åŠ é€Ÿï¼š æ— è´Ÿç¯ï¼š \\sigma(i,j) = d_{ij}^{(n-1)} = d_{ij}^{(n)}=d_{ij}^{(n+1)}â€¦â€¦ æ•…måœ¨å·¥ç¨‹ä¸­å¯ä»¥çœç•¥ã€‚ è´Ÿç¯å¦‚ä½•æ£€æµ‹ï¼Ÿ å†è®¡ç®—ä¸€è½®æœªå¿…èƒ½æ£€æµ‹å‡ºæ¥ è§£å†³ï¼ši=jçš„åœºæ™¯ï¼Œæ£€æŸ¥å¯¹è§’çº¿æ˜¯å¦æœ‰è´Ÿå€¼ï¼Œå¹¶å°†mç®—åˆ°n å°†è¯¥ç®—æ³•åº”ç”¨åˆ°å•æºç‚¹ï¼Œå³ä¸ºBellman-Fordç®—æ³•ã€‚ ï¼ˆ2ï¼‰æ”¹è¿›ï¼šMatrix multiplication æ¯æ¬¡ä½¿ç”¨ä¸Šä¸€æ¬¡è®¡ç®—çš„ç»“æœå’Œé‚»æ¥çŸ©é˜µè®¡ç®—ä¸€ä¸ªæ–°çš„çŸ©é˜µã€‚ä¸Šè¿°æ€æƒ³çš„ä¼ªä»£ç è¡¨ç¤ºå¦‚ä¸‹ï¼š for m = 1 ~ n-1 for i = 1 ~ n for j = 1 ~ n for k = 1 ~ n if d_ij^m >= d_ik^m + a_{k,j} d_ij^m = d_ik^m + a_{k,j} éœ€è¦ç©·ä¸¾æ‰€æœ‰çš„kï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯ç»“æœçŸ©é˜µçš„ç¬¬iè¡Œå»åŠ ä¸Šé‚»æ¥çŸ©é˜µçš„ç¬¬jåˆ—ã€‚â€”â€”ç±»ä¼¼äºçŸ©é˜µç›¸ä¹˜çš„é€»è¾‘ C_{ij} = \\min\\{a_{ik}+b_{kj}\\} 24.3.2 ç”¨é¡¶ç‚¹æ•°åšçº¦æŸçš„DPï¼šFolyed Warshell ï¼ˆ1ï¼‰ç®—æ³•æ€è·¯ å®šä¹‰ï¼š c_{ij}^kè¡¨ç¤ºä»iåˆ°jæœ€å¤šç»è¿‡å‰é¢kä¸ªé¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ å°è¯•næ¨n-1ï¼š è¿‡å‰nä¸ªç»“ç‚¹ å°è¯• æ¨ç»™è¿‡å‰n-1ä¸ªç»“ç‚¹ï¼Œç±»æ¯”0-1èƒŒåŒ…ï¼Œé‚£ä¹ˆåªæœ‰ä¸¤ç§æƒ…å†µï¼š c_{ij}^{(k)}\\begin{cases}è¿‡ç¬¬kä¸ªé¡¶ç‚¹ï¼šc_{ik}^{(k-1) }+ c_{kj}^{(k-1)}\\\\ ä¸è¿‡ç¬¬kä¸ªé¡¶ç‚¹ï¼šc_{ij}^{(k-1)}\\end{cases} è¿‡0ä¸ªç»“ç‚¹æ—¶ï¼Œ$a_{ij}$çš„æƒå€¼å°±æ˜¯ç­”æ¡ˆ c_{ij}^{(k)} = \\min_k\\{c_{ij}^{(k-1)}, c_{ik}^{(k-1)}+c_{kj}^{(k-1)}\\} æœ€ç»ˆè¿‡ä¸è¿‡ç¬¬kä¸ªç»“ç‚¹ï¼Œæ¯”è¾ƒè¿›è¡Œç¡®å®šã€‚ ä¼ªä»£ç ï¼š for k = 1 ~ n for i = 1 ~ n for j = 1 ~ n do if cij > cik + ckj // Relaxation then cij = cik + ckj åªç”¨ä¸€ä¸ªæ•°ç»„ï¼Œå’Œä¸Šè¿°çš„ç”¨è¾¹çº¦æŸç›¸åŒï¼Œå¯èƒ½ä¼šåŠ é€Ÿè®¡ç®—ï¼Œä½†ç»“æœä¸ä¼šå‡ºé”™ã€‚ Exampleï¼š ä¸€ä¸ªç»“ç‚¹éƒ½ä¸è¿‡ï¼šåŸè·ç¦»çŸ©é˜µ è¿‡ç¬¬1ä¸ªç»“ç‚¹ è¿‡ç¬¬2ä¸ªç»“ç‚¹ è¿‡ç¬¬3ä¸ªç»“ç‚¹ ï¼ˆ2ï¼‰è´Ÿç¯æ£€æµ‹ 24.4 Johnson ç®—æ³• è¦æ˜¯æ˜¯æ­£æƒå€¼ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨dijkstraç®—æ³•ï¼Œå¦‚ä½•é‡èµ‹æƒï¼Ÿ è€ƒè™‘ä¸‹é¢çš„å›¾ï¼Œè‹¥é¡¶ç‚¹æƒå€¼å¦‚ä¸‹ï¼Œä½¿ç”¨$w(u,v)+h(u)-h(v)$å¾—åˆ°ä¸€ä¸ªæ–°çš„æƒå€¼ï¼Œä¸ºæ­£å€¼ï¼š è¿è¡Œä¸€édijkstraï¼Œå¾—åˆ°çš„æœ€çŸ­è·¯å¾„å€¼åšreweighting é€‰æ‹©è°å½“source æ•°å­¦æ€§è´¨ä¸Šä»»ä½•ç‚¹éƒ½å¯ä»¥æˆç«‹ï¼Œä½†æ˜¯è¦ç”¨äºä¿®æ”¹åŸæ¥çš„æƒå€¼ sourceåˆ°æ¯ä¸ªç‚¹çš„è·ç¦»ä¸èƒ½æ˜¯æ— ç©·å¤§ å®é™…å·¥ç¨‹ä¸Šï¼Œä½¿ç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„æºç‚¹sourceï¼Œåˆ°ä»»ä½•ç‚¹çš„è·ç¦»ä¸º0 ä½¿ç”¨å“ªä¸ªç®—æ³•ï¼Ÿ Bellman-Ford ç®—æ³•æ­¥éª¤ï¼š Bellman-Fordå¢åŠ ç‚¹çš„æƒ…å†µä¸‹è·‘æœ€çŸ­è·¯å¾„å€¼ï¼Œä½œä¸ºé¡¶ç‚¹å€¼ é‡èµ‹æƒ è·‘dijkstra var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç®—æ³•/CH25ï¼šBack-Tracking.html":{"url":"ç®—æ³•/CH25ï¼šBack-Tracking.html","title":"CH25ï¼šBack-Tracking","keywords":"","body":"CH25ï¼šBack-Tracking MindMapï¼š 15.1 Back-Tracking Paradigm ä½¿ç”¨åœºæ™¯ï¼šæ— æ³•ä½¿ç”¨æœ€ä¼˜å­ç»“æ„ é—®é¢˜ç‰¹å¾ï¼š ç®—æ³•ä½¿ç”¨ç­–ç•¥ å¯ä»¥ç”¨æ¥è§£ä¼˜åŒ–é—®é¢˜ä¹Ÿå¯ä»¥ç”¨æ¥æ±‚è§£å¯è¡Œè§£ å›æº¯\\begin{cases}å¯»æ‰¾å¯è¡Œè§£\\\\ å¯»æ‰¾æœ€ä¼˜è§£\\end{cases} å°†é—®é¢˜å»ºæ¨¡ä¸ºnå…ƒç»„ï¼š$(x_1,x_2,...,x_n)$ çº¦æŸæ¡ä»¶ï¼š \\begin{cases}æ˜¾å¼çº¦æŸï¼šexplictå˜é‡å–å€¼èŒƒå›´\\\\ éšå¼çº¦æŸï¼šinplicitåˆ†é‡ä¸åˆ†é‡ä¹‹é—´çš„å…³ç³»\\end{cases} 15.2 N-Queens ç‰¹å¾ï¼šå¯»æ‰¾å¯è¡Œè§£ 15.2.1 é—®é¢˜åˆ†æ è‹¥é‡‡ç”¨åˆ†æ²»ç­–ç•¥ï¼š æ— æ³•åˆå¹¶ï¼Œå­é—®é¢˜ä¹‹é—´å¹¶ä¸æ˜¯ç›¸äº’ç‹¬ç«‹çš„ næ¨n-1ï¼Œä»æ— æ³•è§£å†³å­é—®é¢˜ä¸ç›¸äº’ç‹¬ç«‹çš„é—®é¢˜ æ±‚è§£ï¼Ÿ â€”â€”æš´åŠ›ç©·ä¸¾ã€æœç´¢æ˜¯ä¸€ç§ç±»ä¼¼äºç©·ä¸¾çš„æ–¹å¼ã€‘ æ¯ä¸ªæ£‹ç›˜8Ã—8ä¸ªä½ç½®ä¸ç”¨éƒ½å°è¯•ï¼ŒnÃ—næ£‹ç›˜ä¸€å®šæ¯ä¸€è¡Œæ”¾ä¸€ä¸ªï¼Œæ¯ä¸€åˆ—æ”¾ä¸€ä¸ªã€‚ åšæ³•ï¼š ç»™è¡Œç¼–å·ï¼Œç¬¬$i$ä¸ªæ£‹å­æ”¾åœ¨ç¬¬$i$è¡Œ ç»™åˆ—ç¼–å·ï¼Œæ¯ä¸ªæ£‹å­åšåˆ—çš„é€‰æ‹© å€™é€‰è§£å³ä¸€ä¸ª8å…ƒç»„ï¼š$(x_1,x_2,...,x_8)$ï¼Œ$x_i$æ˜¯æ£‹å­çš„åˆ—å· 15.2.2 é—®é¢˜æ±‚è§£ ï¼ˆ1ï¼‰çº¦æŸæ¡ä»¶ æ˜¾å¼çº¦æŸï¼šæ¯ä¸ªæ£‹å­çš„åˆ—å·åœ¨1~8ä¹‹é—´ï¼Œå³$x_i\\in{1,2,3,4,5,6,7,8},1\\leq i\\leq 8$ éšå¼çº¦æŸï¼šæ£‹å­ä¸èƒ½åŒè¡Œï¼ŒåŒåˆ—ï¼ŒåŒæ–œçº¿ï¼Œå³ x_i\\neq x_jä¸”|x_i-x_j|\\neq |i-j| ï¼ˆ2ï¼‰æ±‚è§£ç©ºé—´æ ‘ æ‰€æœ‰çš„å€™é€‰çš„è§£ï¼šä»æ ¹åˆ°å¶å­çš„æ‰€æœ‰è·¯å¾„ æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼šé—®é¢˜è§£å†³çš„ç›®å‰çŠ¶æ€ èŠ‚ç‚¹çš„åˆ†ç±»ï¼š Alive-Nodeï¼šå­©å­èŠ‚ç‚¹è¿˜æœªç”Ÿæˆå®Œçš„ç»“ç‚¹â€”â€”å¯èƒ½ä¸æ­¢ä¸€ä¸ªæ´»ç»“ç‚¹ E-Nodeï¼šå­©å­ç»“ç‚¹æ­£åœ¨ç”Ÿæˆâ€”â€”åªæœ‰ä¸€ä¸ªE-ç»“ç‚¹ Dead-Nodeï¼šå­©å­ç»“ç‚¹å·²ç»æŒ‘é€‰å®Œï¼Œæˆ–è€…äººä¸ºå»é™¤ ï¼ˆ3ï¼‰æœç´¢çš„DFSå’Œåˆ†æ”¯é™ç•Œ DFS é—®é¢˜çš„æ·±åº¦ä¼˜å…ˆæœç´¢çš„è¿‡ç¨‹ï¼š DFSï¼šåªæœ‰å½“æ·±æœæ— æ³•å‘ä¸‹ç»§ç»­æ—¶ï¼Œæ‰ä¼šåˆ‡æ¢E-èŠ‚ç‚¹ åˆ†æ”¯é™ç•Œ BFSæ˜¯åˆ†æ”¯é™ç•Œçš„ä¸€ç§ï¼Œä½†åˆ†æ”¯é™ç•Œä¸éƒ½æ˜¯BFS ä½¿ç”¨é™ç•Œå‡½æ•°bound functionå»è®¤ä¸ºçš„æ ‡è®°æ´»ç»“ç‚¹ä¸ºæ­»ç»“ç‚¹ï¼Œæ˜¯å›æº¯å’Œæš´åŠ›æœç´¢çš„åŒºåˆ«ã€‚ 15.2.3 å›æº¯çš„ä¸€èˆ¬å†™æ³• ï¼ˆ1ï¼‰ä¸€èˆ¬å†™æ³• ï¼ˆ2ï¼‰Nçš‡åé—®é¢˜æ±‚è§£ ä¸»ç¨‹åº é™ç•Œå‡½æ•° 15.3 0-1èƒŒåŒ…é—®é¢˜ èƒŒåŒ…ç±»æ¯”çš‡åï¼ŒèƒŒåŒ…é—®é¢˜ä¸­ä½¿ç”¨çš„é™ç•Œå‡½æ•°ä¸ºåˆ†æ•°èƒŒåŒ…çš„æ€æƒ³ã€‚ // å›æº¯æ³•æ±‚è§£èƒŒåŒ…é—®é¢˜-[è¿­ä»£] vector knapsack_dfs(int capacity, vector& items, vector& res) { sort(items.begin()+1, items.end(), Item::cmp); int k = 1; int item_num = items.size() - 1; // å»é™¤ä¸¤ä¸ªé¢å¤–çš„ä½ç½® double max_v_w = items[1].v_w; res[0] = 0; // åˆå§‹åŒ–ä¸º0 res[item_num + 1] = 0; vector bestChoice = res; // åˆå§‹åŒ–ä»€ä¹ˆç‰©å“éƒ½ä¸è£…, ä¸‹æ ‡ç¬¬ä¸€ä¸ªä½ç½®æ”¾æ­¤æ—¶çš„ç‰©å“æ€»ä»·å€¼ while (k > 0) { // å›é€€åˆ°ç¬¬0ä¸ªç‰©å“ï¼Œä¸å­˜åœ¨ç¬¬0ä¸ªç‰©å“ï¼Œç»ˆæ­¢ res[k] += 1; // å€¼é€’å¢ while (res[k] bestChoice[items.size()]) { bestChoice = res; // é‡ç½®æœ€å¥½çš„å€¼ã€‚ } }else{ // å¯ä»¥ç»§ç»­å°è¯• k++; res[k] = -1; } } else { // è¯¥ç»“ç‚¹æ²¡æœ‰å†è¢«å°è¯•çš„å¯èƒ½ï¼Œå›é€€ k--; // åšä¸‹ä¸€æ­¥çš„é€‰æ‹© } } return bestChoice; } 15.4 General Method 15.4.1 Branch & Bound Paradigm ï¼ˆ1ï¼‰D-Search å¹¿æœä½¿ç”¨é˜Ÿåˆ— D-Searchä½¿ç”¨æ ˆ ï¼ˆ2ï¼‰çš‡åé—®é¢˜ä½¿ç”¨åˆ†æ”¯é™ç•Œ åœ¨å±•å¼€æ—¶ä½¿ç”¨é™ç•Œå‡½æ•°ï¼š ä½¿ç”¨é˜Ÿåˆ—ä½œä¸ºæ•°æ®ç»“æ„ åˆ†æ”¯é™ç•Œéœ€è¦æŠŠæ ‘ä¿ç•™ä¸‹æ¥ã€‚å¦åˆ™å˜é‡ä¹‹é—´çš„å…³ç³»ä¼šä¸¢å¤± ï¼ˆ3ï¼‰åˆ†æ”¯é™ç•Œçš„å¯ä¼˜åŒ–æ€§ åˆ†æ”¯é™ç•Œä¸å›æº¯çš„æ¯”è¾ƒ è‹¥åªæ‰¾ä¸€ä¸ªè§£ï¼Œé‚£ä¹ˆæ´»ç»“ç‚¹çš„é€‰æ‹©ä¸Šï¼Œæ— è®ºæ˜¯å›æº¯è¿˜æ˜¯åˆ†æ”¯é™ç•Œï¼Œé€‰æ‹©æ´»ç»“ç‚¹çš„æ–¹å¼è¿‡äºæ­»æ¿ æ ˆæˆ–è€…æ˜¯é˜Ÿåˆ—éƒ½æ— åŠ©äºæ‰¾åˆ°answer ä½¿ç”¨åˆ«çš„æ–¹å¼ï¼šæ´»ç»“ç‚¹è¯„ä»·å‡½æ•° åˆ©ç”¨è¯„ä»·å‡½æ•°é€‰æ‹©æ›´å¥½çš„æ´»ç»“ç‚¹ï¼Œç»“ç‚¹çš„ä»£ä»·ï¼šcost ä»¥Xä¸ºæ ‘æ ¹çš„æ ‘ä¸­éœ€è¦ç”Ÿæˆå¤šå°‘ä¸ªç»“ç‚¹æ‰èƒ½æ‰¾åˆ°answer Xç¦»ä»–æœ€è¿‘çš„answeréœ€è¦åˆ‡æ¢å‡ æ¬¡ æ­¤æ—¶æ´»ç»“ç‚¹è¡¨åº”è¯¥ä½¿ç”¨å †ï¼Œè¿™ç§è§£æ³•æœ‰äº›äº‹åè¯¸è‘›äº® ï¼ˆ4ï¼‰LC-Search å¯¹ä»£ä»·è¿›è¡Œä¼°è®¡ï¼šLC-Search è€ƒè™‘å› ç´ ï¼š\\begin{cases}ä¼°è®¡ä»£ä»·\\\\æ ¹åˆ°è¯¥ç»“ç‚¹çš„æ·±åº¦\\end{cases} g(x)ï¼šä¼°è®¡ä»ç»“ç‚¹åˆ°ä¸€ä¸ªè§£çš„ä»£ä»·â€”â€”å¼•å¯¼æˆ‘ä»¬åšæ·±åº¦ä¼˜å…ˆæœç´¢ ä¸€èˆ¬å­©å­ç»“ç‚¹ä»£ä»· h(x)ï¼šè¯¥ç»“ç‚¹åˆ°æ ¹çš„æ·±åº¦ 15.5 15-Puzzle é—®é¢˜ç©ºé—´ï¼š16!ç§å¯èƒ½æ€§ 15.5.1 ä½¿ç”¨DFSæˆ–BFS ï¼ˆ1ï¼‰DFS ï¼ˆ2ï¼‰BFS 15è¿·é—®é¢˜ä½¿ç”¨å›æº¯æ˜¯ä¸åˆé€‚çš„ 15.5.2 LCS ä»£ä»·å®šä¸ºï¼šæœ‰å‡ å—æ²¡æ‘†å¥½ ä½†è¦åŠ ä¿®æ­£ï¼šæ·±åº¦+â€œä¼°è®¡ä»£ä»·â€ æœªç”¨å…ˆéªŒçŸ¥è¯†ï¼š LC-Searchçš„æ ¸å¿ƒï¼šè®¾è®¡c(x) var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶ä½“ç³»ç»“æ„/about.html":{"url":"è½¯ä»¶ä½“ç³»ç»“æ„/about.html","title":"è½¯ä»¶ä½“ç³»ç»“æ„","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶ä½“ç³»ç»“æ„/CH1ï¼šIntroduction.html":{"url":"è½¯ä»¶ä½“ç³»ç»“æ„/CH1ï¼šIntroduction.html","title":"CH1ï¼šIntroduction","keywords":"","body":"CH1ï¼šIntroduction Only one Pointï¼šè½¯ä»¶ä½“ç³»ç»“æ„çš„å®šä¹‰ ä¸å­˜åœ¨ç»Ÿä¸€çš„å®šä¹‰ å„ä¸ªæµæ´¾å¯¹è½¯ä»¶ä½“ç³»ç»“æ„çš„å®šä¹‰ é‡ç‚¹å…³æ³¨ï¼š Garlan and Shawå¯¹è½¯ä»¶ä½“ç³»ç»“æ„çš„å®šä¹‰ è¶…è¶Šç®—æ³•å’Œæ•°æ®ç»“æ„çš„è®¡ç®—ï¼› è®¾è®¡å’Œç¡®å®šç³»ç»Ÿçš„æ€»ä½“ç»“æ„æ˜¯ä¸€ä¸ªæ–°çš„è¯¾é¢˜ã€‚ ç»“æ„é—®é¢˜åŒ…æ‹¬ç»„ç»‡å’Œå…¨å±€æ§åˆ¶ç»“æ„ã€é€šä¿¡åè®®ã€åŒæ­¥å’Œæ•°æ®è®¿é—®ã€å°†åŠŸèƒ½åˆ†é…ç»™è®¾è®¡å…ƒç´ ã€ç‰©ç†åˆ†å¸ƒ è®¾è®¡å…ƒç´ çš„æ„æˆ æ‰©å±•å’Œæ€§èƒ½ï¼Œè®¾è®¡æ–¹æ¡ˆçš„é€‰æ‹© æ¦‚æ‹¬ä¸º ä½“ç³»ç»“æ„ = ç»„ä»¶ + è¿æ¥ä»¶ + çº¦æŸ ç»„ä»¶ï¼šä¸€ç»„ä»£ç ï¼Œä¹Ÿå¯ä»¥æ˜¯ç‹¬ç«‹çš„ç¨‹åº è¿æ¥ä»¶ï¼šç»„ä»¶ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œè¿‡ç¨‹è°ƒç”¨ã€ç®¡é“å’Œæ¶ˆæ¯ çº¦æŸï¼šç»„ä»¶è¿æ¥æ—¶çš„æ¡ä»¶ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶ä½“ç³»ç»“æ„/CH2ï¼šAchitecture_Style.html":{"url":"è½¯ä»¶ä½“ç³»ç»“æ„/CH2ï¼šAchitecture_Style.html","title":"CH2ï¼šAchitecture_Style","keywords":"","body":"CH2ï¼šAchitecture Style MindMapï¼š 2.1 æ¶æ„é£æ ¼çš„å®šä¹‰ ä¸å­˜åœ¨ç»Ÿä¸€çš„å®šä¹‰ï¼š æ¶æ„é£æ ¼ Achitecture Style = ä¸€ç»„ç»„ä»¶ç±»å‹ component type / è¿æ¥ä»¶ç±»å‹ connector typeï¼ˆäº¤äº’æœºåˆ¶ï¼‰ ç»„ä»¶çš„æ‹“æ‰‘åˆ†å¸ƒ ä¸€ç»„å¯¹æ‹“æ‰‘å’Œè¡Œä¸ºçš„çº¦æŸ ä¸€äº›å¯¹é£æ ¼çš„ä»£ä»·å’Œç›Šå¤„çš„éæ­£å¼æè¿° å¦‚ä½•æè¿°çš„ï¼Ÿé‡ç‚¹è¦çœ‹ åˆ†ç±»æ³•ï¼š çº¯ç²¹çš„ä½“ç³»ç»“æ„åœ¨ç°å®ä¸­å¾ˆéš¾é‡åˆ°ï¼Œå®é™…ä¸Šçš„ç³»ç»Ÿé€šå¸¸ï¼š ç»å¸¸åç¦»å­¦æœ¯å®šä¹‰ å…¸å‹çš„ï¼Œèåˆå¾ˆå¤šçš„ä½“ç³»é£æ ¼çš„ç‰¹è‰² ä½œä¸ºä¸€ä¸ªæ¶æ„å¸ˆï¼Œå¿…é¡»ç†è§£â€œçº¯â€çš„é£æ ¼ï¼Œç†è§£ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œç†è§£èƒŒç¦»è¿™ç§é£æ ¼ä¼šå¸¦æ¥ä»€ä¹ˆç»“æœ æ²¡æœ‰å®Œå¤‡çš„åˆ—è¡¨ é£æ ¼å½¼æ­¤æ˜¯é‡å çš„ ä¸€ä¸ªç³»ç»Ÿé€šå¸¸è¡¨ç°å‡ºæ¥å¤šç§é£æ ¼ 2.2 Data Flow 2.2.1 æ•°æ®æµé£æ ¼æ¦‚è¿° ï¼ˆ1ï¼‰é£æ ¼ æ•°æ®æµç³»ç»Ÿï¼š æ•°æ®æ§åˆ¶è®¡ç®— the availability of data controls the computation ç³»ç»Ÿç»“æ„ç”±æ•°æ®åœ¨å¤„ç†ä¹‹é—´çš„æœ‰åºç§»åŠ¨å†³å®š the structure of the design is dominated by orderly motion of data from process to process æ•°æ®æµç³»ç»Ÿçš„ç»“æ„æ˜¯æ˜¾è€Œæ˜“è§çš„ çº¯æ•°æ®æµç³»ç»Ÿä¸­ï¼Œå¤„ç†ä¹‹é—´é™¤äº†æ•°æ®äº¤æ¢ï¼Œæ²¡æœ‰å…¶ä»–çš„åˆ«çš„äº¤äº’ï¼Œå˜åŒ–çš„æ˜¯ï¼š å¦‚ä½•æ–½åŠ æ§åˆ¶â€”â€”æ•°æ®çš„æ§åˆ¶æ–¹å¼ pull æ‹‰ æ¶ˆè´¹è€…è§’åº¦ push æ¨ ä»æ•°æ®æºè§’åº¦ å¹¶è¡Œçš„ç¨‹åº¦ ä¸€æ¡æ•°æ®æµï¼Œå¤šæ¡æ•°æ®æµ topology é¡ºåºï¼Œå¾ªç¯ ï¼ˆ2ï¼‰Component & Connector & System Component ç»„ä»¶æ¥å£æ˜¯è¾“å…¥ç«¯å£å’Œè¾“å‡ºç«¯å£ Interfaces are input ports and output ports Connectorï¼šData Stream é€šå¸¸æ˜¯å¼‚æ­¥çš„ï¼Œæœ‰ç¼“å†²ã€‚åŒæ­¥çš„å®¹æ˜“é˜»å¡ System ä»»æ„æ‹“æ‰‘ç»“æ„ï¼Œå‡½æ•°å¼ç¼–ç¨‹ ï¼ˆ3ï¼‰æ•°æ®æµå’Œæ§åˆ¶æµ æ§åˆ¶æµ ä¸»è¦é—®é¢˜æ˜¯æ§åˆ¶ç‚¹controlæ€ä¹ˆåœ¨ç¨‹åºæˆ–è€…ç³»ç»Ÿä¹‹é—´ç§»åŠ¨ æ•°æ®å¯èƒ½è·Ÿç€æ§åˆ¶èµ°ï¼Œä½†æ˜¯å¹¶ä¸èµ·åˆ°æ¨åŠ¨ç³»ç»Ÿè¿è½¬çš„ä½œç”¨ å…³æ³¨çš„æ ¸å¿ƒæ˜¯è®¡ç®—é¡ºåº egï¼šå†¯è¯ºä¾æ›¼ç»“æ„ æ•°æ®æµ ä¸»è¦é—®é¢˜æ˜¯æ•°æ®æ€ä¹ˆåœ¨è¿ç®—å•å…ƒä¹‹é—´æµåŠ¨ æ•°æ®åˆ°äº†ï¼Œè®¡ç®—å•å…ƒä¾¿å·¥ä½œ æˆ‘ä»¬å…³å¿ƒæ•°æ®æ˜¯å¦å¯ç”¨ï¼Œè½¬æ¢ï¼Œå»¶è¿Ÿ 2.2.2 Three Examples of Data Flow 2.2.2.1 Batch Sequential æ‰¹å¤„ç† ï¼ˆ1ï¼‰å›¾ æ¯ä¸€ä¸ªå¤„ç†æ­¥éª¤æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºï¼Œæ¯ä¸€æ­¥åœ¨ä¸Šä¸€æ­¥ç»“æŸåæ‰èƒ½å¼€å§‹ï¼Œæ•°æ®å¿…é¡»æ˜¯å®Œæ•´çš„ï¼Œä»¥æ•´ä½“çš„æ–¹å¼ä¼ é€ã€‚ ï¼ˆ2ï¼‰åº”ç”¨ å…¸å‹åº”ç”¨ï¼š ç¼–è¯‘å™¨ caseå·¥å…· 2.2.2.2 Pipe-and-Filter ç®¡é“è¿‡æ»¤å™¨ ï¼ˆ1ï¼‰å›¾ ï¼ˆ2ï¼‰ç®¡é“ä¸è¿‡æ»¤å™¨ fliter åŠŸèƒ½ï¼šå°†æ•°æ®æµä½œä¸ºè¾“å…¥ï¼Œç»è¿‡å¤„ç†åè¾“å‡º è¿›è¡Œæµåˆ°æµçš„è½¬æ¢ï¼š \\begin{cases}ä¸°å¯Œæ•°æ®\\\\ç²¾ç‚¼æ•°æ®\\\\è½¬æ¢æ•°æ®\\end{cases} æ•°æ®ä¸å†æ˜¯è‡ªåŒ…å«çš„ fliteræ˜¯æ— çŠ¶æ€çš„è®¡ç®—ã€‚æ²¡æœ‰ä¸Šä¸‹æ–‡ï¼ŒçŠ¶æ€ä¿å­˜ç­‰ã€‚ pipe å°†æ•°æ®æµä»ä¸€ä¸ªè¿‡æ»¤å™¨ä¼ é€’åˆ°å¦ä¸€ä¸ªè¿‡æ»¤å™¨ æ•°æ®ä¼ é€å¼•èµ·åŠ¨ä½œ ï¼ˆ3ï¼‰ä¼˜ç‚¹ éšè”½æ€§ï¼Œé«˜å†…èšï¼Œä½è€¦åˆ å¯æ”¯æŒå¹¶å‘ï¼Œå¤šä¸ªè¿‡æ»¤å™¨å¹¶å‘æ‰§è¡Œ ç³»ç»Ÿå®¹æ˜“ç»´æŠ¤å’Œæ‰©å±• ï¼ˆ4ï¼‰ç¼ºç‚¹ ä¸é€‚åˆäº¤äº’æ€§å¾ˆå¼ºçš„åº”ç”¨â€”â€”è®¡ç®—è¿‡ç¨‹äº‹å…ˆç¡®å®š æ•°æ®ä¼ è¾“æ²¡æœ‰é€šç”¨æ ‡å‡†ï¼Œæ¯ä¸ªè¿‡æ»¤å™¨éœ€è¦é¢å¤–è§£æå’Œåˆæˆæ•°æ® ï¼ˆ5ï¼‰æ•°æ®æµä¸ç®¡é“è¿‡æ»¤å™¨çš„åŒºåˆ« 2.2.2.3 Proccess Control æ§åˆ¶ å¼€ç¯æ§åˆ¶ Open loop Control é—­ç¯æ§åˆ¶Close Loop Process Control é—­ç¯æ§åˆ¶æœ‰ä¸¤ç§å½¢å¼ï¼šåé¦ˆæ§åˆ¶å’Œå‰é¦ˆæ§åˆ¶ å½“è½¯ä»¶ç³»ç»Ÿçš„è¿è¡Œå—åˆ°å¤–éƒ¨å¹²æ‰°æ—¶ï¼Œéœ€è¦ä¸ºè½¯ä»¶ä½“ç³»ç»“æ„è€ƒè™‘ä¸€ç§è¿‡ç¨‹æ§åˆ¶èŒƒä¾‹ 2.2.3 é€‰æ‹©æ•°æ®æµæ–¹å¼çš„æ–¹é’ˆ ä»»åŠ¡ç”±æ•°æ®ä¸»å¯¼ äº‹å…ˆçŸ¥é“æ•°æ®çš„æµå‘ æ•°æ®æµåŠ¨å¸¦æ¥æ€§èƒ½æŸå 2.3 Call/Return 2.3.1 é£æ ¼ç±»å‹ ç»å…¸çš„ä¾‹å­ï¼š ä¸»ç¨‹åºå’Œå­ç¨‹åº main program and subroutines ç»å…¸ç¼–ç¨‹èŒƒå¼ï¼šå‡½æ•°åˆ†è§£ é¢å‘å¯¹è±¡çš„æŠ½è±¡æ•°æ®ç±»å‹ ä¿¡æ¯çš„éšè— å±‚æ¬¡åŒ–ç»“æ„ æ¯ä¸€å±‚åªå’Œä»–çš„è¿‘é‚»é€šä¿¡ å…¶ä»– å®¢æˆ·æœº-æœåŠ¡å™¨ 2.3.2 å†å²è¿‡ç¨‹ ä¸»ç¨‹åºï¼ˆå­ç¨‹åºï¼‰\\rightarrow å‡½æ•°æ¨¡å—\\rightarrow ADT\\rightarrow Object\\rightarrow OOæ¶æ„\\rightarrow Component 2.3.3 Call/Returnçš„å…·ä½“é£æ ¼ç±»å‹ 2.3.3.1 Main Program and Subroutine ï¼ˆ1ï¼‰ç¤ºæ„å›¾ Problemï¼šé€‚ç”¨äºé€šè¿‡è¿‡ç¨‹å®šä¹‰å±‚æ¬¡ç»“æ„é€‚å½“å®šä¹‰è®¡ç®—çš„åº”ç”¨ç¨‹åº Contextï¼šå‘½åç©ºé—´å±€éƒ¨æ€§ Solutionï¼š ç³»ç»Ÿæ¨¡å‹ï¼šè°ƒç”¨å’Œå®šä¹‰å±‚æ¬¡ç»“æ„ï¼Œå­ç³»ç»Ÿé€šå¸¸æ¨¡å—åŒ–å®šä¹‰ ç»„ä»¶ï¼šè¿‡ç¨‹å’Œæ˜¾å¼å¯è§æ•°æ® æ‰€æœ‰æ•°æ®å¯¹å¤–å®Œå…¨å¯è§ è¿æ¥å™¨ï¼šè¿‡ç¨‹è°ƒç”¨å’Œæ˜¾å¼æ•°æ®å…±äº« æ§åˆ¶ç»“æ„ï¼šå•çº¿ç¨‹ ï¼ˆ2ï¼‰Pipe Versus Procedures 2.3.3.2 Data Abstaction or Object-Oriented ç³»ç»Ÿæ¨¡å‹ï¼šå±€éƒ¨åŒ–çŠ¶æ€ä¿æŒ ç»„ä»¶ï¼šå¯¹è±¡ è¿æ¥ä»¶ï¼šè¿‡ç¨‹è°ƒç”¨ æ§åˆ¶ç»“æ„ï¼šå»ä¸­å¿ƒåŒ–ï¼Œé€šå¸¸æ˜¯å•çº¿ç¨‹ ï¼ˆ1ï¼‰æ¨¡å—åˆ†è§£ éšè—ç»†èŠ‚ï¼š æ•°æ®+ç­–ç•¥ éšè—å¯èƒ½æ”¹å˜çš„ç»†èŠ‚ï¼Œæ¥å£ä¸­å…¬å¼€ä¸å¤ªå¯èƒ½æ”¹å˜çš„å‡è®¾ ï¼ˆ2ï¼‰å°è£…å’Œä¿¡æ¯éšè— å¯¹è±¡æœ‰çŠ¶æ€å’Œæ“ä½œï¼Œä½†æ˜¯ä¹Ÿæœ‰å®Œæ•´æ€§ã€‚ å¯¹è±¡è¢«å¤–ç•ŒçŸ¥é“çš„æ˜¯ä»–çš„æ¥å£ å¯¹è±¡ä»æ¨¡æ¿äº§ç”Ÿ ï¼ˆ3ï¼‰ç¤ºæ„å›¾ å¯¹è±¡æ¶æ„çš„å…ƒç´ ï¼š \\begin{cases}å°è£…ï¼šé™åˆ¶ä¿¡æ¯çš„è®¿é—®\\\\äº¤äº’ï¼šè¿‡ç¨‹è°ƒç”¨æˆ–å…¶ä»–åè®®\\\\å¤šæ€ï¼šè¿è¡Œæ—¶é€‰æ‹©å…·ä½“çš„æ“ä½œ\\\\ç»§æ‰¿ï¼šå¯¹å…±äº«çš„åŠŸèƒ½ä¿æŒä¸€è‡´çš„æ¥å£\\\\å¤ç”¨å’Œç»´æŠ¤ï¼šå°è£…å’Œèšåˆæé«˜ç”Ÿäº§åŠ›\\end{cases} ï¼ˆ4ï¼‰ä¼˜ç¼ºç‚¹ ç®¡ç†å¤§é‡çš„å¯¹è±¡ å¯¹è±¡çš„æµ·æ´‹éœ€è¦é¢å¤–ç»“æ„å®¹çº³ ç®¡ç†å¾ˆå¤šäº¤äº’ å•ä¸€çš„æ¥å£èƒ½åŠ›æœ‰é™ä¸”ç¬¨æ‹™ï¼ˆå‹å…ƒï¼‰ åˆ†æ•£çš„è¡Œä¸ºè´£ä»» ç³»ç»Ÿçš„åŠŸèƒ½éš¾ä»¥ç†è§£ æ•è·å…³è”çš„è®¾è®¡ ç±»å’Œç±»å‹é€šå¸¸æ˜¯ä¸å¤Ÿçš„ï¼Œè®¾è®¡æ¨¡å¼æ˜¯å‘å±• 2.3.3.3 Layered system ï¼ˆ1ï¼‰OSIæ¨¡å‹çš„ä¾‹å­ ï¼ˆ2ï¼‰æ¦‚è¿° é€‚ç”¨é—®é¢˜ åŒ…å«å¯ä»¥æŒ‰å±‚æ¬¡ç»“æ„å®‰æ’çš„ä¸åŒæœåŠ¡ç±»åˆ« ç³»ç»Ÿæ¨¡å‹ ä¸é€æ˜çš„å±‚æ¬¡ç»“æ„ æ„ä»¶ å„å±‚æ¬¡å†…éƒ¨çš„æ„ä»¶ï¼Œè¿‡ç¨‹çš„é›†åˆ è¿æ¥ä»¶ å–å†³äºç»„ä»¶çš„ç»“æ„;åœ¨å—é™çš„å¯è§æ€§ä¸‹ï¼Œè¿‡ç¨‹è°ƒç”¨é€šå¸¸ä¹Ÿå¯èƒ½æ˜¯å®¢æˆ·æœº/æœåŠ¡å™¨ é™åˆ¶ æ§åˆ¶ç»“æ„ å•çº¿ç¨‹ ï¼ˆ3ï¼‰å±‚æ¬¡é£æ ¼çš„ç‰¹ç‚¹ æ¯ä¸€å±‚ä¸ºä¸Šä¸€å±‚æä¾›æœåŠ¡ï¼Œä½¿ç”¨ä¸‹ä¸€å±‚çš„æœåŠ¡ï¼Œåªèƒ½è§åˆ°ä¸è‡ªå·±ç›¸é‚»çš„å±‚ å¤§é—®é¢˜é€æ¸åˆ†è§£æˆä¸ºè‹¥å¹²ä¸ªæ¸è¿›çš„å°é—®é¢˜ï¼Œé€æ­¥è§£å†³ï¼Œéšè—äº†å¾ˆå¤šå¤æ‚åº¦ ä¿®æ”¹ä¸€å±‚ï¼Œæœ€å¤šå½±å“ä¸¤å±‚ï¼Œè€Œé€šå¸¸å½±å“ä¸Šå±‚ï¼Œæ¥å£ç¨³å›ºï¼Œåˆ™å¯¹è°éƒ½ä¸å½±å“ ä¸Šå±‚å¿…é¡»çŸ¥é“ä¸‹å±‚çš„èº«ä»½ï¼Œä¸èƒ½è°ƒæ•´å±‚æ¬¡ä¹‹é—´çš„é¡ºåº å±‚å±‚ç›¸è°ƒï¼Œå½±å“æ€§èƒ½ 2.3.3.4 Client/Server åˆ†ç±»ï¼š \\begin{cases}ä¸¤å±‚CSç»“æ„\\\\ä¸‰å±‚CSç»“æ„\\\\BSç»“æ„\\end{cases} ï¼ˆ1ï¼‰ä¸¤å±‚CS å®¢æˆ·æœºåº”ç”¨ç¨‹åºã€æ•°æ®åº“æœåŠ¡å™¨ã€ç½‘ç»œ ç‰¹ç‚¹ï¼šç˜¦æœåŠ¡å™¨ï¼Œèƒ–å®¢æˆ·æœº ç¼ºç‚¹ï¼š å®¢æˆ·ç«¯å¯¹ç¡¬ä»¶è½¯ä»¶é…ç½®è¦æ±‚é«˜ï¼Œå®¢æˆ·æœºè‡ƒè‚¿ å‡çº§ç»´æŠ¤è¾ƒä¸ºå›°éš¾ æ•°æ®ä¸å®‰å…¨ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç›´æ¥è®¿é—®æœåŠ¡å™¨æ•°æ® ä¿¡æ¯å†…å®¹å’Œå½¢å¼å•ä¸€ å®¢æˆ·ç«¯ç¨‹åºç¼–å†™å›°éš¾ ï¼ˆ2ï¼‰ä¸‰å±‚CS å®¢æˆ·æœºã€æ•°æ®åº“æœåŠ¡å™¨ã€åº”ç”¨æœåŠ¡å™¨ã€ç½‘ç»œ ç‰¹ç‚¹ï¼šç˜¦å®¢æˆ·æœº åº”ç”¨åŠŸèƒ½åˆ’åˆ†ï¼šåŠŸèƒ½å±‚ã€è¡¨ç¤ºå±‚ã€æ•°æ®å±‚ ï¼ˆ3ï¼‰BSæ¶æ„ ä¸‰å±‚CSçš„ç‰¹ä¾‹ å®¢æˆ·ç«¯ä½¿ç”¨httpæµè§ˆå™¨å³å¯ï¼Œä½¿ç”¨httpåè®®ï¼Œçœå»äº†å¾ˆå¤šéº»çƒ¦ åªèƒ½æ‹‰ï¼Œä¸èƒ½æ¨ å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡åªèƒ½é€šè¿‡æœåŠ¡å™¨è¿›è¡Œä¸­è½¬ å¯¹å®¢æˆ·æœºå’Œå…¶ä»–ç½‘ç»œèµ„æºçš„åˆ©ç”¨å—é™ å®¢æˆ·ç«¯èµ„æºæµªè´¹ï¼ŒæœåŠ¡å™¨å‹åŠ›è¾ƒå¤§ BSçš„é€Ÿåº¦ç›¸å¯¹äºCSæ…¢ 2.4 Data Center / Data Sharing 2.4.1 Shared Information System ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„ä½“ç³»ç»“æ„é£æ ¼æ¦‚è¿° 2.4.1.1 ç»„ä»¶å’Œé£æ ¼ç‰¹å¾ è¿™ç§é£æ ¼æè¿°äº†å¾ˆå¤šç³»ç»Ÿï¼Œå…±åŒç‰¹ç‚¹æ˜¯å…±äº«æ•°æ® æ”¶é›†ã€æ“ä½œã€ä¿å­˜å¤§é‡çš„æ•°æ® å®šä¹‰ï¼šä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„é£æ ¼æ¶æ„æ¶‰åŠåˆ°ä¸€ç§å…±äº«æ•°æ®æºæ–¹æ³•æ¥ä¼ é€’ä¿¡æ¯ã€‚ exampleï¼š å‰ªåˆ‡æ¿ æ³¨å†Œè¡¨ æ•°æ®åº“ ä¼˜ç‚¹ ç³»ç»Ÿè€¦åˆç¨‹åº¦ä½ æ–¹ä¾¿æ·»åŠ /åˆ é™¤/ç”Ÿäº§/æ¶ˆè´¹/æ“çºµæ•°æ® å•ä¸ªç”Ÿäº§è€…çš„é”™è¯¯æ— å½±å“ é—®é¢˜ åŒæ­¥é—®é¢˜â€”â€”æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ§åˆ¶åè½¬ï¼Œæ•°æ®ä»“åº“å‹åŠ›å¤§ é…ç½®å’Œç®¡ç† ACIDç‰¹æ€§ 2.4.1.2 åº”ç”¨åœºåˆ æ—©æœŸçš„æ•°æ®å…±äº«å‡ºç°åœ¨æ‰¹å¤„ç†ç³»ç»Ÿ è¿«åˆ‡éœ€è¦æ•°æ®æ—¶å³æ—¶å­˜å– å¦‚ä»Šï¼š åº”ç”¨åœ¨å„ä¸ªåœºæ™¯ï¼Œæ¯”å¦‚webå°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„åˆ†å¸ƒå¼æ•°æ®åº“ GitHub 2.4.2 Repository Architecture 2.4.2.1 æ¦‚è¿° ä»“åº“æ˜¯å…±äº«å’Œç»´æŠ¤ä¿¡æ¯ä¸­å¿ƒçš„åœºæ‰€ ç»„ä»¶ï¼š ä¸­å¿ƒæ•°æ®ç»“æ„ï¼Œè¡¨ç¤ºå½“å‰çš„æ•°æ®çŠ¶æ€ ä¸€ç»„å¯¹ä¸­å¿ƒæ•°æ®ç»“æ„è¿›è¡Œæ“ä½œçš„ç‹¬ç«‹ç»„ä»¶ è¿æ¥ä»¶ï¼š è®¡ç®—å•å…ƒä¸ä¸­å¿ƒæ•°æ®ç»“æ„ä¹‹é—´é€šè¿‡ä¹‹é—´æ•°æ®è®¿é—®æˆ–è€…è¿‡ç¨‹è°ƒç”¨çš„äº¤äº’ æ§åˆ¶ç»“æ„ï¼š å…¸å‹åº”ç”¨åœºåˆï¼š æ•°æ®åº“ å¦‚ï¼Œç¼–è¯‘å™¨çš„ç¬¦å·è¡¨ï¼š 2.4.3 BlackBorad Repository 2.4.3.1 æ¦‚è¿° é—®é¢˜ï¼š é—®é¢˜ç‰¹å¾ï¼š å¤šç§æ–¹æ³•å¯ä»¥è§£å†³é—®é¢˜ï¼Œæ‰¾ä¸åˆ°ç¡®å®šçš„è§£å†³æ€è·¯ æ±‚è§£çš„æ¯ä¸ªæ­¥éª¤éƒ½æœ‰å¯èƒ½äº§ç”Ÿå¤šä¸ªå¯èƒ½çš„è§£ï¼Œå¯»æ±‚æœ€ä½³æˆ–è€…å¯æ¥å—çš„è§£ã€‚ éœ€è¦å¤šä¸ªé¢†åŸŸçš„ä¸“é—¨çŸ¥è¯†åä½œè§£å†³ egï¼š è‡ªç„¶è¯­è¨€å¤„ç† è¯­éŸ³å¤„ç† æ¨¡å¼è¯†åˆ« å›¾åƒå¤„ç† å¦‚ä½•æ±‚è§£æ­¤ç±»é—®é¢˜ï¼Ÿâ€”â€”é»‘æ¿ä½“ç³»ç»“æ„ ä¸€ä¸ªå¤§é—®é¢˜è¢«åˆ†è§£æˆè‹¥å¹²çš„å­é—®é¢˜ æ¯ä¸ªå­é—®é¢˜çš„è§£å†³éœ€è¦ä¸åŒçš„é—®é¢˜è¡¨è¾¾æ–¹å¼å’Œæ±‚è§£æ¨¡å‹ï¼Œåˆ†åˆ«è®¾è®¡æ±‚è§£ç¨‹åº 2.4.3.2 é»‘æ¿æ¨¡å‹ çŸ¥è¯†å…ƒï¼šé—®é¢˜åˆ†è§£æˆå‡ ä¸ªéƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†ç‹¬ç«‹è®¡ç®—â€”â€”çŸ¥è¯†å…ƒå¯¹é»‘æ¿è¿›è¡Œä¿®æ”¹ï¼Œé€æ­¥æ‰¾åˆ°é—®é¢˜çš„è§£ é»‘æ¿æ•°æ®ç»“æ„ï¼šå…¨å±€æ•°æ®åº“åŒ…å«è§£åŸŸçš„å…¨éƒ¨çŠ¶æ€ æ§åˆ¶ï¼šå®Œå…¨ç”±é»‘æ¿çš„çŠ¶æ€é©±åŠ¨ï¼Œé»‘æ¿çš„çŠ¶æ€çš„æ”¹å˜å†³å®šä½¿ç”¨çš„ç‰¹å®šçŸ¥è¯† è®©çŸ¥è¯†å…ƒå“åº”å¶ç„¶äº‹ä»¶ ï¼ˆ1ï¼‰çŸ¥è¯†æº ç›®æ ‡ï¼š æä¾›è§£å†³é—®é¢˜çš„çŸ¥è¯†ï¼Œåˆ†åˆ«å­˜æ”¾ä¸”ç›¸äº’ç‹¬ç«‹ åŠ¨ä½œï¼š åªä¿®æ”¹é»‘æ¿ï¼ŒçŸ¥è¯†æºä¹‹é—´çš„é€šè®¯äº¤äº’åªé€šè¿‡é»‘æ¿è¿›è¡Œ è´Ÿè´£ï¼š çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½å‘æŒ¥ä½œç”¨ï¼šâ€œæ¡ä»¶-åŠ¨ä½œâ€å½¢å¼ ï¼ˆ2ï¼‰ä¸­å¿ƒæ•°æ®ç»“æ„ ç›®æ ‡ï¼š ä¿å­˜çŸ¥è¯†æºæ‰€éœ€è¦çš„æ•°æ®ï¼Œä¿å­˜æ¥è‡ªè§£ç©ºé—´çš„æ•°æ® ç»„ç»‡ï¼š è§£å†³é—®é¢˜ä¸­çš„çŠ¶æ€æ•°æ®ï¼Œä»¥å±‚æ¬¡çš„å½¢å¼ç»„ç»‡èµ·æ¥ å„ä¸ªçŸ¥è¯†æºåªé€šè¿‡é»‘æ¿è¿›è¡Œäº¤äº’ ï¼ˆ3ï¼‰æ§åˆ¶ Control æ—¶åˆ»ç›‘æ§é»‘æ¿çš„çŠ¶æ€ï¼Œå¯¹é»‘æ¿ä¸Šçš„å½“å‰ä¿¡æ¯è¿›è¡Œåˆ¤æ–­å’Œè¯„ä»· æ»¡è¶³çŸ¥è¯†æºæ‰§è¡Œæ¡ä»¶æ—¶ï¼ŒçŸ¥è¯†æºè¢«æ§åˆ¶å™¨è§¦å‘ï¼Œå¹¶è¿›è¡Œè®¡ç®—ï¼Œç»“æœå†™åœ¨é»‘æ¿ä¸Š è¿™ç§æ›´æ–°åˆå¯¼è‡´å…¶ä»–çš„çŸ¥è¯†æºå‚ä¸è®¡ç®—ï¼Œç›´åˆ°æ‰¾åˆ°é—®é¢˜çš„è§£ä¸ºæ­¢ ç›®æ ‡ï¼š è®©çŸ¥è¯†æºå“åº”å¶ç„¶äº‹ä»¶ï¼Œäº†è§£å„ä¸ªçŸ¥è¯†æºçš„èƒ½åŠ›ï¼Œå†³ç­–è§£å†³é—®é¢˜çš„æ­¥éª¤ 2.4.3.3 åº”ç”¨ ä¿¡å·å¤„ç†ã€æ¨¡å¼å¤„ç†ã€æ¨¡å¼è¯†åˆ« äººå·¥æ™ºèƒ½ 2.5 Virtual Machine Interpretersï¼šæ¨¡æ‹Ÿä¸æ˜¯ç¡¬ä»¶å›ºæœ‰çš„åŠŸèƒ½ Rule-Based Systemï¼šè§£é‡Šå™¨çš„ç‰¹ä¾‹ 2.5.1 Interpreter ï¼ˆ1ï¼‰åº”ç”¨é—®é¢˜ åº”ç”¨é—®é¢˜ï¼šåº”ç”¨çš„æœ€ä½³çš„æ‰§è¡Œç¯å¢ƒæˆ–è€…è¯­è¨€ä¸èƒ½å¤Ÿå¾—åˆ°ç›´æ¥çš„æ”¯æŒã€‚ å¼•å…¥ä¸­é—´å±‚\\begin{cases}åº”ç”¨ä¸èƒ½ç›´æ¥æ”¯æŒ\\\\ç¯å¢ƒä¸é€‚åˆ\\\\è·¨å¹³å°\\end{cases} æ— æ³•ç›´æ¥ä½¿ç”¨æœ€åˆé€‚çš„è¯­è¨€æˆ–è€…æœºå™¨æ¥æ‰§è¡Œè§£å†³æ–¹æ¡ˆ æ ¸å¿ƒé—®é¢˜æ˜¯å®šä¹‰è§£å†³æ–¹æ¡ˆçš„ç¬¦å·çš„åº”ç”¨ç¨‹åºï¼Œå¦‚è„šæœ¬ æœ‰æ—¶ä»¥é“¾çš„å½¢å¼ä½¿ç”¨ï¼Œåœ¨ä¸€ç³»åˆ—é˜¶æ®µçš„è¿‡ç¨‹ä¸­ä»éœ€è¦çš„è¯­è¨€/æœºå™¨ç¿»è¯‘ ä¸Šä¸‹æ–‡ï¼š æ¡¥æ¥éœ€è¦çš„æœºå™¨å’Œè¯­è¨€ä¸æ‰§è¡Œç¯å¢ƒå·²ç»æ”¯æŒçš„æœºå™¨ï¼ˆè™šæ‹Ÿçš„ï¼‰å’Œè¯­è¨€ Solutionï¼š ç³»ç»Ÿæ¨¡å‹ï¼šä¸€ä¸ªè™šæ‹Ÿæœº ç»„ä»¶ï¼šä¸€ä¸ªçŠ¶æ€æœºå’Œä¸‰ä¸ªå­˜å‚¨ \\begin{cases}çŠ¶æ€æœºï¼šæ‰§è¡Œçš„å¼•æ“\\\\ ä¸‰ä¸ªå­˜å‚¨ï¼š\\begin{cases}æ‰§è¡Œå¼•æ“çš„å½“å‰çŠ¶æ€\\\\è¢«è§£é‡Šçš„ç¨‹åº\\\\è¢«è§£é‡Šçš„ç¨‹åºç›®å‰æ‰€å¤„çš„çŠ¶æ€\\end{cases}\\end{cases} è¿æ¥ä»¶ï¼šæ•°æ®è®¿é—®å’Œè¿‡ç¨‹è°ƒç”¨ æ§åˆ¶ç»“æ„ï¼šé€šè¿‡å¼•æ“çŠ¶æ€è½¬ç§»ï¼Œè¾“å…¥ç¡®å®šé€‰æ‹©ç¿»è¯‘ä»€ä¹ˆ ï¼ˆ2ï¼‰ä¼˜ç¼ºç‚¹ ä¼˜ç‚¹ åŠŸèƒ½æ€§ functionality ï¼šå¯ä»¥æ¨¡æ‹Ÿéæœ¬æœºåŠŸèƒ½ æµ‹è¯•æ€§ testing ï¼šå¯ä»¥æ¨¡æ‹Ÿç¾éš¾æ¨¡å¼ï¼ˆå®‰å…¨æ”¸å…³çš„åº”ç”¨ï¼‰ çµæ´»æ€§ flexibility ï¼šéå¸¸é€šç”¨çš„å·¥å…· ç¼ºç‚¹ æ•ˆç‡ï¼šæ¯”ç¡¬ä»¶æ…¢ï¼Œæ…¢ä¸¤ä¸ªæ•°é‡çº§ï¼›æ¯”ç¼–è¯‘å™¨æ…¢ æµ‹è¯•ï¼šéœ€è¦æµ‹è¯•é¢å¤–çš„ä¸­é—´å±‚ ï¼ˆ3ï¼‰è§£é‡Šå™¨çš„åº”ç”¨ è§£é‡Šå‹è¯­è¨€ VB, JS, HTML, Javaå­—èŠ‚ç  é€šä¿¡åè®® ç”¨æˆ·è¾“å…¥ 2.5.2 è§„åˆ™ç³»ç»Ÿ ï¼ˆ1ï¼‰é—®é¢˜ æ ¹æ®å½“å‰çš„çŠ¶æ€ï¼ŒåŸºäºäº‹å®ï¼Œåˆ¤æ–­æˆ‘éœ€è¦çš„è¾“å‡º çŸ¥è¯†åº“ï¼šè¦è¢«æ‰§è¡Œçš„ä»£ç  è§„åˆ™å¼•æ“ï¼šç¿»è¯‘å¼•æ“ è§„åˆ™/æ•°æ®é€‰æ‹©ï¼šè§£é‡Šå™¨çš„çŠ¶æ€ å·¥ä½œå­˜å‚¨ï¼šå½“å‰ä»£ç çš„çŠ¶æ€ ï¼ˆ2ï¼‰ç†è§£ å¯¹äºä¸€ä¸ªæ¶æ„ï¼Œå¯ä»¥ä»ä¸åŒçš„æ¶æ„å»ç†è§£ egï¼šhearsay 2.6 Independent Component 2.6.1 è¿›ç¨‹é—´é€šä¿¡ 2.6.1.1 èƒŒæ™¯æ¦‚è¿° åˆ†å¸ƒå¼ç¯å¢ƒï¼Œå‡ºç°å¤šè¿›ç¨‹å¤šçº¿ç¨‹ï¼ŒèŠ‚ç‚¹ä¹‹é—´ç›¸äº’ç‹¬ç«‹ã€‚ å·²ç»å¹¿æ³›åº”ç”¨çš„ï¼š æ“ä½œç³»ç»Ÿ åˆ†å¸ƒå¼åº”ç”¨ 2.6.1.2 è¿›ç¨‹é—´é€šä¿¡ ï¼ˆ1ï¼‰åº”ç”¨é—®é¢˜ åŒ…å«ä¸€ç³»åˆ—ä¸åŒçš„ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šç‹¬ç«‹çš„è®¡ç®—çš„åº”ç”¨ç¨‹åºï¼Œè¿™äº›è®¡ç®—çš„æ‰§è¡Œåº”è¯¥ç‹¬ç«‹è¿›è¡Œã€‚ è®¡ç®—æ¶‰åŠæ•°æ®çš„åè°ƒæˆ–è€…å¯¹ç¦»æ•£çš„æ—¶é—´ç‚¹çš„æ§åˆ¶ã€‚å› æ­¤ï¼Œç³»ç»Ÿçš„æ­£ç¡®æ€§éœ€è¦æ³¨æ„æ¶ˆæ¯çš„è·¯ç”±å’ŒåŒæ­¥ã€‚ egï¼šç½‘ç»œæ¸¸æˆçš„ä¾‹å­ ï¼ˆ2ï¼‰èƒŒæ™¯ é€šä¿¡ç­–ç•¥çš„é€‰æ‹©é€šå¸¸ç”±å¯ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„é€šä¿¡æ”¯æŒå†³å®šã€‚ ï¼ˆ3ï¼‰è§£å†³æ–¹æ¡ˆsolution ç³»ç»Ÿæ¨¡å‹ï¼šç‹¬ç«‹äº¤æµçš„è¿›ç¨‹ ç»„ä»¶ï¼šå‘æ˜ç¡®æ¥æ”¶æ–¹å‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„è¿›ç¨‹ è¿æ¥ä»¶ï¼šç¦»æ•£çš„æ¶ˆæ¯==ï¼ˆæ²¡æœ‰å…±äº«æ•°æ® importantï¼‰== æ§åˆ¶ç»“æ„ï¼šæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„çº¿ç¨‹æ§åˆ¶ ï¼ˆ4ï¼‰é‡è¦å˜åŒ– ç¡®ä¿æ¶ˆæ¯ä¸€å®šæ”¶åˆ°ã€‚ ï¼ˆ5ï¼‰è®¾è®¡éœ€è¦è€ƒè™‘çš„é—®é¢˜ å›¾çš„æ‹“æ‰‘ç»“æ„ã€å¤±è´¥æ¨¡å‹ã€æ€§èƒ½ 2.7 äº‹ä»¶ç³»ç»Ÿ 2.7.1 éšå¼è°ƒç”¨å’Œæ˜¾å¼è°ƒç”¨ æ˜¾å¼è°ƒç”¨ï¼šæ˜ç¡®çŸ¥é“æ¶ˆæ¯çš„æ¥æ”¶è€… éšå¼è°ƒç”¨ï¼šä¸­é—´å±‚è°ƒç”¨ 2.7.1.1 éšå¼è°ƒç”¨ implicit invocation ï¼ˆ1ï¼‰é—®é¢˜ é€‚ç”¨äºï¼š æ¾è€¦åˆçš„ç»„ä»¶é›†åˆåº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªç»„ä»¶æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¹¶å¯èƒ½åœ¨æµç¨‹ä¸­å¯ç”¨å…¶ä»–æ“ä½œï¼Œé€šå¸¸æ˜¯å“åº”å¼ç³»ç»Ÿã€‚ å¯¹äºå¿…é¡»åŠ¨æ€è¿›è¡Œï¼Œå¯é‡æ–°é…ç½®çš„åº”ç”¨ç¨‹åºï¼Œè¯¥æ¨¡å¼æ˜¯æœ‰ç”¨çš„ã€‚ ä¸Šä¸‹æ–‡ï¼š éœ€è¦äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ¥æ”¶å¯¹äº‹ä»¶çš„å…´è¶£ï¼Œå¹¶ä¸”åœ¨äº‹ä»¶å¼•å‘æ—¶é€šçŸ¥ç»„ä»¶ã€‚æ³¨å†Œè¡Œä¸º ï¼ˆ2ï¼‰ç‰¹ç‚¹ æ„ä»¶ä¸ç›´æ¥è°ƒç”¨ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œæ˜¯è§¦å‘å¹¿æ’­æˆ–è€…å¤šä¸ªäº‹ä»¶ ä¸èƒ½å‡å®šæ„ä»¶çš„å¤„ç†é¡ºåºï¼Œç”šè‡³ä¸çŸ¥é“å“ªäº›æ„ä»¶ä¼šè¢«è°ƒç”¨ å„æ„ä»¶ä¹‹é—´å½¼æ­¤æ— è¿æ¥å…³ç³»ï¼Œç›¸äº’ç‹¬ç«‹å­˜åœ¨ ï¼ˆ3ï¼‰è§£å†³æ–¹æ¡ˆ solution ç³»ç»Ÿæ¨¡å‹ï¼šç‹¬ç«‹äº¤äº’å¼è¿›ç¨‹ ç»„ä»¶ï¼šåœ¨ä¸çŸ¥é“æ¥æ”¶æ–¹çš„æƒ…å†µä¸‹å‘é€æ¥æ”¶æ¶ˆæ¯çš„è¿›ç¨‹ è¿æ¥ä»¶ï¼šè‡ªåŠ¨è°ƒç”¨å·²å¯¹äº‹ä»¶æ„Ÿå…´è¶£çš„è¿›ç¨‹ æ§åˆ¶ï¼šåˆ†æ•£ï¼Œå•ä¸ªç»„ä»¶ä¸çŸ¥é“æ¶ˆæ¯çš„æ¥æ”¶æ–¹ ï¼ˆ4ï¼‰åº”ç”¨ Debugger-ç¼–è¾‘å™¨å’Œå˜é‡ç›‘è§†å™¨ç™»è®°Debuggeræ–­ç‚¹äº‹ä»¶ åœ¨ç¼–ç¨‹ç¯å¢ƒä¸­é›†æˆå„ç§å·¥å…· æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ ç”¨æˆ·ç®¡ç†ç•Œé¢ç³»ç»Ÿä¸­ç®¡ç†æ•°æ® var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶ä½“ç³»ç»“æ„/CH3ï¼šUML.html":{"url":"è½¯ä»¶ä½“ç³»ç»“æ„/CH3ï¼šUML.html","title":"CH3ï¼šUML","keywords":"","body":"CH3ï¼šè½¯ä»¶ä½“ç³»ç»“æ„å»ºæ¨¡å’Œæ–‡æ¡£åŒ– 1.UML 1.1 Use Case ç”¨ä¾‹å›¾ï¼šç†è§£ç³»ç»ŸåŠŸèƒ½éœ€æ±‚çš„å®è´µå·¥å…· ç”¨äºæ˜¾ç¤ºè‹¥å¹²çš„è§’è‰²ä¸ç³»ç»Ÿæä¾›ç”¨ä¾‹ä¹‹é—´çš„å…³ç³»ï¼Œç”¨ä¾‹æ˜¯ç³»ç»Ÿçš„åŠŸèƒ½ æ˜¯ç³»ç»Ÿçš„å¤–éƒ¨è§†å›¾ï¼Œæ²¡æœ‰ä¸ç³»ç»Ÿå†…éƒ¨çš„ç±»çš„äº¤äº’ 1.2 Class Diagram ç±»å›¾ï¼šè¡¨ç¤ºç±»classå’Œç±»classä¹‹é—´çš„è”ç³»ï¼Œå¯¹ç³»ç»Ÿé™æ€ç»“æ„çš„æè¿° 1.3 Object Diagram å¯¹è±¡å›¾ï¼šæ˜¯ç³»ç»Ÿåœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹çš„å¯¹è±¡çš„å¿«ç…§ï¼Œè¡¨ç¤ºçš„æ˜¯å®ä¾‹instanceè€Œä¸æ˜¯ç±»ï¼Œæ‰€ä»¥ä¹Ÿå«Instance diagram å¯¹è±¡å›¾å±•ç¤ºå¯¹è±¡ä¹‹é—´çš„è¿æ¥å…³ç³»ï¼Œæ˜¾ç¤ºè¿æ¥åœ¨ä¸€èµ·çš„å¯¹è±¡çš„ç¤ºä¾‹ 1.4 Package Diagram åŒ…å›¾è¡¨ç¤ºçš„æ˜¯æ›´é«˜å±‚æ¬¡çš„å•å…ƒï¼š ä½¿ç”¨åŒ…å›¾å¯ä»¥å°†ç›¸å…³å…ƒç´ çº³å…¥ä¸€ä¸ªç³»ç»Ÿ 1.5 Sequence Diagram å¤šä¸ªå¯¹è±¡ä¹‹é—´éšç€æ—¶é—´æ¨ç§»çš„äº¤äº’å…³ç³» åºåˆ—å›¾ä¾¿äºå±•ç¤ºå¯¹è±¡ä¹‹é—´çš„åä½œã€‚ å¦‚æœæƒ³è¦çœ‹ä¸€ä¸ªuse caseä¸­çš„å¤šä¸ªå¯¹è±¡çš„è¡Œä¸ºï¼Œé‚£ä¹ˆä½¿ç”¨åºåˆ—å›¾ å¦‚æœæƒ³çœ‹ä¸€ä¸ªå¯¹è±¡åœ¨å¤šä¸ªuse caseä¸­çš„è¡Œä¸ºï¼Œé‚£ä¹ˆä½¿ç”¨çŠ¶æ€å›¾ å¦‚æœæƒ³çœ‹å¤šä¸ªå¯¹è±¡åœ¨å¤šä¸ªçº¿ç¨‹ä¸­çš„è¡Œä¸ºï¼Œé‚£ä¹ˆä½¿ç”¨æ´»åŠ¨å›¾ã€‚ 1.6 Communication Diagram ==åä½œå›¾ï¼ˆé€šä¿¡å›¾ï¼‰==ï¼šæè¿°å¯¹è±¡ä¹‹é—´çš„åŠ¨æ€åä½œ åä½œå›¾ï¼ˆé€šä¿¡å›¾ï¼‰æ˜¯ä¸€ç§äº¤äº’å›¾ï¼Œå¼ºè°ƒçš„æ˜¯å‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„å¯¹è±¡ä¹‹é—´çš„ç»„ç»‡ç»“æ„ã€‚ä¸€ ä¸ªåä½œå›¾æ˜¾ç¤ºäº†ä¸€ç³»åˆ—çš„å¯¹è±¡åŠå¯¹è±¡ä¹‹é—´çš„è”ç³»ä»¥åŠå¯¹è±¡é—´å‘é€å’Œæ¥æ”¶çš„æ¶ˆæ¯ã€‚ å¼ºè°ƒæ—¶é—´ï¼šåºåˆ—å›¾ å¼ºè°ƒä¸Šä¸‹çº§å…³ç³»ï¼šåä½œå›¾ äº¤äº’å›¾\\begin{cases}åä½œå›¾ã€é€šä¿¡å›¾ï¼šå¼ºè°ƒä¸Šä¸‹çº§å…³ç³»\\\\åºåˆ—å›¾ï¼šå¼ºè°ƒæ—¶é—´æ¨ç§»\\end{cases} 1.7 State Diagram æè¿°ç±»çš„å¯¹è±¡æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€ä»¥åŠäº‹ä»¶å‘ç”Ÿæ—¶çš„çŠ¶æ€çš„è½¬ç§»æ¡ä»¶ã€‚é€šå¸¸çŠ¶æ€å›¾æ˜¯å¯¹ç±»å›¾çš„è¡¥å……ã€‚ 1.8 Activity Diagram æ»¡è¶³ç”¨ä¾‹è¦æ±‚æ‰€è¦è¿›è¡Œçš„æ´»åŠ¨ä»¥åŠæ´»åŠ¨é—´çš„çº¦æŸå…³ç³» é‡ç‚¹ï¼šæ”¯æŒå¹¶è¡Œè¡Œä¸ºparallel 1.9 Component Diagram ç»„ä»¶å›¾ï¼šæè¿°ä»£ç æ„ä»¶çš„ç‰©ç†ç»“æ„å’Œå„ä¸ªæ„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³» 1.10 Deployment Diagram è½¯ç¡¬ä»¶çš„ç‰©ç†ç»“æ„ï¼Œç¡¬ä»¶èŠ‚ç‚¹ï¼Œè½¯ä»¶è§†å›¾ã€‚ 1.11 Composite Structures å¤åˆç»“æ„ï¼šåˆ†å±‚åœ°å°†ç±»åˆ†è§£ä¸ºå†…éƒ¨ç»“æ„ 1.12 Interaction Diagram äº¤äº’æ¦‚è¿°å›¾ï¼šæ´»åŠ¨å›¾å’Œåºåˆ—å›¾çš„ç»“åˆ 1.13 Timing Diagram æ—¶åºå›¾ï¼šäº¤äº’å›¾çš„å¦ä¸€ç§å½¢å¼ï¼Œä¸€èˆ¬é’ˆå¯¹ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¯¹è±¡æè¿°ã€‚ 2. â€œ4+1â€è§†å›¾ é€»è¾‘è§†å›¾ï¼šæ”¯æŒè¡Œä¸ºè¦æ±‚ã€‚å…³é”®æŠ½è±¡ï¼Œå¯¹è±¡æˆ–è€…å¯¹è±¡ç±» ç±»å›¾ å¯¹è±¡å›¾ çŠ¶æ€å›¾ åä½œå›¾ è¿‡ç¨‹è§†å›¾ï¼šè§£å†³å¹¶å‘å’Œåˆ†å‘ æ´»åŠ¨å›¾ å¼€å‘è§†å›¾ï¼šç»„ç»‡è½¯ä»¶ åŒ…å›¾ ç»„ä»¶å›¾ ç‰©ç†è§†å›¾ï¼šå…¶ä»–å…ƒç´ æ˜ å°„åˆ°å¤„ç†å’Œé€šä¿¡ç»“ç‚¹ éƒ¨ç½²å›¾ ç”¨ä¾‹è§†å›¾ï¼ˆåœºæ™¯ï¼‰ï¼šå…¶ä»–è§†å›¾æ˜ å°„åˆ°é‡ç‚¹çš„ç”¨ä¾‹ï¼Œå¸®åŠ©ç”¨æˆ·ç†è§£ç³»ç»ŸåŠŸèƒ½ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶ä½“ç³»ç»“æ„/CH4ï¼šç†è§£è´¨é‡å±æ€§.html":{"url":"è½¯ä»¶ä½“ç³»ç»“æ„/CH4ï¼šç†è§£è´¨é‡å±æ€§.html","title":"CH4ï¼šç†è§£è´¨é‡å±æ€§","keywords":"","body":"CH4ï¼šç†è§£è´¨é‡å±æ€§ 1.è´¨é‡å±æ€§åœºæ™¯çš„æ¦‚å¿µ è´¨é‡å±æ€§åœºæ™¯ï¼š æº åˆºæ¿€ç‰© åˆ¶å“ ç¯å¢ƒ å“åº” å“åº”è¡¡é‡ 2.å…­å¤§è´¨é‡å±æ€§ 2.1 å¯ç”¨æ€§ Availability æ•…éšœï¼Œç›¸å…³åæœ å®šä¹‰ï¼šåœ¨éœ€è¦æ˜¯å¯ç”¨çš„æ¦‚ç‡ï¼Œåœæœºä¸ç®— Î±çš„å®šä¹‰ \\alpha = \\frac{å¹³å‡æ— æ•…éšœæ—¶é—´}{å¹³å‡æ— æ•…éšœæ—¶é—´ + æ•…éšœä¿®å¤æ—¶é—´} failureçš„ç‰¹æ€§ï¼šå¯æ„ŸçŸ¥çš„ï¼Œæœªè¾¾åˆ°å£°ç§°çº§åˆ«çš„åŠŸèƒ½å³ä¸ºé”™è¯¯ã€‚ å¯ç”¨æ€§çš„è´¨é‡å±æ€§åœºæ™¯ï¼š æºï¼šç³»ç»Ÿå†…éƒ¨æˆ–è€…å¤–éƒ¨æ•…éšœè¿¹è±¡ åˆºæ¿€ç‰©ï¼šç³»ç»Ÿå´©æºƒï¼Œç³»ç»Ÿé”™è¯¯ï¼Œç»™å‡ºç»“æœä¸å‡†æ—¶ï¼Œé”™è¯¯ç»“æœ åˆ¶å“ï¼šç³»ç»Ÿå¤„ç†å™¨ï¼Œé€šä¿¡ä¿¡é“ï¼Œå­˜å‚¨ï¼Œè¿›ç¨‹ ç¯å¢ƒï¼šæ­£å¸¸ã€äºšå¥åº· å“åº”ï¼šè®°å½•é”™è¯¯æ—¥å¿—ï¼Œä¼ å›ï¼›é€šçŸ¥ç®¡ç†å‘˜æˆ–è€…å…¶ä»–ç³»ç»Ÿï¼›å…³é—­ç³»ç»Ÿ å“åº”æµ‹é‡ï¼šå¹³å‡æ— æ•…éšœæ—¶é—´ï¼Œä¿®å¤æ—¶é—´ï¼Œæ•…éšœæ—¶é—´ç™¾åˆ†æ¯”ï¼Œå¯ç”¨æ—¶é—´ç™¾åˆ†æ¯” 2.2 å¯ä¿®æ”¹æ€§ Modifiablity å…³æ³¨ï¼šæ”¹ä»€ä¹ˆï¼Œè°æ”¹ï¼Œä»€ä¹ˆæ—¶å€™æ”¹ï¼Œæ”¹çš„ä»£ä»· è´¨é‡å±æ€§åœºæ™¯ æºï¼šè°å»ä¿®æ”¹ï¼ˆå¼€å‘è€…ï¼Œç³»ç»Ÿç®¡ç†å‘˜ï¼Œç”¨æˆ·ï¼‰ åˆºæ¿€ç‰©ï¼šè¦è¿›è¡Œçš„å…·ä½“ä¿®æ”¹ åˆ¶å“ï¼šè¦ä¿®æ”¹å“ªä¸€éƒ¨åˆ†çš„å†…å®¹ï¼šä¿®æ”¹ç³»ç»Ÿçš„åŠŸèƒ½ or UI æˆ–è€…å…¶ä»–éƒ¨åˆ† ç¯å¢ƒï¼šåœ¨ä»€ä¹ˆæ—¶é—´è¿›è¡Œä¿®æ”¹ï¼Œè®¾è®¡orå¼€å‘orè¿è¡Œæ—¶é—´ å“åº”ï¼šæ“ä½œå‘˜æ€ä¹ˆç†è§£ä¿®æ”¹ï¼Œéƒ¨ç½²ï¼Œè¿è¡Œ åº¦é‡ï¼šæ”¹çš„æ—¶é—´å’Œæˆæœ¬ 2.3 æ€§èƒ½ Performance ä¸»è¦æ˜¯ç³»ç»Ÿå“åº”äº‹ä»¶çš„èŠ±è´¹æ—¶é—´ï¼Œäº‹ä»¶æ•°é‡ï¼Œåˆ°æ¥å½¢å¼ è´¨é‡å±æ€§åœºæ™¯ æºï¼šå¯èƒ½æ¥è‡ªç³»ç»Ÿå¤–éƒ¨ï¼ˆå¯èƒ½å¤šä¸ªï¼‰ä¹Ÿå¯èƒ½æ¥è‡ªç³»ç»Ÿå†…éƒ¨ åˆºæ¿€ç‰©ï¼šäº‹ä»¶çš„åˆ°è¾¾ï¼Œåˆ°è¾¾çš„å½¢å¼ï¼ˆå‘¨æœŸæ€§ï¼Œéšæœºï¼Œå¶å‘ï¼‰ åˆ¶å“ï¼šç³»ç»Ÿæä¾›çš„æœåŠ¡ ç¯å¢ƒï¼šç³»ç»Ÿå¤„äºä¸åŒçš„ç¯å¢ƒâ€”â€”æ­£å¸¸ï¼Œç´§æ€¥ï¼Œè¶…è½½ å“åº”ï¼š==ç³»ç»Ÿå¿…é¡»å¤„ç†åˆ°æ¥çš„äº‹ä»¶ï¼Œå¯èƒ½å¯¼è‡´ç³»ç»Ÿçš„ç¯å¢ƒçš„å˜åŒ–== å“åº”åº¦é‡ï¼š å¤„ç†äº‹ä»¶èŠ±è´¹çš„æ—¶é—´ å•ä½æ—¶é—´å†…å¤„ç†äº‹ä»¶çš„æ•°é‡ å‡ºé”™çš„é”™è¯¯ç‡ï¼Œä¸¢å¤±ç‡ 2.4 å®‰å…¨æ€§ ä¿è¯æ­£å¸¸ç”¨æˆ·ï¼Œé˜»æŒ¡éæ³•æ”»å‡» å®‰å…¨æ€§çš„ä¸åŒç±»å‹ ä¸å¯æŠµèµ–æ€§ æœºå¯†æ€§ å®Œæ•´æ€§ ä¿è¯æ€§ å®¡è®¡ ==å¯ç”¨æ€§== è´¨é‡å±æ€§åœºæ™¯ æºï¼šæ”»å‡»å¯èƒ½ç”±äººæˆ–è€…å…¶ä»–ç³»ç»Ÿå‘èµ·ï¼›å¯èƒ½å…ˆå‰è¢«è¯†åˆ«ï¼Œæˆ–è€…å½“å‰æœªçŸ¥ã€‚ åˆºæ¿€ç‰© ==å¯¹ç³»ç»Ÿçš„æ”»å‡»ï¼ˆæˆ–è€…è¯•å›¾ç ´åç³»ç»Ÿå®‰å…¨ä¿æŠ¤ï¼‰==ï¼Œå¸¸è§çš„å½¢å¼ï¼š æ•°æ® è¶…è¿‡æƒé™çš„æœåŠ¡ å½±å“å¯ç”¨æ€§ åˆ¶å“ï¼šç³»ç»Ÿæ‰€æä¾›çš„æœåŠ¡æˆ–ç³»ç»Ÿä¸­çš„æ•°æ® ç¯å¢ƒï¼šç³»ç»Ÿå¯èƒ½å¤„äºä¸åŒçš„æƒ…å†µä¸‹â€”â€”è”ç½‘/æœªè”ç½‘ï¼Œåœ¨çº¿/ä¸‹çº¿ï¼Œåœ¨é˜²ç«å¢™å¤–/åœ¨é˜²ç«å¢™å†… å“åº”ï¼š åˆæ³•ç”¨æˆ·æ­£å¸¸ä½¿ç”¨ï¼Œæ‹’ç»éæ³•ç”¨æˆ·çš„ä½¿ç”¨ å¯¹æ”»å‡»æœ‰å¨æ…‘ åº¦é‡ å‘èµ·æ”»å‡»çš„éš¾åº¦ ä»æ”»å‡»ä¸­æ¢å¤çš„éš¾åº¦ 2.5 å¯æµ‹è¯•æ€§ è½¯ä»¶æµ‹è¯•ä¸ºäº†å‘ç°bug æµ‹è¯•çš„é‡è¦æ€§ æµ‹è¯•çš„è´¨é‡å±æ€§åœºæ™¯ æºï¼šæµ‹è¯•å¯èƒ½ç”±ä¸åŒçš„è§’è‰²å‘èµ·ï¼ˆå¼€å‘è€…ã€å•å…ƒæµ‹è¯•äººå‘˜ã€é›†æˆæµ‹è¯•äººå‘˜ã€ç³»ç»Ÿç®¡ç†å‘˜ã€ç”¨æˆ·â€¦â€¦ï¼‰ åˆºæ¿€ç‰©ï¼šé‡Œç¨‹ç¢‘ åˆ¶å“ï¼šç¨‹åºï¼Œè®¾è®¡ï¼Œç³»ç»Ÿ ç¯å¢ƒï¼šè®¾è®¡é˜¶æ®µã€å¼€å‘é˜¶æ®µã€ç¼–è¯‘æ—¶ï¼Œéƒ¨ç½²é˜¶æ®µã€æ­£å¸¸è¿è¡Œæ—¶ å“åº” ç†æƒ³çš„å“åº”æ˜¯å¯ä»¥è¿›è¡Œæµ‹è¯•ï¼Œå¹¶ä¸”å¯ä»¥==è§‚å¯Ÿåˆ°==æµ‹è¯•ç»“æœ å½“æµ‹è¯•ç»“æœæ— æ³•è¢«è§‚å¯Ÿåˆ°æ—¶ï¼Œæµ‹è¯•éš¾åº¦å¾ˆå¤§ å“åº”çš„è¡¡é‡æ ‡å‡† ç™½ç›’æµ‹è¯•çš„è¦†ç›–ç‡ æœªæ¥ç»§ç»­å‘ç°Bugçš„æ¦‚ç‡ ==æœ€é•¿æµ‹è¯•é“¾çš„é•¿åº¦== 2.6 æ˜“ç”¨æ€§ ç”¨æˆ·å¸Œæœ›å®Œæˆä»»åŠ¡æœ‰å¤šå®¹æ˜“ è´¨é‡å±æ€§åœºæ™¯ æºï¼šç»ˆç«¯ç”¨æˆ· åˆºæ¿€ç‰©ï¼š ç»ˆç«¯ç”¨æˆ·å¸Œæœ›å­¦ä¼šä½¿ç”¨ï¼Œæé«˜æ•ˆç‡ï¼Œå‡å°‘é”™è¯¯ åˆ¶å“ï¼šæ•´ä¸ªç³»ç»Ÿ ç¯å¢ƒï¼šè¿è¡Œæ—¶æˆ–è€…éƒ¨ç½²æ—¶ å“åº”ï¼š ç³»ç»Ÿå“åº”ç”¨æˆ·çš„éœ€æ±‚ å“åº”åº¦é‡ ç”¨æˆ·å®Œæˆä»»åŠ¡çš„æ—¶é—´ ç”¨æˆ·å‡ºé”™çš„æ¦‚ç‡ ç”¨æˆ·æ»¡æ„ç¨‹åº¦ ç”¨æˆ·æ“ä½œçš„æˆåŠŸç‡ 3.ä»æ¶æ„ä¸Šè®¾è®¡è´¨é‡å±æ€§çš„ç­–ç•¥ 3.1 å¯ç”¨æ€§ \\begin{cases}é”™è¯¯æ£€æµ‹\\begin{cases}ping/echo\\\\Heartbeatsï¼šè¢«ç›‘æ§ç»„ä»¶å‘ç›‘æ§ç»„ä»¶å‘å‡ºå‘¨æœŸæ€§ä¿¡å·\\\\å¼‚å¸¸\\end{cases} \\\\é”™è¯¯æ¢å¤\\begin{cases}æŠ•ç¥¨æœºåˆ¶\\\\ä¸»åŠ¨å†—ä½™\\\\è¢«åŠ¨å†—ä½™\\\\å†…æµ‹\\\\æ£€æŸ¥ç‚¹/å›æ»š\\end{cases}\\\\é”™è¯¯é¿å…\\begin{cases}äº‹åŠ¡\\\\å…³é—­æœåŠ¡\\\\è¿›ç¨‹ç›‘æ§\\end{cases}\\end{cases} 3.2 å¯ä¿®æ”¹æ€§ \\begin{cases}å±€éƒ¨åŒ–ä¿®æ”¹\\begin{cases}ä¿æŒè¯­ä¹‰çš„é«˜å†…èšæ€§\\\\è€ƒè™‘æœªæ¥å¯èƒ½ä¼šå‘ç”Ÿçš„æ”¹å˜\\\\æ¨¡å—æ³›åŒ–\\\\é€‰é¡¹å˜å°‘\\\\æŠ½è±¡å…¬å…±æœåŠ¡\\end{cases}\\\\é¿å…è¿é”ååº”\\begin{cases}ä¿æŒå·²æœ‰çš„æ¥å£\\\\ä½¿ç”¨ä¸­é—´å±‚\\\\ä¿¡æ¯éšè—\\end{cases}\\\\å»¶è¿Ÿç»‘å®šæ—¶é—´\\begin{cases}è¿è¡Œæ—¶æ³¨å†Œ\\\\é…ç½®æ–‡ä»¶\\\\å¤šæ€\\end{cases}\\end{cases} 3.3 æ€§èƒ½ \\begin{cases}èµ„æºéœ€æ±‚\\begin{cases}æå‡è®¡ç®—èƒ½åŠ›\\\\å‡å°‘å¤„ç†çš„æ•°æ®æ•°é‡\\\\ç®¡ç†äº‹ä»¶è¾¾åˆ°çš„é¢‘ç‡\\\\é™åˆ¶é‡‡æ ·ç‡\\end{cases}\\\\èµ„æºç®¡ç†\\begin{cases}é•¿ä»»åŠ¡è®¾ç½®ä¸Šé™æ‰§è¡Œæ—¶é—´\\\\é™åˆ¶äº‹åŠ¡é˜Ÿåˆ—çš„é•¿åº¦\\\\åˆ©ç”¨å¹¶å‘æœºåˆ¶\\end{cases}\\\\èµ„æºä»²è£ï¼šä½¿ç”¨è°ƒåº¦ç­–ç•¥\\begin{cases}FIFO\\\\å›ºå®šä¼˜å…ˆçº§\\\\åŠ¨æ€ä¼˜å…ˆçº§\\end{cases}\\end{cases} 3.4 å®‰å…¨æ€§ \\begin{cases}æŠµå¾¡æ”»å‡»\\begin{cases}ç”¨æˆ·è®¤è¯\\\\ç”¨æˆ·æˆæƒ\\\\ä¿è¯æ•°æ®çš„æœºå¯†æ€§\\\\ä¿è¯æ•°æ®çš„å®Œæ•´æ€§\\\\é™åˆ¶è®¿é—®ï¼šé˜²ç«å¢™\\end{cases}\\\\æ”»å‡»æ£€æµ‹ï¼šå…¥ä¾µæ£€æµ‹ç³»ç»Ÿ\\\\æ”»å‡»æ¢å¤\\begin{cases}æ•°æ®å¤‡ä»½\\\\æ”»å‡»è€…è¯†åˆ«\\end{cases}\\end{cases} 3.5 å¯æµ‹è¯•æ€§ \\begin{cases}ç®¡ç†è¾“å…¥è¾“å‡º\\begin{cases}è®°å½•/å›æ”¾ï¼Œé‡æ¼”\\\\ æ¥å£å’Œå®ç°åˆ†ç¦»\\end{cases}\\\\ å†…éƒ¨æ£€æµ‹ï¼šå†…éƒ¨ç›‘æ§å™¨\\begin{cases}IDEæ–­ç‚¹\\end{cases}\\end{cases} 3.6 æ˜“ç”¨æ€§ \\begin{cases}è¿è¡Œæ—¶ç­–ç•¥\\begin{cases}ä¿è¯ç”¨æˆ·æ¨¡å‹\\\\ä¿è¯ç³»ç»Ÿæ¨¡å‹\\\\ä¿è¯ä»»åŠ¡æ¨¡å‹\\end{cases}\\\\è®¾è®¡æ—¶ç­–ç•¥\\begin{cases}UIç•Œé¢ä¸å…¶ä»–åˆ†ç¦»ï¼šMVC\\end{cases}\\\\å…·ä½“ï¼š\\begin{cases}ç³»ç»Ÿç»™ä¸ç”¨æˆ·é€‚å½“åé¦ˆ\\\\ç³»ç»ŸçŒœæµ‹ç”¨æˆ·è¦å®Œæˆçš„ä»»åŠ¡\\\\ç³»ç»Ÿæ”¯æŒæ’¤é”€\\\\ç³»ç»Ÿç»™ç”¨æˆ·æä¾›ä¸€è‡´æ€§ä½“éªŒ\\\\ç”¨æˆ·æ¥å£åˆ†ç¦»\\end{cases}\\end{cases} var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/about.html":{"url":"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/about.html","title":"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART1-åˆ¤æ–­é¢˜é”™è¯¯æ€»ç»“.html":{"url":"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART1-åˆ¤æ–­é¢˜é”™è¯¯æ€»ç»“.html","title":"PART1-åˆ¤æ–­é¢˜é”™è¯¯æ€»ç»“","keywords":"","body":"PART1-åˆ¤æ–­é¢˜é”™è¯¯æ€»ç»“ 4.triple contraints ï¼šã€scopeã€‘ã€timeã€‘ã€costã€‘ è®°ä½ï¼Œå¡«ç©ºä¹Ÿè¦ç­” 7.Project managers work with the project sponsors to define success for particular projects. ï¼ˆTï¼‰ 8.Individual projects always address strategic goals whereas portfolio management addresses tactical goals. ï¼ˆFï¼‰ 13.The last phase of the traditional project life cycle is the implementation phaseã€‚ ï¼ˆFï¼‰ 18.The level of activity and length of each process group varies for every project ï¼ˆTï¼‰ 21.Monitoring and controlling processes overlap all of the other project management process groups. ï¼ˆTï¼‰ 22.Many project management activities occur as part of the planning process group. ï¼ˆTï¼‰ 24.The Rational Unified Process (RUP) framework is incompatible with the PMBOK process. (F) 25.The kick-off meeting is always held before the business case and project charter are completed. ï¼ˆFï¼‰ 26.A milestone list is an output associated with the Project Scope Management knowledge area. (F) 28.The burndown chart is a Scrum created artifact that provides a list of features prioritized by business value. ï¼ˆFï¼‰ 37.Project scope management includes the processes involved in defining and controlling what is or â€‹ is not included in a project ï¼ˆTï¼‰ 40.Project scope statements must include the project boundaries, constraints, and assumptions. ï¼ˆFï¼‰ 44.The scope baseline includes the approved project scope statement and its associated WBS and WBS dictionary ï¼ˆTï¼‰ 45.The main purpose of the WBS is to define all of the work required to complete a project. ï¼ˆTï¼‰ 46.A work package represents one component of the product that the project aims to deliver (F) 47.The tasks in a WBS must be developed as a sequential list of steps (F) A unit of work should appear at only one place in the WBS (T) 51.In project schedule management, the primary output of defining activities is a schedule management plan (F) 55.Network diagrams are the preferred technique for showing activity sequencing (T) 56.Start-to-finish relationships are the most frequently used dependencies between activities. (F) 57.In a critical path analysis, the shortest path is what drives the completion date for the project. (F) 58.A backward pass through the network diagram determines the early start and early finish dates for each activity (F) 59.The technique of fast tracking can result in lengthening the project schedule (T) 60.Critical chain scheduling assumes that resources multitask and maximizes multitasking. (F) 61.Overrun is the additional percentage amount by which estimates exceed actual costs. (F) 63.Contingency reserves are also known as unknown unknown ï¼ˆFï¼‰ 67.The formulas for variances and indexes start with EV, the earn value ï¼ˆTï¼‰ 68.Project stakeholder management has only been identified as an entire knowledge area by the Project Management Institute since 2013. (T) 75.Unknown risks can be managed proactively ï¼ˆFï¼‰ 76.Risk events refer to specific, certain events that may occur to the detriment or enhancement of (F) 78.Top Ten Risk Item Tracking is a quantitative risk analysis tool. (F) â€‹ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART2-é€‰æ‹©é¢˜ç­”æ¡ˆæ•´ç†.html":{"url":"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART2-é€‰æ‹©é¢˜ç­”æ¡ˆæ•´ç†.html","title":"PART2-é€‰æ‹©é¢˜ç­”æ¡ˆæ•´ç†","keywords":"","body":"PART2-é€‰æ‹©é¢˜ç­”æ¡ˆæ•´ç† 1.æ˜“é”™é¢˜ What important Scrum artifact is used to graphically display progress on each sprint during the monitoring and controlling process? a. WBS b. sprint backlog c. burndown chart d. product backlog Answer C What is developed in the Project Integration Management knowledge area? a. schedule management plan b. project management plan c. WBS d. quality management åˆå§‹é˜¶æ®µï¼šè®¡åˆ’ Which activity is a part of the Scrum planning process? a. Determining how many sprints will compose each release b. Demonstrating the product during a sprint review meeting c. Completing tasks each day during sprints d. Creating sprint backlog The __ is responsible for maximizing return on investment (ROI) by identifying product features, translating these into a prioritized feature list, deciding which should be at the top of the list for the next Sprint, and continually re-prioritizing and refining the list. A) Scrum Master B) Product Owner C) Manager D) Team ANSWER: B Which information is included in a business caseä¸šåŠ¡ç”¨ä¾‹? â€‹ a. business need for the project â€‹ b. relevant government or industry standards â€‹ c. project objective, high-level requirements, and time and cost goals â€‹ é¡¹ç›®ç›®æ ‡ã€é«˜å±‚æ¬¡éœ€æ±‚ã€æ—¶é—´å’Œæˆæœ¬ç›®æ ‡ â€‹ d. policies, procedures, guidelines, and systems that influence a projectâ€™s success What is the first step in the planning process? A â€‹ a. tie the information technology strategic plan to the organizationâ€™s overall strategic plan â€‹ b. perform a business area analysis â€‹ c. start defining potential IT projects in terms of their scope, benefits, and constraints â€‹ d. choose which projects to do and assigning resources to work on them ANSWER: a Which process includes defining project scope, benefits, and constraints? A â€‹ a. project planning b. business area analysis â€‹ c. resource allocation d. information technology strategy planning ANSWER: a Which process involves working with stakeholders to create the document that formally authorizes a project? â€‹ a. Developing the project charter[é¡¹ç›®ç« ç¨‹] â€‹ b. Developing the preliminary project scope statement â€‹ c. Developing the project management plan â€‹ d. Performing integrated change control Which technique is used for making cost and schedule trade-offs to obtain the greatest amount of schedule compression for the least incremental cost? â€‹ a. dependency b. crashing[å´©æºƒï¼] â€‹ c. critical chain scheduling d. feeding buffers What term is used for the amount of time an activity can be delayed from its early start without delaying the planned project finish dateã€ä¸å»¶è¿Ÿç»“æŸæ—¶é—´ã€‘? â€‹ a. total slack b. free float â€‹ c. backward pass d. forward pass ANSWER: a What term is used for the amount of time an activity can be delayed without delaying the early start date of any immediately following activitiesã€ä¸å»¶è¿Ÿå¼€å§‹æ—¶é—´ã€‘? â€‹ a. forward pass b. backward pass â€‹ c. fast tracking d. free slack ANSWER: d Which method is used for determining the estimated annual costs [å¹´åº¦æˆæœ¬]and benefits[å’Œæ”¶ç›Š] for a project? â€‹ a. Critical path analysis b. Cash flow analysis ç°é‡‘æµåˆ†æ â€‹ c. Present value analysis d. Requirements analysis ANSWER: b Scope, time and cost goals in order of importance can be ranked on an expectations managementmatrix_. â€‹ a. requirements traceability matrix b. expectations management matrix â€‹ c. responsibility assignment matrix d. probability matrix Which process involves numerically estimating the effects of risks on project objectives? â€‹ a. performing qualitative risk analysis b. planning risk responses â€‹ c. identifying risks d. performing quantitative risk analysis 2.å…¨éƒ¨é¢˜ç›® During which phase must project teams address important considerations for managing information (and often end up updating business processes through improved communications)? åœ¨å“ªä¸ªé˜¶æ®µï¼Œé¡¹ç›®å›¢é˜Ÿå¿…é¡»å¤„ç†ç®¡ç†ä¿¡æ¯çš„é‡è¦è€ƒè™‘äº‹é¡¹(å¹¶ä¸”ç»å¸¸é€šè¿‡æ”¹è¿›çš„é€šä¿¡æ¥æ›´æ–°ä¸šåŠ¡æµç¨‹)? b. execution An example of push communication is _. c. voice mails An example of pull communication is _. d. blogs Which document addresses where the project stands in terms of meeting scope, time, and cost goals? b. status reports Which process involves numerically estimating the effects of risks on project objectives? å“ªä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°ç”¨æ•°å­—ä¼°è®¡é£é™©å¯¹é¡¹ç›®ç›®æ ‡çš„å½±å“? d. performing quantitative risk analysis _ are predefined actions that the project team will take if an identified risk event occurs. c. Contingency plans[åº”æ€¥è®¡åˆ’] Which is a fact-finding technique that can be used for collecting information in face-to-face, phone, e-mail, or instant-messaging discussions? interviewing d. interviewing Which document contains results of various risk management processes; it is often displayed in a table or spreadsheet format? a. risk register The _ lists the relative probability of a risk occurring and the relative impact of the risk occurring. â€‹ c. probability/impact matrix Which diagramming technique is used to help select the best course of action in situations in which future outcomes are uncertain? a. decision tree Which action involves eliminatingã€æ¶ˆé™¤ã€‘ a specific threat, usually by eliminating its causesã€åŸå› ã€‘? å“ªä¸ªè¡ŒåŠ¨æ¶‰åŠæ¶ˆé™¤ç‰¹å®šçš„å¨èƒï¼Œé€šå¸¸æ˜¯é€šè¿‡æ¶ˆé™¤å…¶åŸå› ? â€‹ a. risk avoidance _ are unplanned responses to risk events used when project teams do not have contingency plans in place. â€‹ a. Workarounds In project procurement management, which is an output of the planning process? d. make-or-buy decisions A(n) _ is a document used to solicit proposals from prospective suppliers. _æ˜¯ä¸€ä»½ç”¨æ¥å‘æ½œåœ¨ä¾›åº”å•†å¾æ±‚å»ºè®®çš„æ–‡ä»¶ã€‚ c. RFP A document used to solicit quotes or bids from prospective suppliers is known as a(n) _. ç”¨äºä»æ½œåœ¨ä¾›åº”å•†å¾æ±‚æŠ¥ä»·æˆ–æŠ•æ ‡çš„æ–‡ä»¶ç§°ä¸º _ã€‚ a. RFQ After planning for procurement management, the next process involves __. d. sending appropriate documentation to potential sellers What process involves determining everyone involved in the project or affected by it, and determining the best ways to manage relationships with them? â€‹ a. identifying stakeholders The main output of which process is the stakeholder register? b. identifying stakeholders Which is true about identifying stakeholders? a. External project stakeholders include the projectâ€™s customers. The project team must take corrective action if stakeholders with _ are categorized as resistant or unaware. b. high interest and high power Scope, time and cost goals in order of importance can be ranked on an ___. b. expectations management matrix A(n) _ is a tool used to document, monitor, and track problems that need resolution. d. issue log Which process involves allocating the overall cost estimate to individual work items to establish a baseline for measuring performance? å“ªä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°å°†æ€»ä½“æˆæœ¬ä¼°è®¡åˆ†é…åˆ°å•ä¸ªå·¥ä½œé¡¹ï¼Œä»¥å»ºç«‹æµ‹é‡æ€§èƒ½çš„åŸºçº¿? a. determining the budget Which process results in a cost baseline as a main output? c. cost budgeting Budget - - Base line for measuring performance or cost base line Which process helps develop an accurate projection of a projectâ€™s financial expenses and benefits? â€‹ c. life cycle costing Which method is used for determining the estimated annual costs [å¹´åº¦æˆæœ¬]and benefits[å’Œæ”¶ç›Š] for a project? b. Cash flow analysis Which statement is true of contingency reserves? a. They allow for future situations that can be partially planned for. Which is most likely to be a reason for inaccuracies in information technology cost estimates? â€‹ b. People lack estimating experience. What is another term used for budget? d. planned value Which is true of earned value? â€‹ c. It is an estimate of the value of the physical work actually completed. During which relationship is the â€œfromâ€ activity unable start until the â€œtoâ€ activity is started? â€‹ a. start-to-start After working with key stakeholders to define activities and calculate their resources, what is the next process in project schedule management? d. estimate the duration of activities. Which provide a standard format for displaying project schedule information by listing project activities and their corresponding start and finish dates in a calendar format? â€‹ a. Gantt charts Which technique involves network diagramming[ç½‘ç»œå›¾] and is used primarily to predict total project duration? b. critical path analysis The critical path is the _ path through a network diagram, and it represents the _ amount of slack or float. b. longest; shortest What term is used for the amount of time an activity can be delayed without delaying the early start date of any immediately following activitiesã€ä¸å»¶è¿Ÿå¼€å§‹æ—¶é—´ã€‘? d. free slack What term is used for the amount of time an activity can be delayed from its early start without delaying the planned project finish dateã€ä¸å»¶è¿Ÿç»“æŸæ—¶é—´ã€‘? â€‹ a. total slack Which technique involves doing activities in parallel that one would normally do in sequence? â€‹ c. Fast tracking Which technique is used for making cost and schedule trade-offs to obtain the greatest amount of schedule compression for the least incremental cost? b. crashing How does critical chain scheduling protect tasks on the critical chain from being delayed? b. feeding buffers Which law states that work expands to fill the time allowed? â€‹ c. Parkinsonâ€™s Law Which is a similarity between scope control and schedule control? â€‹ c. Both are portionsã€éƒ¨åˆ†ã€‘ of the integrated change control process under project integration management. Which term describes a product produced as part of a project? â€‹ c. deliverable Which statement best describes scope? d. work involved in creating the products and the processes used to create them Which task is at the lowest level of the WBS? d. work package Which is recommended for the creation of a good WBS? â€‹ b. A unit of work should appear at only one place in the WBS. Which process involves working with stakeholders to create the document that formally authorizes a project? â€‹ a. Developing the project charter What is the first step in the planning process? a. tie the information technology strategic plan to the organizationâ€™s overall strategic plan Which process includes defining project scope, benefits, and constraints? â€‹ a. project planning What type of analysis involves calculating the expected netã€å‡€èµšã€‘ monetary gain or loss from a project by discounting all expected future cash inflows and outflows to the present point in time? b. Net present value In a weighted scoring model, what percent must the sum of the weights of all the criteria total? â€‹ c. 100 Which information is included in a business caseä¸šåŠ¡ç”¨ä¾‹? â€‹ c. project objective, high-level requirements, and time and cost goals Which section of the project management plan provides the planned cost of deliverables? b. budget The scrum approach originated with agile software development as practitioners looked for ways to .............. A) improve communication B) increase throughput Although Scrum was intended for management of software development projects, it can be used to run software maintenance teams, or as a general project/program management approach. A) True The main roles in Scrum are: A) ScrumMaster B) Product Owner C) Team Scrum eliminates many of the tasks required of a lead because teams become self-organizing. A) True In scrum the team activity is monitored and coordinated on ......... basis. B) daily Scrum is iterative. The iteration is called _ C) sprint The ................. is responsible for maximizing return on investment (ROI) by identifying product features, translating these into a prioritized feature list, deciding which should be at the top of the list for the next Sprint, and continually re-prioritizing and refining the list. B) Product Owner The team in Scrum is seven plus or minus two people. A) True The ScrumMaster and the Product Owner can be the same individual; B) False The first step in Scrum is for the Product Owner to articulate the product vision. Eventually, this evolves into a refined and prioritized list of features called the .......... C) Product Backlog The team meets daily for ...... minutes, where each member of the team discusses the work theyâ€™ve completed since the last meeting 15 12)................. are of scrum principles. A) Time-boxes B) Cross-functional teams C) Open communications within team. D) All of above Users & Stakeholders in scrum are Interested in results but not responsible for deliverables. False The organization recognizes that a new project exists and completes a project charter during which processes for a new project? a. initiating What is developed in the Project Integration Management knowledge area? b. project management plan What is the main purpose of project plans? d. guide project execution Which process includes measuring progress toward project objectives and taking corrective action to match progress with the plan? b. Monitoring and controlling Which is true about the agile method? c. It uses several iterations or deliveries of software instead of waiting until the end of the project to provide a product. Which project would be compatible with the use of the agile approach? d. Projects that have more flexible scheduling Which activity is a part of the Scrum planning process? d. Creating sprint backlog In the Scrum method, during which meeting is the improvement of the product and process discussed? a. sprint retrospective A _ is usually not necessary to the Scrum method, because Scrum implies that team members work as a self-directed groupã€ä¸éœ€è¦team charterã€‘. a. team charterã€å›¢é˜Ÿå®ªç« ã€‘ What important Scrum artifact is used to graphically display progress on each sprint during the monitoring and controlling process? c. burndown chart In what type of organizational structure do project managers have the most authority? b. Project In which product life cycle the scope, schedule, and cost are determined early, and changes to scope are carefully managed? C â€‹ c. Predictive In which development life cycle do stakeholders define and approve the detailed scope before the start on an iteration? â€‹ a. Adaptive Which observation is true of the agile approach to software development? â€‹ a. In the agile method, requirements and solutions evolve through collaboration. Which objective is true of projects? â€‹ b. They have a unique purpose. The role of a _ is to provide direction and funding for a project. â€‹ a. project sponsor Which knowledge area involves defining and managing all the workã€è¦åšä»€ä¹ˆæå‰å‡†å¤‡å¥½ã€‘ required to complete the project successfully? b. Project scope management Which project management knowledge area ensures that the project will satisfy the stated or implied needs for which it was undertaken? d. Project quality management Project procurement management mainly involves: b. buying goods and services for a project from outside the performing organization. An important tool for project scope management is _. d. a work breakdown structure Fast tracking is an example of a tool used in _ management. â€‹ a. schedule Which organization provides certification as a Project Management Professional? â€‹ c. PMI var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART3-å¡«ç©ºé¢˜.html":{"url":"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART3-å¡«ç©ºé¢˜.html","title":"PART3-å¡«ç©ºé¢˜","keywords":"","body":"PART3-å¡«ç©ºé¢˜æ˜“é”™æ•´ç† Agile software development can be used for software development or in any environment in which the requirements are unknown or change quickly. Agileï¼Œæ²¡æœ‰method Sprint planning is part of the basic Scrum framework___ project management process groups_ progress from initiation activities to planning activities, executing activities, monitoring and controlling activities, and closing activities. The ideal outcome of the monitoring and controlling_ process group is to complete a project successfully by delivering the agreed-upon project scope within time, cost, and quality constraints. A(n) _product owner is the person responsible for the business value of the project and for deciding what work to do and in what order when using a Scrum method. A(n) _scrum master is the person who ensures that the team is productive, facilitates the daily Scrum, enables close cooperation across all roles and functions, and removes barriers that prevent the team from being effective. A(n) scrum team development team_ is a cross-functional team of five to nine people who organize themselves and the work to produce the desired results for each sprint. If done well, the Agile approach_ can produce several releases of useful software. _Strategic planning involves determining long-term objectives by analyzing the strengths and weaknesses, studying opportunities and threats, predicting future trends, and projecting the need for new products and services. A(n) _weighted scoring model is a tool that provides a systematic process for selecting projects based on many criteria. A(n) _change control board is a formal group of people responsible for approving or rejecting changes to a project. A(n) rough order of man estimate is done very early in a project or even before a project is officially started. Function Ponits__ are a means of measuring software size based on what the software does for end users. A(n) _cost-baseline_ is a time-phased budget that project managers use to measure and monitor cost performance. _EVM_ is a project performance measurement technique that integrates scope, time, and cost data. The EV_ is the measure of work performed expressed in terms of the budget authorized for that work. artifacts var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART4-ç®€ç­”é¢˜.html":{"url":"è½¯ä»¶è¿‡ç¨‹ä¸é¡¹ç›®ç®¡ç†/PART4-ç®€ç­”é¢˜.html","title":"PART4-ç®€ç­”é¢˜","keywords":"","body":"1.What are the triple triple constraints? scopeã€cost ã€time 2.What are the 49 Project Management Processes? Using a table. 3.What are 8 project management techniques WBS work breakdown structure CPM critical path method Scrum SAFe Kanban çœ‹æ¿ Gantt Chart PERT Waterfall 4.difference between scrum and waterfall ( at least 5 difference) æ–¹é¢ Scrum Waterfall release scrum can have multiple releases waterfall has only one release customer scrum keeps customer informed about every stepduring project development Waterfall only contacts customerat the dilivery date changes scrum welcomes changes of requirements at early and latestages of the project Waterfall welcomes changes only at requirement phase and making changesis not allowed at late stage divide Scrum divide work into sprints and then assign work with the team members Waterfall divides work into stages(phases)and process continues one after another advantage srcum works well for difficult and complex projects, in which requiremnets are not entirely clear before development Waterfall model works well with smaller projects in which requirements are clear before development 5.difference project phase and 5 project management process groups. Processes are performed within Phases; and Phases are performed within the Lifecycle 6.Critical path methods, forward and backward pass, find critical path and slack or float of the activity, and find project duration critical pathï¼šF-G project durationï¼š13 7.List and describe each of the 10 project management knowledge areas. Integrated managementï¼šits function is like the thread in the necklace Scope managementï¼šdo and only do what should be done Time managementï¼šlet everything proceed according to the established schedule Cost managementï¼šcalculate and spend money properly Quality managementï¼šthe purpose is to meet the demand Human resource managementï¼šlet team members work with you efficiently Communication managementï¼šlet the right person convey the right information to the right person at the right time in the right way Risk managementï¼š\"look for trouble without trouble\", so as to make the project \"trouble - free\" Procurement managementï¼šbe Party A Stakeholder managementï¼škeep good relationship with the project stakeholders and make them saisfied 8.What are the phases in a traditional project life cycle initiating planning executing closing 9.What are the 4 scrum ceremonies Sprint planning Daily Scrum Sprint Review Sprint Retrospective 10.What is performance reporting? What are some methods used for performance reporting? Performance reporting keeps stakeholders informed about how resources are being used to achieve project objectives â€¢ Progress reports describe what the project team has accomplished during a certain period of time â€¢ Status reports describe where the project stands at a specific point in time â€¢ Forecasts predict future project status and progress based on past information and trends 11.What are the 12 principles behind the Agile Manifesto? satisfy the customer through early and continuous delivery of valuable software Welcome changing requirements, even late in development Deliver working software frequently Business people and developers must work together Build projects around motivated individuals. Give them the environment and support they need, and trust them. The most efficient and effective method of conveying information is face-to-face conversation Working software is the primary measure of progress. The sponsors, developers, and users should be able to maintain a constant pace indefinitely. Continuous attention to technical excellece and good design Simplicityâ€“the art of maximizing the amount of work not doneâ€“is essential. The best architectures, requirements, and designs emerge from self-organizing teams. The team reflects on how to become more effective and adjusts its behavior accordingly. 12.What are the 5 stages of the Tuckman modelï¼Ÿ Forming Storming Norming Performing Adjourning 13.What are the associated activities and deliverable along Project Process Groupsï¼Ÿ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ä¿ç ”ç®—æ³•ç»ƒä¹ AcWingè®­ç»ƒ/about.html":{"url":"ä¿ç ”ç®—æ³•ç»ƒä¹ AcWingè®­ç»ƒ/about.html","title":"ä¿ç ”ç®—æ³•ç»ƒä¹ AcWingè®­ç»ƒ","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ä¿ç ”ç®—æ³•ç»ƒä¹ AcWingè®­ç»ƒ/åŸºç¡€ç®—æ³•.html":{"url":"ä¿ç ”ç®—æ³•ç»ƒä¹ AcWingè®­ç»ƒ/åŸºç¡€ç®—æ³•.html","title":"åŸºç¡€ç®—æ³•","keywords":"","body":"CH1ï¼šåŸºç¡€ç®—æ³• 1.1 æ’åº åŒ…å«ä¸¤ä¸ªå…¸å‹çš„æ’åºç®—æ³• \\begin{cases}å½’å¹¶æ’åº\\\\å¿«é€Ÿæ’åº\\end{cases} ç¨‹åºå®ç°å¦‚ä¸‹ï¼š // // Created by BlancheSun on 2022/8/4. // #include #include using namespace std; // å·¥å…·å‡½æ•° void printVec(vector& vec); // å½’å¹¶æ’åº void MergeSort(vector& vec, int start, int end); void Merge(vector& vec, int start, int mid, int end); // å¿«é€Ÿæ’åº void quickSort(vector& vec, int start, int end); int partition(vector& vec, int start, int end); int main() { // å½’å¹¶æ’åº vector vec = {1,6,4,9,10,2,-1,6,5,8,7}; MergeSort(vec, 0, vec.size()-1); printVec(vec); // å¿«é€Ÿæ’åº vector vec2 = vec; quickSort(vec2, 0, vec2.size()-1); printVec(vec2); return 0; } // å½’å¹¶æ’åº void MergeSort(vector& vec, int start, int end) { if(start & vec, int start, int mid, int end) { // æ‹·è´åˆå§‹åŒ– vector vec1(vec.begin()+start, vec.begin()+mid+1); vector vec2(vec.begin()+mid+1, vec.begin()+end+1); // æœ«å°¾ç½®ä¸€æ— ç©·å¤§å€¼ï¼Œæ–¹ä¾¿æ‰«å°¾ int infty = 999999; vec1.push_back(infty); vec2.push_back(infty); // mergeçš„æ ¸å¿ƒè¿‡ç¨‹ int i = 0, j = 0, k = start; while(k & vec) { for (int i = 0; i & vec, int start, int end) { if (start & vec, int start, int end) { int pivot = vec[end]; int i = start - 1, j = start; while (j 1.1.1 å½’å¹¶æ’åº åˆ†ã€æ²»ã€åˆå¹¶ä¸‰ä¸ªæ­¥éª¤ï¼Œé‡ç‚¹åœ¨äºåˆå¹¶çš„æ­¥éª¤ï¼› åˆå¹¶æ­¥éª¤é‡‡å–çš„æ–¹æ³•æ˜¯ä½¿ç”¨ä¸¤ä¸ªä¸´æ—¶æ•°ç»„ï¼Œå­˜å‚¨ç›®å‰å·²ç»æœ‰åºçš„ä¸¤æ®µï¼Œå°†è¿™ä¸¤æ®µé€šè¿‡åŒæŒ‡é’ˆçš„å½¢å¼æ‰«æååˆå¹¶ã€‚ ç‰¹åˆ«çš„åˆå¹¶æ—¶å¯ä»¥åœ¨ä¸¤ä¸ªä¸´æ—¶æ•°ç»„æœ«å°¾å„æ’å…¥ä¸€ä¸ªæ— ç©·å¤§çš„æ•°å­—ï¼Œè¿™æ ·æ‰«å°¾åªéœ€è¦ä¸€ä¸ªå¾ªç¯å³å¯ã€‚ å¦åˆ™è¿˜éœ€è¦é¢å¤–çš„å¾ªç¯åšæ‰«å°¾å·¥ä½œï¼šä¸¤ä¸ªforï¼Œæ£€éªŒiå’Œjæ˜¯å¦æœ‰æœªåˆ°æŸå°¾çš„ï¼Œå°†å…¶ç›´æ¥ç»­æ¥å³å¯ã€‚ 1.1.2 å¿«é€Ÿæ’åº è‹±è¯­æè¿°å¿«æ’æ€æƒ³ï¼š å¿«æ’ç®—æ³•æ˜¯åŸºäºåˆ†æ²»æ€æƒ³çš„ä¸€ç§ç®—æ³•ï¼ŒåŒ…æ‹¬åŸºæœ¬çš„åˆ†ã€æ²»ã€åˆå¹¶ä¸‰ä¸ªæ­¥éª¤ã€‚ ä¸å½’å¹¶æ’åºä¸åŒï¼Œå¿«æ’çš„æ ¸å¿ƒåœ¨äºåˆ†è§£çš„è¿‡ç¨‹ã€‚åœ¨ç®—æ³•ä¸­å…·ä½“ä½“ç°åœ¨partitionçš„éƒ¨åˆ†ã€‚parititionçš„è¿‡ç¨‹æœ¬è´¨æ˜¯é€‰æ‹©ä¸€ä¸ªæ•°ï¼Œè®©æ•°ç»„ä»¥è¿™ä¸ªæ•°æ‰€åœ¨çš„ä½ç½®ä¸ºç•Œï¼Œå·¦ä¾§çš„æ•°æ®å°äºè¯¥æ•°å­—ï¼Œå³ä¾§çš„æ•°å¤§äºè¯¥æ•°å­—ã€‚å®ç°æ—¶å¸¸é‡‡ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ‰«æçš„æ–¹å¼ä¸æ–­äº¤æ¢ä¸‹æ ‡æ‰€åœ¨çš„æ•°å­—æ¥å®ç°ã€‚â€œæ²»â€çš„æ­¥éª¤åˆ™æ˜¯å¯¹æ•°ç»„ä¸­ä»¥è¯¥æ•°åˆ†æˆçš„ä¸¤æ®µåˆ†åˆ«é€’å½’å¤„ç†ã€‚ç®—æ³•ä¸éœ€è¦è¿›è¡Œåˆå¹¶æ­¥éª¤ã€‚ Fast sort is a kind of algorithm based on divide and conquer idea, including three basic steps: divide, conquer and merge. Unlike merge sort, the key of quick sort is the devide step. The algorithm is embodied in the 'partition' part. The essence of the process of 'paritition' is to select a number, so that the array is bounded by the position of the number, the data on the left is less than the number, and the number on the right is greater than the number. The implementation often uses two pointer scanning method to constantly exchange the number of the subscript to achieve. The \"conquer\" step is to recursively process the two segments of the array divided by that number. The algorithm does not require a merge step. å¿«æ’çš„partitionæ˜¯æ ¸å¿ƒï¼Œpartitionçš„å®ç°æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼š æš´åŠ›è§£æ³•ï¼šè¾…åŠ©æ•°ç»„a[],b[]åˆ†åˆ«å­˜å‚¨å°äºç­‰äºpivotå’Œå¤§äºpivotçš„æ•° åˆ†åˆ«å­˜å‚¨å®Œæ¯•åï¼Œå°†a[],b[]ä¸­çš„æ•°å­—åˆ†åˆ«èµ‹å€¼ç»™vector è¿™æ ·æ±‚è§£éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦ä¸Šè¿˜æ˜¯O(n) å¸¸è§è§£æ³•ï¼šä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆi,jï¼Œåˆ†åˆ«ç½®äºæ•°ç»„å¼€å§‹ä½ç½®å’Œæœ«å°¾ä½ç½®ï¼Œå‘ä¸­é—´æ‰«æ è‹¥å‡ºç°vec[i]>pivot && vec[j]ï¼Œé‚£ä¹ˆäº¤æ¢vec[i]å’Œvec[j]å¯¹åº”çš„æ•°æ® ä¼˜é›…è§£æ³• int partition(vector& vec, int start, int end) { int pivot = vec[end]; int i = start - 1, j = start; while (j 1.2 äºŒåˆ† \\begin{cases}æ•´æ•°äºŒåˆ†\\\\æµ®ç‚¹æ•°äºŒåˆ†\\end{cases} äºŒåˆ†çš„å¾ªç¯ç»“æŸæ¡ä»¶ï¼šr ï¼Œé•¿åº¦ä¸º1æ—¶å¾ªç¯ç»“æŸï¼› æ€§è´¨ä¸€å®šæ˜¯æœ‰è¾¹ç•Œçš„ã€‚é€šè¿‡æ€§è´¨åˆ¤æ–­æœ‰æ— è§£ 1.2.1 æ•´æ•°äºŒåˆ† äºŒåˆ†å’Œå•è°ƒæ€§çš„å…³ç³»ï¼šæœ‰å•è°ƒæ€§ä¸€å®šå¯ä»¥äºŒåˆ†ï¼Œæ²¡æœ‰å•è°ƒæ€§å¯èƒ½ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†ã€‚ äºŒåˆ†çš„æœ¬è´¨ï¼š å¯»æ‰¾åŒºé—´è¾¹ç•Œ å¯»æ‰¾ä¸¤ä¸ªåŒºé—´çš„ç«¯ç‚¹ï¼ˆç»¿è‰²ç‚¹å’Œçº¢è‰²ç‚¹ï¼‰å¯¹åº”ä¸¤ä¸ªä¸åŒçš„ç®—æ³•æ¨¡æ¿ï¼š 1.2.1.1 äºŒåˆ†ä¸‹ç•Œï¼šçº¢è‰²ç‚¹ $mid = \\frac{l+r+1}{2}$ checkå‡½æ•°æ£€éªŒæ˜¯å¦æ»¡è¶³çº¢è‰²éƒ¨åˆ†çš„æ€§è´¨ if(check(mid))\\begin{cases}trueï¼šç­”æ¡ˆåŒºé—´[mid, \\ r],l=mid\\\\ falseï¼šç­”æ¡ˆåŒºé—´[l, mid-1],r=mid-1\\end{cases} 1.2.1.2 äºŒåˆ†ä¸Šç•Œï¼šç»¿è‰²ç‚¹ $mid = \\frac{l+r}{2}$ checkå‡½æ•°æ£€éªŒæ˜¯å¦æ»¡è¶³ç»¿è‰²éƒ¨åˆ†çš„æ€§è´¨ if(check(mid))\\begin{cases}trueï¼šç­”æ¡ˆåŒºé—´[l, \\ mid]ï¼Œ\\ r=mid\\\\ falseï¼šç­”æ¡ˆåŒºé—´[mid+1, r]ï¼Œ\\ l=mid+1\\end{cases} 1.2.1.3 å…·ä½“åº”ç”¨ å¦‚åœ¨æ•°ç»„1 1 2 2 3 3 4ä¸­æ±‚è§£3çš„èµ·å§‹ä¸‹æ ‡å’Œç»ˆæ­¢ä¸‹æ ‡ #include #include using namespace std; int main() { vector vec = {1, 1, 2, 2, 3, 3, 4}; int l = 0, r = vec.size()-1; int target = 3; // å¯»æ‰¾ä¸‹ç•Œ while (l > 1; if (vec[mid] >= target) { r = mid; }else{ l = mid + 1; } } if (vec[l] != target) cout > 1; if (vec[mid] 1.2.2 æµ®ç‚¹æ•°äºŒåˆ† æµ®ç‚¹æ•°äºŒåˆ†ä¸éœ€è¦å¤„ç†è¾¹ç•Œï¼Œæ¯”å¦‚(r-l) ï¼› å’Œæ•´æ•°äºŒåˆ†ä¸€æ ·ï¼Œéœ€è¦ä¿è¯çš„æ˜¯ä¸€å®šåœ¨åŒºé—´å†…ã€‚ 1.2.2.1 å¹³æ–¹æ ¹çš„ä¾‹å­ æµ®ç‚¹æ•°äºŒåˆ†ï¼Œæ‰¾åˆ°ä¸€ä¸ªæ•°çš„1/2çš„å€¼ï¼Œä¿è¯å…¶ç²¾åº¦ä¸ºprecision void floatBinarySearch(double x, double precision) { double l = 0, r = x; while (r - l > precision) { double mid = (l + r) / 2; if (mid * mid >= x) r = mid; else l = mid; } printf(\"%lf\\n\", l); } ä¹ é¢˜ç»ƒä¹  Day1 è¿™é‡Œæ²¡æœ‰å¯¹åº”AcWingä¸Šä¹ é¢˜ç»ƒä¹ ï¼Œè€Œæ˜¯å»åŠ›æ‰£æ‰¾äº†å¯¹åº”çš„é¢˜è¿›è¡Œç»ƒä¹ ï¼š å¿«é€Ÿæ’åº å‰‘æŒ‡ Offer II 076. æ•°ç»„ä¸­çš„ç¬¬ k å¤§çš„æ•°å­— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å½’å¹¶æ’åº å‰‘æŒ‡ Offer II 078. åˆå¹¶æ’åºé“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å‰‘æŒ‡ Offer II 074. åˆå¹¶åŒºé—´ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ äºŒåˆ† 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 69. x çš„å¹³æ–¹æ ¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ // // Created by å­™è•´ç¦ on 2022/8/8 // å¯»æ‰¾ä¹±åºæ•°ç»„ä¸­ç¬¬kå¤§/å°çš„æ•° // #include #include #include using namespace std; // å‰kå°çš„æ•° int randomizedPartition(vector&vec, int start, int end); int partition(vector& vec, int start, int end); int randomizedSelect(vector& vec, int start, int end, int k); // é€†åºæ•° void Merge(vector& vec, int start, int mid, int end, int& count); void MergeSort(vector& vec, int start, int end, int& count); /****** partitionç®—æ³•çš„åº”ç”¨ ******/ class Solution { public: vector getLeastNumbers(vector& arr, int k) { vector res(0); if (k == 0) return res; int kIndex = randomizedSelect(arr, 0, arr.size()-1, k); for (int i = 0; i & nums) { int count = 0; MergeSort(nums, 0, nums.size()-1, count); return count; } }; /*** äºŒåˆ†ï¼šç®—æœ¯å¹³æ–¹æ ¹ ***/ class Solution3 { public: int mySqrt(int x) { double l = 0, r = x; while (r - l >= 1e-6) { double mid = (r + l) / 2; if (mid * mid >= x) { r = mid; }else{ l = mid; } } return r; } }; class Solution4 { public: vector searchRange(vector& nums, int target) { vector res(0); int l = 0, r = nums.size() - 1; while (l > 1; if (nums[mid] >= target) { r = mid; }else{ l = mid + 1; } } if ( r> 1; if (nums[mid] nums = {1, 3, 2, 3, 1, 1}; // Solution2 s; // cout nums = {5,7,7,8,8,10}; int target = 8; vector res = s.searchRange(nums, target); cout & vec, int start, int end, int& count) { if (start & vec, int start, int mid, int end, int& count) { vector vec1(vec.begin() + start, vec.begin() + mid + 1); vector vec2(vec.begin()+ mid + 1, vec.begin() + end + 1); vec1.push_back(65536); vec2.push_back(65536); int k = start, i = 0, j = 0; while (k & vec, int start, int end) { int pivot = vec[end]; int i = start - 1, j = start; while (j &vec, int start, int end) { int pivot_index = rand() % (end - start + 1) + start; swap(vec[pivot_index], vec[end]); return partition(vec, start, end); } int randomizedSelect(vector& vec, int start, int end, int targetRank) { if (start == end) return start; int pivot_index = randomizedPartition(vec, start, end); int k = pivot_index - start + 1; if (k == targetRank) { return pivot_index; }else if (targetRank 1.3 é«˜ç²¾åº¦ C++è€ƒè™‘é«˜ç²¾åº¦ï¼ŒJavaæœ‰å¤§æ•´æ•°ç±»ï¼ŒPythoné»˜è®¤æ•°çš„èŒƒå›´æ˜¯æ— ç©·å¤§ é«˜ç²¾åº¦è€ƒå¯Ÿçš„ç±»å‹ï¼š å¤§æ•´æ•°ç›¸åŠ  Aå’ŒBçš„ä½æ•°å¤§æ¦‚æ˜¯10^6 å¤§æ•´æ•°ç›¸å‡ Aå’ŒBçš„ä½æ•°å¤§æ¦‚æ˜¯10^6 å¤§æ•´æ•°ä¹˜ä»¥ä¸€ä¸ªå°æ•´æ•° $len(A)\\leq 10^6,a\\leq10^9$ ä¸€ä¸ªå¤§æ•´æ•°é™¤ä»¥ä¸€ä¸ªå°æ•´æ•° ã€ä¸å¸¸ç”¨ã€‘ï¼šå¤§æ•´æ•°ç›¸é™¤ï¼Œå¤§æ•´æ•°ç›¸ä¹˜ 1.3.1 å¤§æ•´æ•°çš„å­˜å‚¨å’Œè®¡ç®— 1.3.1.1 å­˜å‚¨ å°†å¤§æ•´æ•°çš„æ¯ä¸ªä½å­˜åœ¨æ•°ç»„é‡Œé¢å» å­˜å‚¨ï¼šä¸ªä½æ”¾åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒåŸå› æ˜¯è€ƒè™‘åˆ°é«˜ä½çš„è¿›ä½ï¼Œæ•°æ®ç»“æ„æ˜¯æ•°ç»„æ—¶æ–¹ä¾¿åœ¨æœ«å°¾åŠ ä¸Šè¿›ä½æ•°ã€‚ 1.3.1.2 åˆ—ç«–å¼è®¡ç®— åŠ æ³•çš„åˆ—ç«–å¼ è®¡ç®—å…¬å¼ï¼š$A_i+B_i+t=C_i$ï¼Œå…¶ä¸­$t$ä»£è¡¨è¿›ä½ï¼Œå€¼ä¸º0æˆ–è€…1ã€‚ å‡æ³•çš„åˆ—ç«–å¼ A_i-B_i-t=\\begin{cases}A_i-B_i-t,A_i-B_i-t\\geq 0\\\\ A_i-B_i+10-t,A_i-B_i-t\\leq 0\\end{cases} ä¹˜æ³•çš„åˆ—ç«–å¼ A2 A1 A0 * b â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” C2 C1 C0 \\begin{cases}t_0=0\\\\ C_0 = (3 \\times b +t_0) \\%10, t_1 = (3\\times b +t_0)/10\\\\ ...\\\\ C_i = (A_i \\times b + t_i)\\% 10,t_i = (A_i\\times b+t_{i})/10\\end{cases} é™¤æ³• 1.3.2 é«˜ç²¾åº¦æ¨¡æ¿ 1.3.2.1 é«˜ç²¾åº¦åŠ æ³•æ¨¡æ¿ class Solution { public: string addStrings(string num1, string num2) { vector Num1, Num2, Num3; // å­—ç¬¦ä¸²æ”¾å…¥æ•°ç»„ä¸­ï¼š for (int i = num1.size() - 1; i >= 0 ; --i) { Num1.push_back(num1[i] - '0'); // è½¬æ¢ä¸ºæ•°å­—æ”¾å…¥æ•°ç»„ä¸­ } for (int i = num2.size() - 1; i >= 0 ; --i) { Num2.push_back(num2[i] - '0'); // è½¬æ¢ä¸ºæ•°å­—æ”¾å…¥æ•°ç»„ä¸­ } // ä»æ•°ç»„ç¬¬ä¸€ä½å¾€ååŠ  int t = 0; for (int i = 0; i = 0; --i) { num3 += Num3[i] + '0'; } return num3; } }; 1.3.2.2 é«˜ç²¾åº¦å‡æ³•æ¨¡æ¿ æ­¥éª¤ï¼š åˆ¤æ–­ï¼šè‹¥$A\\geq B$ï¼Œé‚£ä¹ˆæ­£å¸¸è®¡ç®—ï¼Œå¦åˆ™äº¤æ¢Aå’ŒBï¼Œè®¡ç®—B-A A_i-B_i-t=\\begin{cases}A_i-B_i-t,A_i-B_i-t\\geq 0\\\\ A_i-B_i+10-t,A_i-B_i-t\\leq 0\\end{cases} æ ¹æ®æ˜¯å¦$A\\geq B$è¾“å‡ºæ—¶è€ƒè™‘è´Ÿå· // é«˜ç²¾åº¦å‡æ³• // åˆ¤æ–­æ˜¯å¦æœ‰ A>=B bool cmp(vector& A, vector& B) { if (A.size() != B.size()) return A.size() > B.size(); // å¦åˆ™é•¿åº¦ä¸ç›¸ç­‰ï¼Œä»æœ€é«˜ä½å¼€å§‹åˆ¤æ–­ for (int i = A.size() - 1; i >= 0; --i) { if (A[i] != B[i]) return A[i] > B[i]; } return true; } vector gaoJingDuMinus(vector& A, vector& B) { vector C; int t = 0; for (int i = 0; i 1 && C.back() == 0) C.pop_back(); // é¿å…å‡ºç°003çš„æƒ…å†µ return C; } string sub(string& a, string& b) { // å°†å­—ç¬¦ä¸²å½¢å¼çš„æ•°æ®å­˜å‚¨åœ¨æ•°ç»„ä¸­ vector A, B, C; // å­˜å‚¨æ—¶æ•°ç»„çš„æœ€ä½ä½å­˜å‚¨æ•°æ®çš„ä¸ªä½ï¼Œä»¥æ–¹ä¾¿æœ€é«˜ä½çš„è¿›ä½ for (int i = a.size() - 1; i >= 0; --i) { A.push_back(a[i] - '0'); // å‡å»åç§»é‡å¾—åˆ°æ•°å€¼ } for (int i = b.size() - 1; i >= 0 ; --i) { B.push_back(b[i] - '0'); // å‡å»åç§»é‡å¾—åˆ°æ•°å€¼ } // é¦–å…ˆè¦åˆ¤æ–­A Bå“ªä¸ªå¤§ï¼Œè¿”å›çš„æ•°ç»„Cæ˜¯é€†åºçš„ï¼Œå³æ•°ç»„çš„ç¬¬ä¸€ä½æ˜¯ä¸ªä½ string c; if (cmp(A, B)) C = gaoJingDuMinus(A, B); else { C = gaoJingDuMinus(B, A); c.push_back('-'); // ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼Œæ·»åŠ ä¸€ä¸ªç¬¦å· } for (int i = C.size()-1; i >= 0; --i) { c += C[i] + '0'; } return c; } 1.3.2.3 é«˜ç²¾åº¦ä¹˜æ³•æ¨¡æ¿ vector mul(vector &A, int b) { vector C; int t = 0; for (int i = 0; i 1.3.2.4 é«˜ç²¾åº¦é™¤æ³•æ¨¡æ¿ // é«˜ç²¾åº¦é™¤æ³• A/bï¼Œå•†æ˜¯Cï¼Œä½™æ•°æ˜¯r Aè‹¥æ­£å­˜å‚¨çš„è¯æ¯”è¾ƒæ–¹ä¾¿ï¼Œæ­¤å¤„ä¸ºäº†ä¸€è‡´ï¼Œä»ç„¶é‡‡å–æœ€ä½ä¸º vector div(vector& A, int b, int& r) { vector C; for (int i = A.size() - 1; i >= 0; ++i) { C.push_back((r * 10 + A[i]) / b); r = (r * 10 + A[i]) % b; } // å’ŒAä¿æŒä½ä½é«˜ä½ä¸€æ ·ï¼Œæ‰€ä»¥reverseä¸€ä¸‹ï¼Œå…¶å®ä¸reverseçš„ç»“æœå°±æ˜¯æˆ‘ä»¬è¦è¾“å‡ºçš„æ•°æ® reverse(C.begin(), C.end()); // å»é™¤å‰å¯¼0 while (C.size() > 1 && C.back() == 0) C.pop_back(); return C; } 1.4 å‰ç¼€å’Œä¸å·®åˆ† 1.4.1 å‰ç¼€å’Œçš„æ¦‚å¿µä¸åº”ç”¨ 1.4.1.1 ä¸€ç»´å‰ç¼€å’Œ å‰ç¼€å’Œ$S[i]$ï¼šæ•°ç»„ä¸­çš„å‰iä¸ªæ•°çš„å’Œ $a_1+a_2+...+a_3$ ä¸¤ä¸ªé—®é¢˜ï¼š å¦‚ä½•æ±‚$S[i]$ï¼Ÿï¼šforå¾ªç¯ä¸€éå³å¯$S[i] = S[i-1] + a[i]$ å‰ç¼€å’Œæœ‰ä»€ä¹ˆä½œç”¨ï¼šå¿«é€Ÿæ±‚å‡ºæ¥åŸæ•°ç»„ä¸­ä¸€æ®µæ•°çš„å’Œ$[l,r]$çš„æ•°å’Œâ€”â€”$S[r]-S[l-1]$ å³ç”¨ä¸€æ¬¡è®¡ç®—è®¡ç®—å‡ºä»»æ„ä¸€æ®µçš„å’Œ 1.4.1.2 äºŒç»´å‰ç¼€å’Œ ä¸»è¦æ˜¯å…¬å¼çš„æ¨å¯¼ï¼Œå°è¯•é¢˜ç›®ï¼š å‰‘æŒ‡ Offer II 013. äºŒç»´å­çŸ©é˜µçš„å’Œ é¢˜è§£ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ æ³¨æ„å¤šå‡çš„è¦åŠ å›æ¥ã€‚ 1.4.2 æ¨¡æ¿ #include #include using namespace std; int main() { int n, m; vector vec, S; vec.push_back(0); scanf(\"%d%d\", &n, &m); for (int i = 1; i 1.4.3 å·®åˆ† å·®åˆ†æ˜¯å‰ç¼€å’Œçš„é€†è¿‡ç¨‹ã€‚è®¾æœ‰æ•°ç»„Aï¼Œè¦æ±‚æ„é€ å‡ºä¸€ä¸ªæ•°ç»„Bï¼Œä½¿å¾—æ•°ç»„Açš„å…ƒç´ $A[i]$æ˜¯$B[1]ï¼ŒB[2],...,B[i]$çš„å‰ç¼€å’Œã€‚ bç§°ä¸ºAçš„å·®åˆ†ï¼ŒAæ˜¯bçš„å‰ç¼€å’Œ æ‰€ä»¥å¯¹Aæ±‚ä¸€éå·®åˆ†å¯ä»¥å¾—åˆ°æ•°ç»„bï¼Œå¯¹Bæ±‚ä¸€éå‰ç¼€å’Œå¾—åˆ°æ•°ç»„A æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯$O(n)$ 1.4.3.1 å·®åˆ†æ•°ç»„çš„æ„é€  è¾“å…¥æ•°ç»„A[i]:A[1],A[2],...,A[i]ï¼Œæ„é€ å…¶å·®åˆ†æ•°ç»„çš„æ­¥éª¤ï¼š åˆå§‹åŒ–b[i]ä¸ºå…¨0 æ’å…¥A[i]ç­‰ä»·äºæ“ä½œï¼š b[i] = b[i] + A[i]; b[i+1] = b[i+1] - A[i] æ¯è¾“å…¥ä¸€ä¸ªA[i]ï¼Œè¿›è¡Œä¸€æ¬¡Bæ•°ç»„çš„å¯¹åº”æ“ä½œ è¾“å…¥å®Œæˆï¼ŒAçš„å·®åˆ†æ•°ç»„æ„é€ å®Œæˆ 1.4.3.2 å·®åˆ†çš„åº”ç”¨ æ„é€ åŸå§‹çš„æ•°ç»„b[i] å¯¹äºåœ¨åŒºé—´[l, c]ä¸­æ¯ä¸ªæ•°åŠ ä¸Šcç­‰ä»·äºæ“ä½œï¼š b[l] += c b[c+1] -= c å¯¹æ•°ç»„Bæ±‚ä¸€æ¬¡å‰ç¼€å’Œå¾—åˆ°æœ€ç»ˆçš„åºåˆ— 1.4.4 æ¨¡æ¿ #include #include using namespace std; // æ³¨æ„ä¹¦å†™å‰ç¼€å’Œå’Œå·®åˆ†çš„ä»£ç æ—¶ï¼Œæ•°ç»„ä¸‹æ ‡ä»1å¼€å§‹å­˜ int main() { int n, m; scanf(\"%d%d\", &n, &m); vector nums(n+1), res(n+2,0); // åœ¨è¾“å…¥çš„åŒæ—¶æ„é€ å·®åˆ†æ•°ç»„ for (int i = 1; i ä¹ é¢˜ç»ƒä¹  Day2 å¯¹åº”åŠ›æ‰£é¢˜ç›®ï¼š é«˜ç²¾åº¦ 415. å­—ç¬¦ä¸²ç›¸åŠ  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 306. ç´¯åŠ æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 43. å­—ç¬¦ä¸²ç›¸ä¹˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å‰ç¼€å’Œ 303. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„ä¸å¯å˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 437. è·¯å¾„æ€»å’Œ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å‰‘æŒ‡ Offer II 013. äºŒç»´å­çŸ©é˜µçš„å’Œ é¢˜è§£ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å·®åˆ† 1109. èˆªç­é¢„è®¢ç»Ÿè®¡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 1526. å½¢æˆç›®æ ‡æ•°ç»„çš„å­æ•°ç»„æœ€å°‘å¢åŠ æ¬¡æ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®¡ç½‘å¤ä¹ ç¬”è®°/about.html":{"url":"è®¡ç½‘å¤ä¹ ç¬”è®°/about.html","title":"è®¡ç®—æœºé€šä¿¡ä¸ç½‘ç»œä¿ç ”å¤ä¹ ","keywords":"","body":"é’ˆå¯¹å“ˆæ·±çš„ç¬”è¯•é¢˜å¤ä¹ ï¼Œæ¯ç« ç»“æŸä¼šåˆ—å‡ºç›¸å…³ç« èŠ‚çš„å¸¸è§é¢è¯•é¢˜ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®¡ç½‘å¤ä¹ ç¬”è®°/è¡¥å……ï¼šå¸¸è§åè®®çš„ä¸Šä¸‹å±‚åè®®.html":{"url":"è®¡ç½‘å¤ä¹ ç¬”è®°/è¡¥å……ï¼šå¸¸è§åè®®çš„ä¸Šä¸‹å±‚åè®®.html","title":"è¡¥å……ï¼šä¸Šä¸‹å±‚åè®®","keywords":"","body":"ARPå°è£…åœ¨ä»¥å¤ªç½‘å¸§ä¸­ RARPå°è£…åœ¨ä»¥å¤ªç½‘å¸§ä¸­ BOOTPå°è£…åœ¨UDPä¸­ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®¡ç½‘å¤ä¹ ç¬”è®°/æ•°æ®é“¾è·¯å±‚.html":{"url":"è®¡ç½‘å¤ä¹ ç¬”è®°/æ•°æ®é“¾è·¯å±‚.html","title":"æ•°æ®é“¾è·¯å±‚","keywords":"","body":"æ•°æ®é“¾è·¯å±‚ [TOC] æŒ‰ç…§IEEEæ ‡å‡†ï¼Œæ•°æ®é“¾è·¯å±‚å¯ä»¥è¢«åˆ†ä¸ºä¸¤ä¸ªå­å±‚ï¼š æ•°æ®é“¾è·¯å±‚\\begin{cases}é€»è¾‘é“¾è·¯å±‚LLC\\begin{cases}æˆå¸§\\\\æµé‡æ§åˆ¶\\\\å·®é”™æ§åˆ¶\\end{cases}\\\\ ä»‹è´¨è®¿é—®æ§åˆ¶å±‚MAC\\end{cases} 1. å·®é”™æ§åˆ¶ 1.1 å·®é”™æ§åˆ¶ç®€ä»‹ 1.1.1 é”™è¯¯çš„ç±»å‹ single-bit errorï¼šåœ¨ç»™å®šçš„æ•°æ®å•å…ƒï¼Œä»…æœ‰ä¸€ä½å‘ç”Ÿä»0åˆ°1æˆ–è€…1åˆ°0çš„å˜åŒ–ã€‚ burst errorï¼šæ•°æ®å•å…ƒä¸­æœ‰ä¸¤ä½æˆ–è€…æ›´å¤šä½å‘ç”Ÿ1åˆ°0æˆ–è€…0åˆ°1çš„é”™è¯¯ã€‚ burst errorå¹¶ä¸æ„å‘³è¿™å·®é”™åœ¨è¿ç»­ä½ä¸Šå‡ºç° The length of burst error is measured from the first corrupted bit to the last corrupted bit 1.1.2 é”™è¯¯æ£€æµ‹å’Œçº æ­£ Detectionï¼šåªçœ‹å·®é”™æ˜¯å¦å‘ç”Ÿï¼Œåªå›ç­”æ˜¯å¦ã€‚ Correctionï¼šçŸ¥é“ç ´åä½çš„ä¸ªæ•°ï¼Œåœ¨æŠ¥æ–‡ä¸­çš„ä½ç½® çº é”™æ–¹æ³•ï¼šå‘å‰çº é”™ï¼Œé‡ä¼  1.2 å—ç¼–ç  1.2.1 æ•°æ®å­—å’Œç å­— datawordsï¼šåœ¨å—ç¼–ç ä¸­ï¼ŒæŠŠæŠ¥æ–‡åˆ’åˆ†æˆå—ï¼Œæ¯å—æœ‰ k ä½ï¼Œç§°ä¸ºæ•°æ®å­—datawords codewordsï¼šå¹¶å¢åŠ  rä¸ªå†—ä½™ä½ä½¿å…¶é•¿åº¦å˜ä¸º n = k + rï¼Œå½¢æˆ n ä½çš„å—ç§°ä¸ºç å­—codewords invaild or illegalï¼š$2^n-2^k$å†—ä½™ç  1.2.2 é”™è¯¯æ£€æµ‹çš„æ¡ä»¶ å¯ä»¥è¿›è¡Œå·®é”™æ£€æµ‹çš„æ¡ä»¶ï¼š æ¥æ”¶æ–¹æœ‰æœ‰æ•ˆç å­—çš„åˆ—è¡¨ åŸæ¥çš„ç å­—å˜æˆæ— æ•ˆçš„ç å­— å¦‚æœç å­—åœ¨ä¼ è¾“ä¸­è¢«ç ´åï¼Œä½†æ¥æ”¶åˆ°çš„ç å­—ä»ç„¶æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç å­—ï¼Œå·®é”™åˆ™æ— æ³•è¢«æ£€æµ‹åˆ°ã€‚ 1.2.3 æ±‰æ˜è·ç¦» Hamming distance between two words $d(x,y)$ï¼šä¸¤ä¸ªç›¸åŒé•¿åº¦çš„å­—çš„æ±‰æ˜è·ç¦»æ˜¯å¯¹åº”ä½ä¸åŒçš„æ•°é‡ã€‚ è®¡ç®—ï¼šå¯¹ä¸¤ä¸ªå­—å¼‚æˆ–åè®¡ç®—1çš„ä¸ªæ•° d(000,011)=2;d(000,101) = 2 1.2.4 æœ€å°æ±‰æ˜è·ç¦» minimum hamming distanceï¼šä¸€ç»„å­—ä¸­æ‰€æœ‰å¯èƒ½å¯¹çš„æ±‰æ˜è·ç¦»çš„æœ€å°å€¼ã€‚ 1.2.4.1 ç¼–ç æ–¹æ¡ˆçš„è¡¨ç¤º datawords é•¿åº¦ ï¼š k codewords é•¿åº¦ï¼šn minimum hamming distance ï¼š$d_{min}$ ç¼–ç æ–¹æ¡ˆå†™æˆ$C(n,k)$å’Œä¸€ä¸ªå•ç‹¬çš„$d{min}$è¡¨è¾¾å¼ã€‚å¦‚ä¸Šçš„ç¼–ç æ–¹æ¡ˆå¯ä»¥å†™æˆï¼š$C(5,2),d{min} = 3$ 1.2.4.2 æ±‰æ˜è·ç¦»å’Œé”™è¯¯ æ£€æµ‹å‡ºsä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆæ±‰æ˜è·ç¦»æ»¡è¶³ï¼š$d_{min}=s+1$ çº æ­£sä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆæ±‰æ˜è·ç¦»æ»¡è¶³ï¼š$d_{min} = 2s+1$ 1.3 çº¿æ€§å—ç¼–ç  1.3.1 çº¿æ€§å—ç¼–ç çš„ç‰¹ç‚¹ ä¸¤ä¸ªæœ‰æ•ˆç å­—å¼‚æˆ–åå¾—åˆ°å¦ä¸€ä¸ªæœ‰æ•ˆç å­— çº¿å‹å—ç¼–ç çš„æœ€å°æ±‰æ˜è·ç¦»ï¼šå…·æœ‰æœ€å°1çš„ä¸ªæ•°çš„é0æœ‰æ•ˆç å­—ä¸­1çš„ä¸ªæ•° 1.3.2 çº¿æ€§ç¼–ç  1.3.2.1 ç®€å•å¥‡å¶æ ¡éªŒç  åŸºæœ¬æ€è·¯ï¼šn = k+1ã€‚å†—ä½™ä½ä½¿codewordsä¸­çš„1çš„ä¸ªæ•°ä¸ºå¶æ•°ã€‚ æœ€å°æ±‰æ˜è·ç¦»$d_{min} = 2$ simple parity check codeså•ä¸ªä½æ£€é”™ç¼–ç ï¼Œä¸èƒ½çº æ­£ä»»ä½•å·®é”™ 1.3.2.2 äºŒç»´å¥‡å¶æ ¡éªŒ æ•°æ®ä»¥è¡¨æ ¼å½¢å¼ç»„ç»‡ï¼Œåˆ†åˆ«æ”¾åœ¨å„è‡ªçš„è¡Œä¸­ã€‚ å¯¹äºæ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—ï¼Œè®¡ç®—å‡ºä¸€ä¸ªå¥‡å¶æ ¡éªŒä½ã€‚ two dimensional parity checkå¯ä»¥æ£€æµ‹å‡ºè¡¨ä¸­ä»»æ„ä½ç½®å‘ç”Ÿçš„ä¸‰ä¸ªå·®é”™ã€‚ 1.3.2.3 æ±‰æ˜ç¼–ç  åªè®¨è®ºæœ€å°æ±‰æ˜è·ç¦»ä¸º $d_{min} = 3$ çš„æ±‰æ˜ç ï¼Œå®ƒæœ€å¤šèƒ½æ£€æµ‹å‡º 2 ä½å·®é”™å’Œæœ€å¤šçº æ­£ 1 ä½å·®é”™ã€‚ å½“$d_{min} = 3$æ—¶ï¼Œmå’Œnçš„å…³ç³»ï¼š$n = 2^m - 1$ æ±‰æ˜ç è¦æ±‚ï¼š \\begin{cases} m = r>=3\\\\ k = n -m\\\\ n = 2^m-1 \\end{cases} såœ¨æ­£ç¡®æƒ…å†µä¸‹ä¸€å®šæ˜¯0ï¼Œä¸‰ä¸ªæ ¡æ­£å­å¼‚æˆ–å¾—ç»“æœ æ³¨æ„æ¥æ”¶æ–¹å’Œå‘é€æ–¹è¦ä½¿ç”¨ç›¸åŒçš„ç­‰å¼ã€‚ ç”Ÿæˆå™¨ä¸å…³å¿ƒå¥‡å¶ä½($q_0,q_1,...,q_n$)çš„é”™è¯¯å’Œæ— å·®é”™ã€‚å…¶ä»–æƒ…å†µç›¸åº”çš„ä½å¿…é¡»è¦åè½¬ï¼Œä½†æ˜¯è‹¥å‡ºç°2ä½é”™è¯¯åè½¬åä¹Ÿæœªå¿…æ­£ç¡®ã€‚ 1.4 å¾ªç¯ç  1.4.1 å¾ªç¯æ ¡éªŒ æ•°æ®ä½ï¼Œç å­—å’Œé™¤æ•°ç­‰ä½æ•°å…³ç³» æ•°æ®ä½ï¼škä½ ç å­—ï¼šnä½ è¢«é™¤æ•°è¡¥å……ï¼šn-kä½ é™¤æ•°ï¼šn-k+1ä½ 1.4.2 å¾ªç¯ç åˆ†æ ä¸€äº›è¡¨ç¤ºï¼š æ•°æ®å­—d(x)\\quad ç å­—c(x)\\quad ç”Ÿæˆå¤šé¡¹å¼g(x)\\\\ æ ¡æ­£å­s(x)\\quad å·®é”™e(x) $s(x)â‰ 0$ï¼šä¸€ä½æˆ–è€…å¤šä½è¢«ç ´å $s(x)=0$ï¼š æ²¡æœ‰è¢«ç ´å æŸäº›ä½ç ´åä½†æ£€æµ‹ä¸å‡ºæ¥ æ¥æ”¶åˆ°çš„ç å­—ï¼š$c(x)+e(x)$===åˆå§‹å‘é€çš„ç å­—+é”™è¯¯é¡¹ \\frac{æ¥æ”¶åˆ°çš„ç å­—}{g(x)} = \\frac{c(x)+e(x)}{g(x)} = \\frac{c(x)}{g(x)}+\\frac{e(x)}{g(x)} = \\frac{e(x)}{g(x)} Single bit error å•ä¸ªä½å·®é”™ï¼š e(x)=x^i\\\\ \\frac{e(x)}{g(x)} = \\frac{x^i}{g(x)} è‹¥g(x)æœ‰ä¸¤é¡¹ï¼ˆä¸€èˆ¬æ¥è¯´ï¼‰ï¼Œ$x^0$é¡¹ç³»æ•°ä¸ä¸º0ï¼Œé‚£ä¹ˆä¸èƒ½é™¤å°½ï¼Œå¯ä»¥æ£€é”™ 1.5 æ ¡éªŒå’Œ ç”¨æ ¡éªŒå’Œè¿›è¡Œç®€å•æ£€é”™çš„æ–¹æ³•å¸¸ç”¨äºInternetçš„å…¶å®ƒé«˜å±‚åè®®ä¸­ã€‚ å‘é€æ•°æ®æ—¶ï¼ŒåŒæ—¶è¿˜å‘é€å®ƒä»¬çš„å’Œï¼ˆç”¨äºæ£€é”™æ ¡éªŒï¼Œå› æ­¤ç§°ä¸ºæ ¡éªŒå’Œï¼‰ã€‚ æ ¡éªŒå’Œçš„æ­¥éª¤ï¼šã€å‘é€æ–¹ã€‘ æŠ¥æ–‡è¢«åˆ’åˆ†ä¸º16-bit å­—ã€‚ æ ¡éªŒå’Œå­—çš„åˆå§‹å€¼è®¾ä¸º0ã€‚ æ‰€æœ‰å­—åŒ…æ‹¬æ ¡éªŒå’Œä½¿ç”¨åç è¿ç®—ç›¸åŠ ã€‚ å¯¹ç´¯åŠ å’Œæ±‚åç å˜æˆæ ¡éªŒå’Œã€‚ æ ¡éªŒå’Œéšæ•°æ®ä¸€èµ·å‘é€ã€‚ 2. æˆå¸§ æˆå¸§ï¼šæ·»åŠ å‘é€æ–¹åœ°å€å’Œæ¥æ”¶æ–¹åœ°å€ï¼Œæˆå¸§å°†ä¸€æ¡ä»æºç«¯åˆ°ç›®çš„ç«¯çš„æŠ¥æ–‡åˆ†å¼€æ¥ï¼Œæˆ–è€…å°†ä¸åŒç›®çš„ç«¯çš„æŠ¥æ–‡åˆ†å¼€æ¥ 2.1 å›ºå®šé•¿åº¦æˆå¸§ ä¸éœ€è¦å®šä¹‰å¸§çš„è¾¹ç•Œï¼Œé•¿åº¦æœ¬èº«å°±æ˜¯é™åˆ¶ã€‚ 2.2 å¯å˜é•¿åº¦æˆå¸§ å¸§çš„å¼€å§‹å’Œå¸§çš„ç»“æŸè¦åŠ ä¸Šåˆ†éš”ç¬¦ã€‚ æ–¹å¼\\begin{cases}é¢å‘å­—ç¬¦\\\\é¢å‘ä½\\end{cases} 2.2.1 é¢å‘å­—ç¬¦çš„åè®® \\begin{cases}flagï¼šæ ‡å¿—ä½ï¼Œåˆ†éš”è¿™ä¸€å¸§å’Œä¸‹ä¸€å¸§\\\\ Headerï¼šæºåœ°å€å’Œç›®çš„åœ°å€\\\\ Tailerï¼šæ£€é”™æˆ–è€…çº é”™å†—ä½™ä½\\end{cases} 2.2.2 é¢å‘å­—çš„åè®® éœ€è¦åˆ†éš”ç¬¦ï¼š01111110ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ ‡å¿—å¸§çš„å¼€å§‹å’Œç»“æŸ ä½å¡«å……bit-stuffingï¼šé‡åˆ°1ä¸ª0å’Œè¿ç»­5ä¸ª1æ—¶ï¼Œä¾¿å¢åŠ ä¸€ä¸ª0ï¼Œä¸ç®¡åé¢çš„é‚£ä¸ªä½æ˜¯ä»€ä¹ˆã€‚é¢å¤–çš„ä½è¢«æ¥æ”¶æ–¹ç§»èµ°ã€‚ 3. æµé‡å’Œé”™è¯¯æ§åˆ¶ æ•°æ®é“¾è·¯æ§åˆ¶\\begin{cases}æˆå¸§\\\\æµé‡æ§åˆ¶\\\\å·®é”™æ§åˆ¶\\end{cases} 3.1 åè®® åè®®\\begin{cases}æ— å™ªå£°é€šé“\\begin{cases}æœ€ç®€å•åè®®\\\\åœæ­¢ç­‰å¾…åè®®\\end{cases}\\\\å™ªå£°é€šé“\\begin{cases}åœæ­¢ç­‰å¾…ARQ\\\\å›é€€Nå¸§ARQ\\\\é€‰æ‹©æ€§é‡å‘ARQ\\end{cases}\\end{cases} 3.1.1 æ— å™ªå£°é€šé“ å‡è®¾ä¸ä¼šä¸¢å¤±å¸§ï¼Œå¤åˆ¶å¸§ï¼Œæˆ–è€…æŸåå¸§ã€‚ æœ€ç®€å•åè®®ä¸ä½¿ç”¨æµé‡æ§åˆ¶ï¼ŒStop and Waitä½¿ç”¨æµé‡æ§åˆ¶ã€‚ ä½†æ˜¯éƒ½ä¸ä½¿ç”¨å·®é”™æ§åˆ¶ï¼Œå› ä¸ºæ˜¯å®Œç¾é€šé“ã€‚ 3.1.1.1 æœ€ç®€å•åè®® æ²¡æœ‰å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶ã€‚å‡è®¾æ¥æ”¶æ–¹èƒ½åŠæ—¶å¤„ç†æ‰€æœ‰æ¥æ”¶åˆ°çš„å¸§ï¼Œä¸ä¼šè¶…è½½ã€‚ ä¸¤ä¸ªé©±åŠ¨äº‹ä»¶ï¼š å¯¹å‘é€æ–¹æ¥è¯´ï¼šè§¦å‘äº‹ä»¶ä¸ºæ¥è‡ªç½‘ç»œå±‚çš„æŠ¥æ–‡ å¯¹æ¥æ”¶æ–¹æ¥è¯´ï¼šè§¦å‘äº‹ä»¶æ¥è‡ªç‰©ç†å±‚ 3.1.1.2 åœæ­¢ç­‰å¾…åè®® å¦‚æœæ¥æ”¶æ–¹çš„æ•°æ®å¸§çš„åˆ°è¾¾é€Ÿåº¦å¤§äºèƒ½è¢«å¤„ç†çš„é€Ÿåº¦ï¼Œé‚£ä¹ˆå¸§åœ¨ä½¿ç”¨å‰å¿…é¡»è¢«å­˜å‚¨ã€‚ä¸ºé¿å…æ¥æ”¶æ–¹è¶…è´Ÿè·ï¼Œè®©å‘é€æ–¹å‡ç¼“é€Ÿåº¦ã€‚ åè®®å†…å®¹ï¼šå½“å‘é€æ–¹å‘é€äº†ä¸€ä¸ªå¸§åå¿…é¡»åœä¸‹æ¥ï¼Œç›´åˆ°æ”¶åˆ°æ¥è‡ªæ¥æ”¶æ–¹çš„ACKï¼ˆå¯ä»¥ç»§ç»­äº†ï¼‰ï¼Œç„¶åå†å‘é€ä¸€ä¸ªå¸§ã€‚ åŠåŒå·¥é“¾è·¯ å‘é€æ–¹ä¸¤ä¸ªé©±åŠ¨äº‹ä»¶ï¼š æ¥è‡ªç½‘ç»œå±‚çš„æŠ¥æ–‡ ACK 3.1.2 å™ªå£°é€šé“ 3.1.2.1 Stop-and-Wait ARQ åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­å¢åŠ äº†é”™è¯¯æ§åˆ¶ã€‚ é”™è¯¯æ§åˆ¶çš„æ¡ä»¶ï¼š å¯¹æ•°æ®å¸§å¢åŠ é¢å¤–çš„å†—ä½™ä½ å¸§åˆ°è¾¾ï¼Œé”™è¯¯ï¼Œä¸¢å¼ƒï¼Œç”±silenceå®ç°ã€æ³¨æ„ï¼Œè‹¥æ˜¯å¸§çš„åºå·ä¸åŒ¹é…ä½†æ˜¯æ˜¯æ­£ç¡®å¸§ï¼Œé‚£ä¹ˆä¹Ÿä¼šå‘é€ACK ã€‘ æ­£ç¡®ï¼Œä¿ç•™ ä¸ºå¸§ç¼–å· ä¿ç•™å·²å‘å¸§çš„å‰¯æœ¬ï¼Œå¯åŠ¨å®šæ—¶å™¨ï¼Œå¦‚æœå®šæ—¶å™¨åˆ°æ—¶ä¸”æ²¡æœ‰æ”¶åˆ°ACKé‚£ä¹ˆé‡å‘è¯¥å¸§ï¼Œä¿ç•™å‰¯æœ¬å¹¶ä¸”é‡å¯å®šæ—¶å™¨ã€‚ ACKæœ‰å†—ä½™ä½å’Œåºåˆ—å· ï¼ˆ1ï¼‰åºåˆ—å· sequence number å¯¹å¸§è¿›è¡Œç¼–å·ï¼Œåºåˆ—å·æ˜¯å¯ä»¥å¾ªç¯çš„ã€‚ åºåˆ—å·åŸºäºæ¨¡2è¿ç®— æœ‰å¿…è¦ä½¿ç”¨çš„åºå·æ˜¯xå’Œx+1ã€‚ ï¼ˆ2ï¼‰ACKå· acknowledgment ACKå· = æ¥æ”¶åˆ°å¸§çš„åºå· + 1 è¡¨ç¤ºï¼š å·²ç»æ”¶åˆ°å¸§x æœŸå¾…æ”¶åˆ°å¸§x+1 ï¼ˆ3ï¼‰è®¾è®¡ $S_n$ï¼šä¿å­˜ä¸‹ä¸€ä¸ªå°†è¦å‘é€å¸§çš„åºåˆ—å· $R_n$ï¼šä¿å­˜ä¸‹ä¸€ä¸ªæœŸå¾…æ¥æ”¶çš„å¸§çš„åºåˆ—å· /******************** å‘é€æ–¹ ******************/ Sn = 0; canSend = true; while(true){ WaitForEvent(); if(Event(RequestToSend) and canSend){ GetDate(); MakeFrame(); StoreFrame(); // ä¿å­˜è¯¥å¸§çš„å‰¯æœ¬ StartTimer(); // è®¡æ—¶å™¨å¯åŠ¨ Sn = Sn+1; // æŒ‡å‘ä¸‹ä¸€å¸§ canSend = fasle; } WaitForEvent(); // sleep until event occur if(Event(ArrivalNotification)){ // ACK arrive ReceiveFrame(ackNo); if(not corrupted and ackNo = Sn) //æœ‰æ•ˆå¸§ { StopTimer(); PurgeFrame(Sn-1); canSend = true; } } if(Event(TimeOut)){ StartTimer(); ResendFrame(Sn-1); // é‡å‘ } } /********************** æ¥æ”¶æ–¹ **********************/ Rn = 0; while (true) { WaitForEvent(); // ç­‰å¾…äº‹ä»¶å‘ç”Ÿ if (Event(ArrivalNotification)) { // Data frame arrives ReceiveFrame(); if (corrupted(frame)){ sleep(); } if (seqNo == Rn) { ExtractData(); DeliverData(); Rn = Rn + 1; } SendFrame(Rn); // åºå·ä¸åŒ¹é…æ—¶ä¹Ÿä¼šå‘å‡ºACK } } åœç­‰ARQçš„ä¾‹å­: ç¬¬0å¸§å‘é€å¹¶ç¡®è®¤ã€‚ ç¬¬1å¸§ä¸¢å¤±ï¼Œè¶…æ—¶åé‡ä¼ ã€‚é‡ä¼ çš„ç¬¬1å¸§ç¡®è®¤ï¼Œå®šæ—¶å™¨åœæ­¢è®¡æ—¶ã€‚ ç¬¬0å¸§å‘é€ï¼Œä½†ç¡®è®¤å¸§ä¸¢å¤±ã€‚è¶…æ—¶åï¼Œå†æ¬¡é‡ä¼ ç¬¬0å¸§ï¼Œå¹¶è¢«ç¡®è®¤ã€‚ ï¼ˆ4ï¼‰å¸¦å®½è¿Ÿå»¶ç§¯ åœ¨ä¸€ä¸ªåœç­‰ARQç³»ç»Ÿä¸­ï¼Œå¸¦å®½ä¸º1Mbpsï¼Œå¾€è¿”ä¼ æ’­æ—¶é—´æ˜¯ 20msï¼Œæ±‚å¸¦å®½æ—¶å»¶ç§¯ã€‚å¦‚æœå¸§é•¿åº¦ä¸º 1000bitï¼Œåˆ™é“¾è·¯çš„åˆ©ç”¨ç‡æ˜¯å¤šå°‘ï¼Ÿ å¸¦å®½æ—¶å»¶ç§¯ä¸º: â€‹ $1Ã—10^6Ã—20Ã—10^{-3} = 20000bit$ ä¸€æ¬¡å¾€è¿”åªèƒ½å‘é€1000bitï¼Œæ‰€ä»¥åˆ©ç”¨ç‡ä¸º â€‹ $1000 / 20000 = 5\\%$ å¤§é‡å¸¦å®½èµ„æºè¢«æµªè´¹ 3.1.2.2 å›é€€Nå¸§ ARQ åœæ­¢ç­‰å¾…ARQä¸­å¤§éƒ¨åˆ†å¸¦å®½è¢«æµªè´¹ï¼Œç›®æ ‡æ˜¯æé«˜ä¼ è¾“çš„æ•ˆç‡ã€‚ ï¼ˆ1ï¼‰åºåˆ—å· sequence number å…è®¸åºåˆ—å·æœ‰mä½ï¼Œæ¨¡$2^m$ï¼Œåºåˆ—å·èŒƒå›´æ˜¯$0$~$2^m-1$ åºåˆ—å·å¯é‡å¤ ï¼ˆ2ï¼‰æ»‘åŠ¨çª—å£ sliding window æ»‘åŠ¨çª—å£å®šä¹‰å‘é€æ–¹å’Œæ¥æ”¶æ–¹å…³å¿ƒçš„åºåˆ—å·èŒƒå›´ã€‚ã€å‘é€æ–¹å’Œæ¥æ”¶æ–¹åªéœ€å¤„ç†å¯èƒ½çš„åºåˆ—å·éƒ¨åˆ†ã€‘ sliding\\ window\\begin{cases}å‘é€æ»‘åŠ¨çª—å£\\\\æ¥æ”¶æ»‘åŠ¨çª—å£\\end{cases} å‘é€æ»‘åŠ¨çª—å£ çª—å£çš„æœ€å¤§å¤§å°æ˜¯$2^m-1$ çª—å£åˆ†ä¸º4éƒ¨åˆ†ï¼š \\begin{cases}å·²ç¡®è®¤ï¼Œä¸ç”¨ä¿å­˜å‰¯æœ¬\\\\ å¾…ç¡®è®¤å¸§ï¼Œä¿å­˜å‰¯æœ¬\\\\ èƒ½å¤Ÿå‘é€ï¼Œä½†æœªä»ç½‘ç»œå±‚æ¥æ”¶æ•°æ®\\\\ ç›´åˆ°æ»‘åŠ¨çª—å£æ‰èƒ½ä½¿ç”¨\\end{cases} ä¸‰ä¸ªå‚æ•°ï¼š $S_f$ï¼šå‘é€çª—å£ï¼Œç¬¬ä¸€ä¸ªå¾…å¤„ç†å¸§ $S_n$ï¼šå‘é€çª—å£ï¼Œç¬¬ä¸€ä¸ªå¾…å‘é€å¸§ $S_{size}$ï¼šçª—å£å¤§å°ï¼Œä¸€èˆ¬ä¸º$2^m-1$ æœ‰æ•ˆç¡®è®¤åˆ°è¾¾æ—¶ï¼Œå‘é€çª—å£èƒ½å¤Ÿå‘é€ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ—¶éš™ã€‚ æ¥æ”¶æ»‘åŠ¨çª—å£ æ¥æ”¶çª—å£æ˜¯ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µï¼Œç”¨å˜é‡ Rnå®šä¹‰äº†å¤§å°ä¸º 1 çš„æ¥æ”¶çª—å£ã€‚æ­£ç¡®çš„å¸§åˆ°è¾¾æ—¶ï¼Œæ¥æ”¶çª—å£æ»‘åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ—¶éš™ã€‚ $R_n$å®šä¹‰äº†æœŸå¾…æ¥æ”¶çš„å¸§ï¼Œé™¤äº†$R_n$å¤–ä»»ä½•å¤±åºå¸§åˆ°è¾¾éƒ½ä¼šè¢«ä¸¢å¼ƒã€‚ ï¼ˆ3ï¼‰å®šæ—¶å™¨ timer åè®®åªä½¿ç”¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç¬¬ä¸€ä¸ªå¾…å¤„ç†çš„å¸§çš„å®šæ—¶å™¨æ€»æ˜¯å…ˆåˆ°æ—¶ï¼Œåˆ°æ—¶æ—¶ï¼Œæˆ‘ä»¬é‡å‘æ‰€æœ‰çš„å¾…å¤„ç†å¸§ã€‚ ï¼ˆ4ï¼‰Acknowledgment å¦‚æœä¸€ä¸ªå¸§å®‰å…¨æœ‰åºåˆ°è¾¾ï¼Œé‚£ä¹ˆæ¥æ”¶æ–¹å‘é€ä¸€ä¸ªè‚¯å®šçš„ç¡®è®¤ å¦‚æœå¸§è¢«æŸåæˆ–è€…å¤±åºï¼Œé‚£ä¹ˆæ¥æ”¶æ–¹ä¸å“åº”å¹¶ä¸”ä¸¢å¼ƒæ‰€æœ‰åæ¥çš„å¸§ï¼Œç›´åˆ°å®ƒæ”¶åˆ°ä¸€ä¸ªå®ƒæœŸå¾…çš„å¸§ã€‚ã€ä¸åœæ­¢ç­‰å¾…ARQåŒºåˆ«ï¼šå¤±åºæ—¶ä¸ä¼šå‘é€ACK ã€‘ æ¥æ”¶æ–¹å¯ä¸ºå¤šå¸§å‘é€ä¸€ä¸ªç´¯è®¡ç¡®è®¤cumulative acknowledgment ï¼ˆ5ï¼‰å¸§çš„é‡å‘ å®šæ—¶å™¨åˆ°æ—¶æ—¶ï¼Œå‘é€æ–¹ä¼šé‡å‘æ‰€æœ‰çš„å¾…ç¡®è®¤çš„å¸§ã€‚ ï¼ˆ6ï¼‰è®¾è®¡ å¤šä¸ªå¸§èƒ½åœ¨å‰å‘æ–¹å‘ä¼ è¾“ï¼Œåœ¨åå‘ä¼ è¾“å¤šä¸ªç¡®è®¤ã€‚ /***************************** å›é€€Nå¸§ARQ ****************************/ Sw = 2^m - 1; // çª—å£å¤§å° Sf = 0; // å¾…å¤„ç†çš„å¸§ï¼šç¬¬0å¸§ Sn = 0; // å¾…å‘é€çš„å¸§ï¼šç¬¬0å¸§ while (true) { waitForEvent(); if (Event(RequestToSend)) { if (Sn - Sf >= Sw) { // çª—å£æ»¡äº† sleep(); } GetData(); MakeFrame(Sn); StoreFrame(Sn); // å‰¯æœ¬ Sn = Sn + 1; if (timer not running) { StartTimer(); } } if (Event(ArrivalNotification)) { // ACK arrive Receive(ACK); if (corrupted(ACK)) { sleep(); } if ((ackNo > Sf) && (ackNo ï¼ˆ4ï¼‰Go-Back-N ARQ Versus Stop- and -Wait ARQ åœæ­¢ç­‰å¾…ARQå…¶å®æ˜¯å›é€€Nå¸§ARQçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼šåªæœ‰ä¸¤ä¸ªåºåˆ—å·ä¸”çª—å£çš„å¤§å°æ˜¯1 3.1.2.3 é€‰æ‹©æ€§é‡å‘ARQ Selective Repeat ARQ å›é€€Nå¸§ARQå­˜åœ¨çš„é—®é¢˜ï¼š æ¥æ”¶æ–¹åªæœ‰ä¸€ä¸ªå˜é‡ï¼Œä¸èƒ½è§£å†³å¸§å¤±åºé—®é¢˜ åœ¨æœ‰å™ªå£°é€šé“æ•ˆç‡ä½å°ï¼Œå› ä¸ºéœ€è¦é‡å‘å¤šä¸ªå¸§ ï¼ˆ1ï¼‰çª—å£å¤§å° å‘é€çª—å£ çª—å£å°ºåº¦ä¸º$2^{m-1}$ çª—å£çš„ç¼©å°æ„å‘³ç€å¯¹ç®¡é“æœ‰æ•ˆå¡«å……æ€§å‡å°‘ï¼Œä½†äº‹å®ä¸Šå‰¯æœ¬å¸§ä¼šå°‘å¾ˆå¤šã€‚ æ¥æ”¶çª—å£ æ¥æ”¶çª—å£å¤§å°å’Œå‘é€çª—å£ä¸€æ ·$2^{m-1}$ å…è®¸å’Œæ¥æ”¶çª—å£ä¸€æ ·å¤šçš„å¸§å¤±åºåˆ°è¾¾ï¼Œå¹¶ä¿ç•™åˆ°æœ‰ä¸€ç»„æœ‰åºå¸§èƒ½äº¤ä»˜ç»™ç½‘ç»œå±‚ï¼š æ¯ä¸ªçª—å£ä½ç½®åªå‘é€ä¸€ä¸ªNAKå¹¶æŒ‡æ˜çª—å£ä¸­çš„ç¬¬ä¸€ä¸ªæ—¶éš™ ï¼ˆ2ï¼‰è®¾è®¡ å®šæ—¶å™¨çš„æ•°é‡ä¸Go-Back-Nä¸åŒï¼Œæ¯å‘é€æˆ–è€…é‡å‘ä¸€ä¸ªå¸§éƒ½éœ€è¦æœ‰ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå®šæ—¶å™¨ä¹Ÿè¦ç¼–å·ï¼šåªæœ‰åœ¨è¿™ä¸ªå¸§çš„ACKè¾¾åˆ°åæ‰ä¼šåœæ­¢è®¡æ—¶å™¨ã€‚ Note: ä¸€ç»„è¿ç»­çš„å¸§åˆ°è¾¾ä¸”ä»çª—å£å¼€å§‹ï¼Œåˆ™å¯å‘ç½‘ç»œå±‚äº¤ä»˜ æ¯ä¸ªçª—å£ä½ç½®åªå‘é€ä¸€ä¸ªNAKå¹¶æŒ‡æ˜çª—å£çš„ç¬¬ä¸€ä¸ªæ—¶éš™ å½“æ•°æ®è¢«äº¤ä»˜åˆ°ç½‘ç»œå±‚æ‰å‘é€ACKã€ä¸€ä¸ªçª—å£ä¸€ä¸ªACKï¼Œä¸€ä¸ªçª—å£ä¸€ä¸ªNAKã€‘ 3.2 HDLCé«˜çº§æ•°æ®é“¾è·¯æ§åˆ¶ HDLCæ˜¯ä¸€ç§é¢å‘ä½çš„ç‚¹åˆ°ç‚¹å’Œå¤šç‚¹é“¾è·¯è¿›è¡Œé€šä¿¡çš„åè®®ã€‚å®ç°äº†ARQ 3.2.1 é…ç½®å’Œä¼ è¾“æ¨¡å¼ \\begin{cases}æ­£å¸¸å“åº”æ–¹å¼normal\\ response\\ mode\\\\å¼‚æ­¥å¹³è¡¡å“åº”æ–¹å¼asynchronous\\ balanced \\ mode\\end{cases} æ­£å¸¸å“åº”æ¨¡å¼ ä¸€ä¸ªä¸»ç«™ï¼ˆprimary stationï¼‰å’Œå¤šä¸ªä»ç«™ï¼ˆsecondary stationï¼‰ ä¸»ç«™åªèƒ½å‘å‘½ä»¤ï¼Œä»ç«™åªèƒ½å“åº”ã€‚ å¼‚æ­¥å¹³è¡¡æ¨¡å¼ æ¯ä¸ªç«™æ—¢æ˜¯ä¸»ç«™åˆæ˜¯ä»ç«™ã€‚ 3.2.2 å¸§çš„ç±»å‹ ä¿¡æ¯å¸§ï¼Œç›‘æ§å¸§ï¼Œæ— ç¼–å·å¸§ type\\ of frame\\begin{cases}information\\ frames,I-framesï¼šä¼ è¾“ç”¨æˆ·æ•°æ®ä»¥åŠç”¨æˆ·æ•°æ®ç›¸å…³çš„æ§åˆ¶ä¿¡æ¯\\\\supervisory\\ frames,S-framesï¼šä¼ è¾“æ§åˆ¶ä¿¡æ¯\\\\unnumbered\\ frames,U-framesï¼šä½œä¸ºç³»ç»Ÿç®¡ç†\\end{cases} 3.2.2.1 å¸§çš„æ ¼å¼ 3.2.2.2 æ§åˆ¶åŸŸ ä¿¡æ¯å¸§çš„æ§åˆ¶å­—æ®µ å¦‚æœæ§åˆ¶å­—æ®µçš„ç¬¬ä¸€ä½æ˜¯0ï¼Œé‚£ä¹ˆè¿™æ˜¯ä¸€ä¸ªä¿¡æ¯å¸§ã€‚ N(S)å®šä¹‰åºå·0-7 P/Fæ˜¯å•ä¸ªä½ï¼Œè®¾å®šä¸º1çš„æ—¶å€™æœ‰æ„ä¹‰ï¼Œæ„å‘³ç€è½®è¯¢æˆ–è€…ç»ˆæ­¢ã€‚å‘é€æ–¹ä¸ºä¸»ç«™æ—¶ï¼ˆåœ°å€å­—æ®µåŒ…å«æ¥æ”¶æ–¹çš„åœ°å€ï¼Œæ„å‘³ç€è½®è¯¢ï¼›å¸§ç”±ä»ç«™å‘å‘ä¸»ç«™æ—¶ï¼Œæ„å‘³ç€ç»ˆæ­¢ï¼‰ ç®¡ç†å¸§çš„æ§åˆ¶å­—æ®µ å¦‚æœæ§åˆ¶å­—æ®µçš„å‰ä¸¤ä¸ªä½æ˜¯10ï¼Œé‚£ä¹ˆæ˜¯ç®¡ç†å¸§ã€‚ ç®¡ç†å¸§æ²¡æœ‰ä¿¡æ¯å­—æ®µã€‚ æœ€åä¸‰ä¸ªä½ï¼Œç§°ä¸ºN(R)ï¼Œä¸ç¡®è®¤å·ï¼ˆACKï¼‰æˆ–è€…å¦å®šç¡®è®¤ï¼ˆNAKï¼‰å¯¹åº”ï¼Œå–å†³äºç®¡ç†å¸§çš„ç±»å‹ã€‚ codeå­—æ®µå®šä¹‰ç®¡ç†å¸§çš„ç±»å‹ï¼š codeå¯¹ç®¡ç†å¸§ç±»å‹çš„å®šä¹‰\\begin{cases}å‡†å¤‡æ¥æ”¶RRï¼š00\\\\ä¸å‡†å¤‡æ¥æ”¶RNRï¼š10\\\\æ‹’æ”¶REJï¼š01\\\\é€‰æ‹©æ€§æ‹’æ”¶SREJï¼š11\\end{cases} a. Receive Readyã€RRã€‘ï¼šç¼–ç å­—æ®µæ˜¯00ï¼Œå³ACKï¼ŒNï¼ˆRï¼‰å³æ˜¯ç¡®è®¤å· b. Receive Not Readyã€RNRã€‘ï¼šç¼–ç å­—æ®µæ˜¯10ï¼Œå¯¹ä¸€ä¸ªæˆ–ä¸€ç¾¤å¸§è¿›è¡Œç¡®è®¤ï¼Œå®£å¸ƒä¸èƒ½æ¥æ”¶æ›´å¤šçš„å¸§ï¼Œè¦æ±‚å‘é€æ–¹å‡é€Ÿ c. Reject ã€REJã€‘ï¼šç¼–ç å­—æ®µæ˜¯01ï¼Œæ˜¯ä¸€ä¸ªNAKå¸§ï¼Œæ˜¯ä¸€ä¸ªèƒ½åœ¨å›é€€Nå¸§ä¸­ä½¿ç”¨çš„NAKï¼Œå‘ŠçŸ¥æœ€åä¸€ä¸ªå¸§ä¸¢å¤±æˆ–è€…æŸåï¼ŒNï¼ˆRï¼‰çš„å€¼æ˜¯å¦å®šç¡®è®¤å· d. Selective Rejectï¼šç¼–ç å­—æ®µæ˜¯11ï¼Œé€‰æ‹©æ€§é‡å¤ARQçš„NAKå¸§ï¼Œé€‰æ‹©æ€§æ‹’æ”¶ã€‚ æ— ç¼–å·å¸§çš„æ§åˆ¶å­—æ®µ æ— ç¼–å·å¸§è´Ÿè´£åœ¨è¿æ¥çš„è®¾å¤‡ä¹‹é—´äº¤æ¢ä¼šè¯ç®¡ç†å’Œæ§åˆ¶ä¿¡æ¯ã€‚æ— ç¼–å·å¸§åŒ…å«ä¸€ä¸ªä¿¡æ¯å­—æ®µï¼Œä¿¡æ¯å­—æ®µç”¨ä½œç³»ç»Ÿç®¡ç†è€Œä¸æ˜¯ç”¨æˆ·æ•°æ®ã€‚ 4. å¤šè·¯è®¿é—® ä¸Šè¿°çš„é“¾è·¯è®¿é—®æ˜¯å‡å®šå‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´æœ‰ä¸“é—¨çš„ä¸“ç”¨é“¾è·¯çš„ã€‚ å®é™…ä¸Šï¼šéä¸“ç”¨é“¾è·¯ï¼Œæ•°æ®é“¾è·¯å±‚éœ€è¦æä¾› data link control && media access control æ•°æ®é“¾è·¯å±‚åˆ†æˆä¸¤ä¸ªå­å±‚\\begin{cases}\\text{data link control}\\\\\\text{Multiple-access resolution}\\begin{cases}éšæœºè®¿é—®åè®®\\\\å—æ§åè®®\\\\é€šé“åŒ–åè®®\\end{cases}\\end{cases} 4.1 éšæœºè®¿é—®åè®® in random access or contentionï¼šæ²¡æœ‰ä»»ä½•ç«™ç‚¹æ˜¯ä¼˜äºå…¶ä»–ç«™ç‚¹çš„ï¼Œæ²¡æœ‰ç«™ç‚¹èƒ½æ§åˆ¶å…¶ä»–ç«™ç‚¹ã€‚ å½“ä¸€ä¸ªç«™ç‚¹è¦å‘é€æ•°æ®æ—¶ï¼Œéƒ½ä½¿ç”¨åè®®æ¥å†³å®šè¦ä¸è¦å‘é€ã€‚ Random Access Protocolçš„ç‰¹ç‚¹ï¼š ç«™ç‚¹æ²¡æœ‰è§„å®šç‰¹å®šçš„æ—¶é—´è¡¨ æ²¡æœ‰è§„åˆ™æ¥è§„å®šä¸‹ä¸€ä¸ªå°†è¦å‘é€çš„ç«™ç‚¹æ˜¯å“ªä¸€ä¸ª ä½†æ˜¯ä¸€ä¸ªä»¥ä¸Šçš„ç«™ç‚¹å‘é€æ—¶å°±ä¼šäº§ç”Ÿå†²çª---->å¸§æŸå 4.1.1 ALOHA 4.1.1.1 Pure ALOHA æ¦‚å¿µï¼šä¸€ä¸ªç«™ç‚¹æœ‰å¸§è¦å‘é€ï¼Œé‚£ä¹ˆå‘é€è¿™ä¸ªå¸§ã€‚å­˜åœ¨å†²çª ----> å¸§æŸå ----> é‡å‘ çº¯ALOHAä¾èµ–äºæ¥æ”¶æ–¹çš„ç¡®è®¤ã€‚å‘é€åç­‰å¾…æ¥æ”¶æ–¹çš„ç¡®è®¤ï¼Œå¦‚æœè¶…æ—¶åè¿˜æœªåˆ°è¾¾ï¼Œç«™ç‚¹å°±è®¤ä¸ºå¸§è¢«æŸåäº†ã€‚ [resend] back-off timeï¼šå¦‚æœè¶…æ—¶åéƒ½é‡å‘å¸§ï¼Œé‚£ä¹ˆå¯èƒ½å†æ¬¡å†²çªcollide againï¼Œè¶…æ—¶åéšæœºç­‰å¾…ä¸€å®šæ—¶é—´wait a random amount of timeã€‚ç§°è¿™ä¸ªæ—¶é—´ä¸ºback-off time $T_B$ ä¸€ä¸ªç«™ç‚¹åœ¨ç»è¿‡æœ€å¤§æ¬¡æ•°$K_{max}$ä¹‹åï¼Œå¿…é¡»æ”¾å¼ƒå°è¯•ï¼Œå¹¶ä¸”ç­‰å¾…ä»¥åå°è¯• å…¶ä¸­è¶…æ—¶æ—¶é—´$Wait\\ time\\ out\\ time = 2\\times T_p$ï¼Œä¸ºä¸¤å€çš„ä¼ è¾“æ—¶é—´ $T_B$çš„å…¬å¼å–å†³äºå®ç°ï¼Œå…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯äºŒè¿›åˆ¶å›é€€binary exponential back-offï¼š æ¯æ¬¡ä¼ è¾“éšæœºé€‰æ‹©0~$2^k-1$èŒƒå›´å†…çš„ä¸€ä¸ªæ•°ï¼Œè¯¥æ•°ä¹˜ä»¥$Tp$ï¼ˆæœ€é•¿ä¼ æ’­æ—¶é—´ï¼‰ï¼Œæˆ–è€…ä¹˜ä»¥$T{fr}$ï¼Œå¾—åˆ°$T_B$çš„å€¼ã€‚ æ¯ä¸€æ¬¡å†²çªåï¼Œkçš„å€¼å˜å¤§ï¼Œéšæœºç­‰å¾…çš„æ—¶é—´å˜é•¿ $K_{max}$çš„å¸¸ç”¨å€¼æ˜¯15 ã€è„†å¼±æ—¶é—´ vulnerable timeã€‘ vulnerable timeï¼šå¯èƒ½å‘ç”Ÿå†²çªçš„æ—¶é—´ çº¯ALOHAçš„$vulnerable\\ time =2\\times T_{fr}$ ã€ååé‡Throughputã€‘ ååé‡æ˜¯æŒ‡æ¯ç§’å®é™…å‘é€çš„ï¼Œä¸å¸¦å®½ä¸åŒã€‚ Gï¼š1ä¸ªå¸§ä¼ è¾“æ—¶é—´$T_{tf}$å†…ï¼Œç³»ç»Ÿäº§ç”Ÿå¸§çš„å¹³å‡æ•° Sï¼šçº¯ALOHAæˆåŠŸä¼ è¾“å¸§çš„å¹³å‡æ•°é‡ S = G\\times e^{-2G} å½“$G = \\frac{1}{2}$æ—¶ï¼Œ$S_{max}=0.184$. 4.1.1.2 æ—¶éš™ALOHA åœ¨æ—¶éš™ALOHAä¸­ï¼Œå°†æ—¶é—´åˆ†éš”æˆ$T_{fr}$ç§’çš„æ—¶éš™ï¼Œå¹¶å¼ºåˆ¶ç«™ç‚¹åªæœ‰åœ¨æ—¶éš™å¼€å§‹çš„æ—¶å€™æ‰èƒ½å‘é€ã€‚ å†²çªå‘ç”Ÿåœ¨åŒæ—¶åœ¨ä¸€ä¸ªæ—¶éš™ä¸­å‘é€çš„æƒ…å†µï¼š è„†å¼±æ—¶é—´$vulnerable \\ \\ time = T_{fr}$ ã€throughputã€‘ $S = G\\times e^{-G}$ï¼Œå½“G=1æ—¶ï¼Œ$S_{max} = 0.368$ 4.1.2 è½½æ³¢ç›‘å¬ï¼ˆCSMAï¼‰ è½½æ³¢ä¾¦å¬å¤šè·¯è®¿é—®CSMA(Carrier Sense Multiple Access)è¦æ±‚æ¯ä¸€ä¸ªç«™ç‚¹åœ¨å‘é€å‰å…ˆè¦ç›‘å¬ä»‹è´¨ï¼Œä»¥å‡å°‘å†²çªå‘ç”Ÿçš„æ¦‚ç‡ã€‚ä½†æ˜¯å®ƒä¸èƒ½æ¶ˆé™¤å†²çªï¼Œå†²çªæ¦‚ä¾ç„¶å­˜åœ¨çš„åŸå› æ˜¯ä¼ æ’­çš„å»¶è¿Ÿã€‚ $vulnerable\\ \\ time = T_P$ 4.1.2.1 ç›‘å¬ç­–ç•¥ 1-åšæŒ éåšæŒ påšæŒ 4.1.3 CSMA/CD CSMA/CDç»™å‡ºäº†æ£€æµ‹åˆ°å†²çªä¹‹åçš„åšæ³•ï¼š æ˜¯å¦æˆåŠŸï¼šç›‘æ§ä»‹è´¨è§‚å¯Ÿ\\begin{cases}æˆåŠŸï¼Œå®Œæˆå‘é€\\\\å¤±è´¥ï¼Œé‡å‘\\end{cases} ä»»æ„ç«™ç‚¹éƒ½å¯ä»¥å‘é€å¸§ï¼Œä¹‹åç›‘æ§ä»‹è´¨æŸ¥çœ‹ä¼ é€æ˜¯å¦æˆåŠŸã€‚å¦‚æœæˆåŠŸï¼Œç«™ç‚¹å®Œæˆå‘é€ï¼›å¦‚æœä¸æˆåŠŸï¼Œè¯´æ˜å­˜åœ¨å†²çªï¼Œéœ€è¦é‡æ–°å‘é€æ­¤å¸§ã€‚ åŒæ—¶ï¼Œè¦æƒ³ç›‘æµ‹åˆ°å¼‚å¸¸ï¼Œé‚£ä¹ˆè¦æ»¡è¶³æ¡ä»¶ï¼š T_{fr} â‰¥ 2T_p 4.1.3.1 Minimum Frame Size æ»¡è¶³$T_{fr} = 2T_p$çš„ï¼Œå³æ˜¯æœ€å°å¸§é•¿ã€‚ å™è¿°CSMA/CDçš„æµç¨‹â€”â€” åœ¨å¼€å§‹å‘é€å¸§ä¹‹å‰ï¼Œå¢åŠ äº†æŒç»­ç¨‹åº ä¼ è¾“å’Œå†²çªæ£€æµ‹åŒæ—¶è¿›è¡Œï¼ŒæŒç»­ç›‘æµ‹ä¸¤ä¸ªè¿‡ç¨‹ï¼šä¼ è¾“å®Œæˆæˆ–è€…æ˜¯ç›‘æµ‹åˆ°å†²çªï¼Œè¿™ä¸¤ä¸ªäº‹ä»¶éƒ½èƒ½ä½¿ä¼ è¾“åœæ­¢ åŒæ—¶ï¼Œè‹¥æ˜¯æœ‰æ£€æµ‹åˆ°å†²çªå‘ç”Ÿï¼Œé‚£ä¹ˆå‘é€ä¸€ä¸ªçŸ­å°çš„å¹²æ‰°ä¿¡å·ã€‚ ä¸çº¯ALOHAç›¸æ¯”ï¼š å¢åŠ äº†æŒç»­ç¨‹åº ä¼ è¾“ä¸å†²çªæ£€æµ‹æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼ŒALOHAçš„å†²çªæ£€æµ‹æ˜¯ç­‰å¾…ACK å¢åŠ å¹²æ‰° 4.1.4 CSMA/CA ç”±äºåœ¨æ— çº¿ç½‘ç»œä¸­å¤§é‡å‘é€ä¿¡å·çš„èƒ½é‡åœ¨ä¼ è¾“ä¸­ä¸¢å¤±ï¼Œæ‰€ä»¥å†²çªæ£€æµ‹èµ·ä¸äº†ä»€ä¹ˆä½œç”¨ï¼Œéœ€è¦é¿å…å†²çªã€‚ é¿å…å†²çªçš„åŠæ³•ï¼š å¸§é—´é—´éš” interframe spaceï¼ŒIFS ç›‘å¬åˆ°ç©ºé—²æ—¶ï¼Œå¹¶ä¸é©¬ä¸Šå‘é€ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åå†å‘é€ã€ä½¿å¾—æºç«¯çš„ä¿¡å·èƒ½ä¼ è¾“åˆ°ã€‘ï¼Œè¿™æ®µæ—¶é—´ç­‰äºç«äº‰æ—¶é—´ã€‚ IFSèƒ½å®šä¹‰ä¸€ä¸ªç«™ç‚¹/å¸§çš„ä¼˜å…ˆæƒï¼šIFSæ—¶é—´è¶ŠçŸ­ï¼Œä¼˜å…ˆçº§è¶Šé«˜ ç«äº‰çª—å£ Contention Window ç«äº‰çª—å£å°†æ—¶é—´åˆ†éš”æˆæ—¶éš™ï¼Œé€‰æ‹©ä¸€ä¸ªéšæœºæ—¶éš™ä½œä¸ºç­‰å¾…æ—¶é—´ã€‚ æ—¶éš™ä¸ªæ•°ï¼šè¡¥å¿ç­–ç•¥ä¸­çš„äºŒå…ƒæŒ‡æ•°å˜åŒ–ã€‚ï¼ˆIFSåä¸ç©ºé—²åˆ™æ—¶éš™æ•°é‡åŠ å€ã€‚ï¼‰ åœ¨CSMA/CAä¸­å¦‚æœç«™ç‚¹å‘ç°é€šé“å¿™ï¼Œé‚£ä¹ˆä¸é‡å¯ç«äº‰çª—å£çš„è®¡æ—¶å™¨ï¼Œè€Œæ˜¯åœæ­¢è®¡æ—¶å™¨å‘ç°é€šé“ç©ºé—²æ—¶å†å¯åŠ¨è®¡æ—¶å™¨ã€‚ ç¡®è®¤ acknowledgment ACK+å®šæ—¶å™¨ è¿‡ç¨‹ 4.2 å—æ§è®¿é—®åè®® å—æ§è®¿é—®çš„å½¢å¼ï¼š é¢„çº¦ è½®è¯¢ ä»¤ç‰Œç¯ 4.2.1 é¢„çº¦ æ—¶é—´åˆ’åˆ†ä¸ºæ—¶éš™ï¼šNä¸ªç«™ç‚¹ï¼ŒNä¸ªé¢„çº¦å­æ—¶éš™ï¼Œæ¯ä¸ªæ—¶éš™å‡å±äºä¸€ä¸ªç«™ç‚¹ã€‚ æ¯ä¸ªæ—¶éš™å†…å…ˆå‘é€ä¸€ä¸ªé¢„çº¦å¸§reservation stationï¼Œé¢„çº¦å®Œçš„ç«™ç‚¹å¯ä»¥åœ¨é¢„çº¦åå‘é€æ•°æ®å¸§ã€‚ 4.2.2 è½®è¯¢ Pollingä¸€ä¸ªè®¾å¤‡ä½œä¸ºä¸»ç«™primary stationï¼›å¦ä¸€äº›è®¾å¤‡ä½œä¸ºä»ç«™secondary station; æ‰€æœ‰çš„æ•°æ®äº¤æ¢éƒ½è¦é€šè¿‡ä¸»ç«™ç‚¹è¿›è¡Œï¼Œå³ä½¿æœ€ç»ˆçš„ç›®çš„ç«™ç‚¹æ˜¯ä»ç«™ç‚¹ã€‚ ä¸»è®¾å¤‡å†³å®šé‚£ä¸ªè®¾å¤‡å…è®¸ä½¿ç”¨é€šé“ï¼Œä¸»è®¾å¤‡å§‹ç»ˆæ˜¯ä¸€ä¸ªä¼šè¯çš„å‘èµ·è€…ã€‚ pollingï¼šä¸»è®¾å¤‡å¸Œæœ›æ¥æ”¶æ•°æ®ï¼Œå«åšè½®è¯¢ selectï¼šä¸»è®¾å¤‡å¸Œæœ›å‘é€æ•°æ® 4.2.3 ä»¤ç‰Œç¯ ç½‘ç»œä¸­çš„ç«™ç‚¹è¢«ç»„ç»‡åœ¨é€»è¾‘ç¯ä¸­ï¼Œæ¯ä¸ªç«™ç‚¹æœ‰å‰é©±ååç»§ã€‚ å½“å‰æ­£åœ¨ä½¿ç”¨ä»¤ç‰Œçš„èŠ‚ç‚¹ï¼šä»¤ç‰Œä»å‰é©±æ¥ï¼Œä¸ç”¨æ—¶å¾€åç»§å» 4.3 é€šé“åŒ– ä¸åŒçš„ç«™ç‚¹åœ¨æ—¶åŸŸã€é¢‘åŸŸã€ç åŸŸä¸Šæ­£äº¤åŒ–æ¥å…±äº«ä¿¡é“ \\begin{cases}FDMA\\\\TDMA\\\\CDMA\\end{cases} 4.3.1 FDMA å¯ç”¨å¸¦å®½è¢«åˆ’åˆ†ä¸ºé¢‘å¸¦ï¼Œæ¯ä¸ªç«™ç‚¹éƒ½æ˜¯ç”¨åˆ†é…çš„é¢‘å¸¦æ¥é€šä¿¡ã€‚ guard bandsï¼šä¿æŠ¤é¢‘å¸¦ 4.3.2 TDMA æ‰€æœ‰ç«™ç‚¹åœ¨æ—¶é—´ä¸Šå…±äº«å¸¦å®½ã€‚ æ¯ä¸ªç«™ç‚¹è¢«åˆ’åˆ†æ—¶éš™ï¼Œåªæœ‰åœ¨è¯¥æ—¶éš™æ‰èƒ½å‘é€æ•°æ®ã€‚ 4.3.3 CDMA CDMAï¼š ä¸€ä¸ªé€šé“å ç”¨æ‰€æœ‰çš„å¸¦å®½ æ‰€æœ‰èŠ‚ç‚¹å¯ä»¥åŒæ—¶å‘é€ï¼Œæ— æ—¶é—´é™åˆ¶ æ€æƒ³ï¼š nä¸ªç«™ç‚¹åˆ†é…nä¸ªç¼–ç ï¼šc1,c2,...,cn ç¼–ç ç‰¹æ€§ï¼š ä¸¤ä¸ªä¸åŒçš„ç¼–ç ç›¸ä¹˜ä¸º0 è‡ªèº«ç›¸ä¹˜ä¸º4 5. æœ‰çº¿å±€åŸŸç½‘â€”â€”ä»¥å¤ªç½‘ å±€åŸŸç½‘(local area network LAN)åº”ç”¨äºæœ‰é™çš„åœ°ç†èŒƒå›´ã€‚ 5.1 IEEE Standards IEEEå°†æ•°æ®é“¾è·¯å±‚åˆ’åˆ†ä¸ºä¸¤ä¸ªå­å±‚ï¼š æ•°æ®é“¾è·¯å±‚çš„ä¸¤ä¸ªå­å±‚\\begin{cases}é€»è¾‘é“¾è·¯æ§åˆ¶å±‚ LLC\\\\ä»‹è´¨è®¿é—®æ§åˆ¶å±‚MAC\\end{cases} 5.1.1 Data Link Layer 5.1.1.1 Logical Link Control (LLC) é€»è¾‘é“¾è·¯å±‚æ˜¯ç”¨æ¥ï¼š æˆå¸§ æµé‡æ§åˆ¶ å·®é”™æ§åˆ¶ LLCä¸ºæ‰€æœ‰IEEEå±€åŸŸç½‘æä¾›ä¸€ä¸ªå•ä¸€çš„æ•°æ®é“¾è·¯æ§åˆ¶åè®®ã€‚ 5.1.1.2 Framing LLCå®šä¹‰äº†ä¸€ä¸ªåè®®æ•°æ®å•å…ƒPDUï¼Œä¸€å®šç¨‹åº¦ä¸Šä¸HDLCç›¸ä¼¼ã€‚ å¤´éƒ¨åŒ…å«æ§åˆ¶å­—æ®µ ç”¨ä»¥æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶ å¦å¤–ä¸¤ä¸ªå¤´éƒ¨ç•Œå®šäº†ä½¿ç”¨LLCçš„æºå’Œç›®çš„çš„ä¸Šå±‚åè®®ï¼Œç§°ä¸ºç›®çš„ä¸šåŠ¡æ¥å…¥ç‚¹ destination service access point [DSAP]å’Œæºä¸šåŠ¡æ¥å…¥ç‚¹source service access point [SSAP]ã€‚ HDLCä¸­å®šä¹‰çš„å¸§è¢«åˆ†ä¸ºLLCå­å±‚çš„PDUå’ŒMACå­å±‚çš„ä¸€ä¸ªå¸§ï¼š HDLCå¸§\\begin{cases}LLC\\ PDU\\\\MACå¸§\\end{cases} 5.1.1.3 LLCçš„éœ€æ±‚ LLCçš„ç›®çš„æ˜¯ä¸ºéœ€è¦æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶çš„ä¸Šå±‚åè®®æä¾›è¿™äº›æœåŠ¡ã€‚ IPåè®®ä¸éœ€è¦LLCæœåŠ¡ã€‚ 5.1.1.4 media access control ä»‹è´¨è®¿é—®æ§åˆ¶å±‚ä¸ºæ¯ä¸ªå±€åŸŸç½‘å®šä¹‰ç‰¹å®šçš„è®¿é—®æ–¹æ³•ã€‚ MACå®šä¹‰çš„è®¿é—®æ–¹æ³•\\begin{cases}ä»¥å¤ªç½‘ï¼šCSMA/CD\\\\ä»¤ç‰Œç¯ï¼šä»¤ç‰Œä¼ é€’\\\\ä»¤ç‰Œæ€»çº¿å±€åŸŸç½‘ï¼šä»¤ç‰Œä¼ é€’\\\\......\\end{cases} 5.1.2 physical layer æ¯ç§ä»¥å¤ªç½‘çš„å®ç°éƒ½æœ‰ä¸åŒçš„ç‰©ç†å±‚è§„èŒƒã€‚ 5.2 æ ‡å‡†ä»¥å¤ªç½‘ ä»¥å¤ªç½‘çš„å‘å±•ï¼š æ ‡å‡†ä»¥å¤ªç½‘ å¿«é€Ÿä»¥å¤ªç½‘ åƒå…†ä»¥å¤ªç½‘ Gigabit Ethernet 10åƒå…†ä»¥å¤ªç½‘ Ten Gigabit Ethernet 5.2.1 MACå­å±‚ MACå­å±‚å°†ä¸Šå±‚çš„æ•°æ®æˆå¸§å¹¶ä¼ è¾“ç»™ç‰©ç†å±‚ã€‚ 5.2.1.1 å¸§çš„æ ¼å¼ ä»¥å¤ªç½‘çš„å¸§åŒ…æ‹¬7ä¸ªå­—æ®µï¼špreambleï¼Œstart frame delimiter (10101011)ï¼Œdestination address, source address, Length or type, Data and paddingå’ŒCRC 5.2.1.2 å¸§çš„é•¿åº¦ ä»¥å¤ªç½‘å¸§çš„æœ€å°é•¿åº¦ï¼š64bytes ä»¥å¤ªç½‘å¸§çš„æœ€å¤§é•¿åº¦ï¼š1518bytes å¯¹åº”åˆ°æœ‰æ•ˆè½½è·ï¼š æœ€å°çš„æœ‰æ•ˆè½½è·ä¸º64 - 18 = 46 æœ€å¤§çš„æœ‰æ•ˆè½½è·ä¸º1518 - 18 = 1500 5.2.1.3 åœ°å€ ä»¥å¤ªç½‘çš„åœ°å€æ˜¯6å­—èŠ‚ï¼ˆ48ä½ï¼‰çš„ï¼Œé€šå¸¸ç”¨åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œå­—èŠ‚é—´ç”¨å†’å·æ–­å¼€ã€‚ Unicastï¼ŒMulticastï¼Œand Broadcast Address æºåœ°å€æ°¸è¿œæ˜¯ä¸€ä¸ªå•æ’­åœ°å€â€”â€”å¸§åªæ¥è‡ªä¸€ä¸ªç«™ç‚¹ ç›®çš„åœ°å€å¯ä»¥æ˜¯å•æ’­åœ°å€ä¹Ÿå¯ä»¥æ˜¯å¤šæ’­åœ°å€ï¼Œè¿˜å¯ä»¥æ˜¯å¹¿æ’­åœ°å€ åœ°å€çš„åŒºåˆ†å’Œä¼ é€ \\begin{cases}å•æ’­åœ°å€ï¼šåœ°å€çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æœ€åä¸€ä½æ˜¯0\\\\å¤šæ’­åœ°å€ï¼šåœ°å€çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„æœ€åä¸€ä½æ˜¯1\\\\å¹¿æ’­åœ°å€ï¼šåœ°å€å…¨ä¸º1\\end{cases} 5.2.2 ç‰©ç†å±‚ 5.2.2.1 ç¼–ç å’Œè§£ç  æ›¼å½»æ–¯ç‰¹ç¼–ç  5.2.2.2 æ ‡å‡†ä»¥å¤ªç½‘åˆ†ç±» ï¼ˆ1ï¼‰10Base5 ç²—ç¼†ä»¥å¤ªç½‘ï¼Œä½¿ç”¨æ”¶å‘å™¨ï¼Œæ”¶å‘å™¨è´Ÿè´£ï¼š ä¼ è¾“ æ¥æ”¶ æ£€æµ‹å†²çª æ”¶å‘å™¨é€šè¿‡æ”¶å‘å™¨çº¿ç¼†ä¸ç«™ç‚¹ç›¸è”ï¼Œæ”¶å‘å™¨ç”µç¼†èƒ½ä¸ºå‘é€å’Œä¼ è¾“æä¾›ç‹¬ç«‹çš„è·¯å¾„ï¼Œå†²çªåªä¼šå‘ç”Ÿåœ¨ç²—è½´ç”µç¼†ä¸­ã€‚ ç²—è½´ç”µç¼†çš„æœ€å¤§é•¿åº¦ä¸èƒ½è¶…è¿‡500ç±³ã€‚æœ€å¤šåˆ†æˆ5æ®µï¼Œä½¿ç”¨ä¸­ç»§å™¨è¿æ¥ã€‚ ï¼ˆ2ï¼‰10Base2 æ”¶å‘å™¨æ˜¯ç½‘å¡çš„ä¸€éƒ¨åˆ†ã€‚æ¯ä¸ªåˆ†æ®µçš„é•¿åº¦æœ€å¤šæ˜¯185ç±³ã€‚ ï¼ˆ4ï¼‰10Base-Tï¼šåŒç»çº¿ä»¥å¤ªç½‘ ä½¿ç”¨ç‰©ç†æ˜Ÿå‹æ‹“æ‰‘ç»“æ„ï¼Œä½¿ç”¨åŒç»çº¿è¿æ¥åˆ°ç½‘ç»œé›†çº¿å™¨ä¸Šã€‚ åŒç»çº¿åœ¨ç«™ç‚¹å’Œç½‘ç»œé›†çº¿å™¨ä¹‹é—´å½¢æˆäº†ä¸¤æ¡è·¯å¾„ï¼ˆä¸€æ¡å‘é€ä¸€æ¡æ¥æ”¶ï¼‰ï¼Œå†²çªå‘ç”Ÿåœ¨é›†çº¿å™¨ä¸­ã€‚ ï¼ˆ5ï¼‰10Base-Fï¼šå…‰çº¤ä»¥å¤ªç½‘ ä½¿ç”¨æ˜Ÿå‹æ‹“æ‰‘ç»“æ„å°†ç«™ç‚¹ä¸ç½‘ç»œé›†çº¿å™¨è”æœºã€‚ 5.3 æ ‡å‡†çš„æ”¹å˜ 5.3.1 æ¡¥æ¥ä»¥å¤ªç½‘ ä»¥å¤ªç½‘å‘å±•çš„ç¬¬ä¸€æ­¥æ˜¯å°†å±€åŸŸç½‘åˆ©ç”¨ç½‘æ¡¥åˆ†å‰²ã€‚ ç½‘æ¡¥åˆ†éš”ï¼Œæé«˜äº†å¸¦å®½ï¼Œåˆ†éš”äº†å†²çªåŸŸã€‚ 5.3.2 äº¤æ¢å¼ä»¥å¤ªç½‘ å¤šä¸ªç«¯å£çš„ç½‘æ¡¥å¯ä»¥å˜æˆNä¸ªç«¯å£çš„äº¤æ¢æœºï¼Œç«™ç‚¹çš„å¸¦å®½ç”±äº¤æ¢æœºå’Œç«™ç‚¹å…±äº«ã€‚å†²çªåŸŸåˆ†ä¸ºNä¸ªï¼š ä¸€ä¸ª2å±‚äº¤æ¢æœºå°±æ˜¯ä¸€ä¸ªNä¸ªç«¯å£çš„ç½‘æ¡¥ï¼š 5.3.3 å…¨åŒå·¥ä»¥å¤ªç½‘ 10Base5å’Œ10Base2æ˜¯åŠåŒå·¥çš„ï¼ˆ10BaseTå§‹ç»ˆæ˜¯å…¨åŒå·¥çš„ï¼‰ ä¸‹ä¸€æ­¥å°±æ˜¯ä»äº¤æ¢å¼ä»¥å¤ªç½‘åˆ°å…¨åŒå·¥ä»¥å¤ªç½‘ã€‚å…¨åŒå·¥æ¨¡å¼å°†ä¸€ä¸ªåŸŸçš„èƒ½åŠ›ä»10Mbpså¢åŠ åˆ°20Mbpsã€‚ åœ¨å…¨åŒå·¥æ¨¡å¼ä¸­ï¼Œåœ¨ç«™ç‚¹ä¸äº¤æ¢æœºä¹‹é—´ä¸æ˜¯ä½¿ç”¨ä¸€æ¡é“¾è·¯ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸¤æ¡é“¾è·¯ï¼š ä¸€ä¸ªç”¨äºä¼ é€ï¼Œä¸€ä¸ªç”¨äºæ¥æ”¶ï¼š 6. æ— çº¿å±€åŸŸç½‘ æ— é™LANåŒ…æ‹¬ï¼š IEEE802.11æ— çº¿å±€åŸŸç½‘ è“ç‰™ 6.1 IEEE 802.11 IEEEå®šä¹‰çš„æ— çº¿å±€åŸŸç½‘çš„è§„èŒƒä¸ºIEEE802.11ï¼Œè¯¥è§„èŒƒè¦†ç›–æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ã€‚ 6.1.1 æ¶æ„ \\begin{cases}åŸºæœ¬æœåŠ¡é›†Basic\\ service \\ set\\\\æ‰©å±•æœåŠ¡é›†åˆExtended\\ service \\ set\\end{cases} 6.1.1.1 åŸºæœ¬æœåŠ¡é›† åŸºæœ¬æœåŠ¡é›†ï¼šæ— çº¿ç½‘ç»œçš„ç§¯æœ¨ ç»„æˆï¼š å›ºå®šçš„æˆ–è€…ç§»åŠ¨çš„ç«™ç‚¹ å¯é€‰çš„ä¸­é—´åŸºç«™ï¼Œç§°ä¸ºè®¿é—®ç‚¹access pointï¼ˆAPï¼‰ å…¶ä¸­ï¼Œå¸¦APçš„ä¸ºåŸºç¡€ç½‘ç»œï¼Œä¸å¸¦APçš„ä¸ºç‰¹åˆ«ç½‘ç»œ åŸºç¡€ç½‘ç»œinfrastructure networkï¼šèƒ½å¤Ÿå‘å…¶ä»–çš„BSSså‘é€æ¶ˆæ¯ ç‰¹åˆ«ç½‘ç»œad hocï¼šä¸èƒ½å‘å…¶ä»–çš„BSSå‘é€æ•°æ®ï¼Œä»–ä»¬èƒ½å¤Ÿç›¸äº’å®šä½ï¼Œå¹¶ä¸”æ‰¿è¯ºæ˜¯BSSçš„ä¸€éƒ¨åˆ† BSS\\begin{cases}ad\\ hoc\\begin{cases}å›ºå®šçš„ç«™ç‚¹\\\\ç§»åŠ¨çš„ç«™ç‚¹\\end{cases}\\\\infrastructure\\ network\\begin{cases}å›ºå®šçš„ç«™ç‚¹\\\\ç§»åŠ¨çš„ç«™ç‚¹\\\\è®¿é—®ç‚¹AP\\end{cases}\\end{cases} 6.1.1.2 æ‰©å±•æœåŠ¡é›† ESSç”±ä¸¤ä¸ªæˆ–è€…æ›´å¤šä¸ªå¸¦æœ‰APçš„BSSç»„æˆã€‚ å„ä¸ªBSSä¹‹é—´ç”±åˆ†å¸ƒå¼ç³»ç»Ÿdistribution systemè¿æ¥ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿè¿æ¥BSSä¸­çš„APã€‚ å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿæ²¡æœ‰ä¸¥æ ¼é™åˆ¶ï¼Œå¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å±€åŸŸç½‘ï¼Œå¦‚ï¼šä»¥å¤ªç½‘ã€‚ æ‰©å±•æœåŠ¡é›†ESSä½¿ç”¨ä¸¤ç§ç±»å‹çš„ç«™ç‚¹ï¼š \\begin{cases}ç§»åŠ¨çš„\\\\å›ºå®šçš„\\end{cases} åœ¨è¿æ¥BSSæ—¶ å¯ä»¥äº’è¾¾çš„ç«™ç‚¹ä¹‹é—´å¯ä»¥ç›¸äº’é€šä¿¡è€Œä¸å¿…ä½¿ç”¨AP ä½äºä¸¤ä¸ªBSSçš„ä¸¤ä¸ªç«™ç‚¹é—´ä¸€èˆ¬è¦è·¨è¿‡ä¸¤ä¸ªAP 6.1.1.3 ç«™ç‚¹ç±»å‹ ä¸‰ç§ç«™ç‚¹ç±»å‹ï¼š ä¸è¿ç§» BSSè¿ç§» ESSè¿ç§» \\begin{cases}ä¸è¿ç§»non-transition\\begin{cases}å›ºå®šä¸ç§»åŠ¨çš„ç«™ç‚¹\\\\åªåœ¨BSSå†…ç§»åŠ¨\\end{cases}\\\\BSSè¿ç§» BSS-transitionï¼šåªåœ¨ä¸€ä¸ªBSSå†…ç§»åŠ¨ï¼Œä½†è¢«é™åˆ¶åœ¨ESSå†…\\\\ESSè¿ç§»ESS-transitionï¼šå¯ä»¥ä»ä¸€ä¸ªESSç§»åŠ¨åˆ°å¦ä¸€ä¸ªESS\\end{cases} 6.1.2 MACå­å±‚ IEEE802.11å®šä¹‰äº†ä¸¤ä¸ªMACå­å±‚ï¼šåˆ†å¸ƒå¼åè°ƒåŠŸèƒ½ï¼ˆDCFï¼‰å’Œç‚¹åè°ƒåŠŸèƒ½ï¼ˆPCFï¼‰ 6.1.2.1 Distributed coordination functionï¼ˆDCFï¼‰ DCFä½¿ç”¨çš„æ˜¯CSMA/CAè€Œä¸æ˜¯CSMA/CDã€‚ ä¸èƒ½ä½¿ç”¨CSMA/CDçš„åŸå› ï¼š å†²çªæ£€æµ‹å¯¹ç«™ç‚¹è¦æ±‚é«˜ï¼Œä¸”å¸¦å®½éœ€æ±‚é«˜ éšè—ç«™ç‚¹å­˜åœ¨ï¼Œå¯èƒ½æ£€æµ‹ä¸åˆ°å†²çª ç«™ç‚¹é—´è·ç¦»å¯èƒ½å¾ˆå¤§ï¼Œä¿¡å·è¡°å‡å¯èƒ½ä½¿å¾—ä¸€ç«¯çš„ç«™ç‚¹æ— æ³•ä¾¦å¬åˆ°å¦ä¸€ç«¯çš„å†²çªã€‚ a.å¤„ç†æµç¨‹å›¾ b.Frame exchange time line åœ¨å‘é€ä¸€ä¸ªå¸§å‰ï¼Œæºç«™ç‚¹é€šè¿‡æ£€æµ‹è½½æ³¢é¢‘ç‡çš„èƒ½é‡æ¥ä¾¦å¬ä»‹è´¨ åœ¨é€šé“ç©ºé—²ä¹‹å‰ä½¿ç”¨å¸¦æœ‰è¡¥å¿çš„æŒç»­ç­–ç•¥ ç«™ç‚¹å‘ç°é€šé“ç©ºé—²ä¹‹åï¼Œä»–ç­‰å¾…ä¸€ä¸ªè¢«ç§°ä½œåˆ†å¸ƒå¼å¸§é—´é—´éš”ï¼ˆDIFSï¼‰çš„æ—¶é—´å‘¨æœŸï¼Œç„¶åå‘é€ä¸€ä¸ªå«åšè¯·æ±‚å‘é€ï¼ˆRTSï¼‰çš„æ§åˆ¶å¸§ã€‚ æ¥æ”¶åˆ°RTSå¹¶ä¸”ç­‰å¾…ä¸€ä¸ªå«åšçŸ­å¸§é—´é—´éš”ï¼ˆSIFSï¼‰çš„çŸ­åœ¨æ—¶é—´åï¼Œç›®çš„ç«™ç‚¹å‘æºç«™ç‚¹å‘é€æ¸…é™¤å‘é€CTSçš„æ§åˆ¶å¸§ï¼Œè¡¨æ˜ç«™ç‚¹å‡†å¤‡æ¥æ”¶æ•°æ®ã€‚ åœ¨ç­‰å¾…ä¸€ä¸ªSIFSåï¼Œæºç«™ç‚¹å‘é€æ•°æ® åœ¨ç­‰å¾…ä¸€ä¸ªSIFSåï¼Œç›®çš„ç«™ç‚¹å‘é€ç¡®è®¤è¯´æ˜å·²ç»æ¥æ”¶åˆ°å¸§ã€‚ ç”±äºä¸æ£€æµ‹ï¼Œæ‰€ä»¥æ— æ³•å¾—çŸ¥æ˜¯å¦å‘ç”Ÿå†²çªï¼Œæ‰€ä»¥éœ€è¦ACKã€‚ c.NAV ç½‘ç»œåˆ†é…çŸ¢é‡ ç½‘ç»œåˆ†é…çŸ¢é‡ï¼šå½“ä¸€ä¸ªç«™ç‚¹å‘é€RTSå¸§æ—¶ï¼Œå®ƒåŒ…å«äº†éœ€è¦å æ®é€šé“çš„æ—¶é—´ã€‚å—åˆ°è¿™ä¸€ä¼ é€å½±å“çš„ç«™ç‚¹å»ºç«‹ä¸€ä¸ªå«åšç½‘ç»œåˆ†é…çŸ¢é‡NAVçš„è®¡æ—¶å™¨ï¼Œè¯¥å®šæ—¶å™¨æŒ‡å‡ºï¼š åœ¨å…è®¸è¿™äº›ç«™ç‚¹æ£€æµ‹é€šé“æ˜¯å¦ç©ºé—²ä¹‹å‰è¿˜éœ€è¦ç­‰å¾…å¤šé•¿æ—¶é—´ã€‚å³ï¼šNAVä¸åˆ°æ—¶ï¼Œä¸éœ€è¦ä¾¦å¬é€šé“ã€‚ d.Collision During Handshaking åœ¨RTSæˆ–è€…CTSæ­£åœ¨å‘é€æ—¶ï¼Œè¿™ä¸€æœŸé—´å«åšæ¡æ‰‹å‘¨æœŸhandshaking periodã€‚å¦‚æœä¸¤ä¸ªæˆ–è€…å¤šä¸ªäº§ç”Ÿäº†å†²çªï¼Œä½†æ˜¯æ²¡æœ‰æ£€æµ‹å†²çªçš„æœºåˆ¶ï¼Œå› æ­¤å‘é€æ–¹åœ¨æ²¡æœ‰ä»æ¥æ”¶æ–¹æ¥æ”¶åˆ°CTSå°±ä»¥ä¸ºäº§ç”Ÿäº†å†²çªï¼Œäºæ˜¯é‡‡å–è¡¥å¿ç­–ç•¥å¹¶é‡æ–°å‘é€ã€‚ 6.1.2.2 ç‚¹åè°ƒåŠŸèƒ½ï¼ˆPCFï¼‰ a.PCFçš„æ¦‚å¿µä¸åŠŸèƒ½ ç‚¹åè°ƒåŠŸèƒ½PCFåœ¨åŸºç¡€ç½‘ç»œçš„BSSä¸­æ˜¯å¯é€‰çš„ã€‚ä¸»è¦ç”¨ä½œå¯¹æ—¶é—´æ•æ„Ÿçš„ä¼ è¾“ã€‚ PCFæ˜¯é›†ä¸­å¼çš„ï¼Œæ— ç«äº‰çš„è½®è¯¢è®¿é—®æ–¹å¼ï¼Œç«™ç‚¹ä¾æ¬¡è¢«è½®è¯¢ï¼Œå°†æ•°æ®å‘ç»™APã€‚ b. PCFçš„IFS PCFçš„ä¼˜å…ˆçº§é«˜äºDCFï¼Œå®šä¹‰äº†å¦ä¸€å¥—å¸§é—´é—´éš”ï¼š PIFSï¼šPIFSæ¯”DIFSçŸ­ SIFSï¼šå’ŒDCFä¸­çš„SIFSä¸€æ · æ„å‘³ç€ï¼šä¸€ä¸ªç«™ç‚¹åªä½¿ç”¨DCFï¼Œè€Œä¸€ä¸ªAPä½¿ç”¨PCFï¼Œé‚£ä¹ˆAPæœ‰ä¼˜å…ˆæƒã€‚ c. é‡å¤é—´éš”çš„è®¾è®¡ ç”±äºPCFçš„ä¼˜å…ˆçº§æ¯”DCFçš„ä¼˜å…ˆçº§é«˜ï¼Œå¯èƒ½å¯¼è‡´åªä½¿ç”¨DCFçš„ç«™ç‚¹å¾—ä¸åˆ°å¯¹ä»‹è´¨çš„è®¿é—®ã€‚äºæ˜¯è®¾è®¡äº†é‡å¤é—´éš”repetition intervalã€‚ é‡å¤é—´éš”repetition interval ä¼šæŒç»­é‡å¤ï¼Œå¼€å§‹äºä¸€ä¸ªä¿¡å·å¸§beacon frameçš„ç‰¹æ®Šæ§åˆ¶å¸§ï¼Œç»ˆç»“äºPCå‘é€CFã€‚ 6.1.2.3 å¸§æ ¼å¼ MACå±‚åŒ…æ‹¬9ä¸ªå­—æ®µï¼š 6.1.3 åœ°å€ FCä¸­çš„ä¸¤ä¸ªå­—æ®µfrom DSå’Œto DSå®šä¹‰ï¼Œæ¯ä¸ªå­—æ®µå¯èƒ½æ˜¯0æˆ–è€…1ã€‚ å®šä¹‰å››ç§æƒ…å†µï¼š to DS from DS åœ°å€1 åœ°å€2 åœ°å€3 åœ°å€4 0 0 ç›®çš„åœ°å€ æºåœ°å€ BSS ID N/A 0 1 ç›®çš„åœ°å€ å‘é€AP æºåœ°å€ N/A 1 0 æ¥æ”¶AP æºåœ°å€ ç›®çš„åœ°å€ N/A 1 1 æ¥æ”¶AP å‘é€AP ç›®çš„åœ°å€ æºåœ°å€ åœ°å€1ï¼šæ€»æ˜¯ä¸‹ä¸€ä¸ªè®¾å¤‡çš„åœ°å€ åœ°å€2ï¼šæ€»æ˜¯å‰ä¸€ä¸ªè®¾å¤‡çš„åœ°å€ å¦‚æœç›®çš„åœ°å€æ²¡æœ‰è¢«åœ°å€1å®šä¹‰ï¼Œé‚£ä¹ˆåœ°å€3æ˜¯ç›®çš„åœ°å€ï¼›å¦‚æœæºåœ°å€æ²¡æœ‰è¢«åœ°å€2å®šä¹‰ï¼Œé‚£ä¹ˆåœ°å€3æ˜¯æºåœ°å€ã€‚ 7. å¸¸è§ç½‘ç»œè®¾å¤‡ 7.1 Connecting Devices è¿æ¥è®¾å¤‡åˆ†ä¸º5ç±»ï¼š 7.1.1 æ— æºé›†çº¿å™¨ æ— æºé›†çº¿å™¨åªæ˜¯ä¸ªè¿æ¥å™¨ï¼Œè¿æ¥æ¥è‡ªä¸åŒåˆ†æ”¯çš„çº¿è·¯ã€‚ åœ¨æ˜Ÿå‹æ‹“æ‰‘ä¸­ï¼Œæ— æºé›†çº¿å™¨åªæ˜¯ä¸€ä¸ªæ¥è‡ªä¸åŒç«™ç‚¹çš„ä¿¡å·å†²çªç‚¹ï¼Œé›†çº¿å™¨æ˜¯å†²çªç‚¹ã€‚æ— æºé›†çº¿å™¨å·¥ä½œåœ¨ç‰©ç†å±‚ä»¥ä¸‹ã€‚ 7.1.2 ä¸­ç»§å™¨ 7.1.2.1 å·¥ä½œå±‚æ¬¡ repeaterä»…å·¥ä½œåœ¨ç‰©ç†å±‚ã€‚ 7.1.2.2 åŠŸèƒ½ ä¿¡å·çš„é‡ç”Ÿ ä¸­ç»§å™¨èƒ½å¤Ÿæ¥æ”¶ä¿¡å·ï¼Œåœ¨ä¿¡å·å˜å¾—å¾ˆå¼±æˆ–è€…è¢«ç ´åå‰ï¼Œé‡æ–°ç”ŸæˆåŸå§‹çš„ä½æ¨¡å¼ï¼Œç„¶åå‘é€æ–°ç”Ÿæˆçš„ä¿¡å·ã€‚ä¸­ç»§å™¨åªé‡æ–°ç”Ÿæˆä¿¡å·ï¼Œå¹¶ä¸æ”¾å¤§ä¿¡å·ã€‚ è¿æ¥ä¸€ä¸ªå±€åŸŸç½‘çš„ä¸¤æ®µ ä¸­ç»§å™¨å®é™…å¹¶ä¸èƒ½è¿æ¥ä¸¤ä¸ªå±€åŸŸç½‘ï¼Œè¿æ¥çš„æ˜¯åŒä¸€å±€åŸŸç½‘çš„ä¸¤ä¸ªåˆ†æ®µã€‚æ‰€è¿æ¥çš„ç½‘æ®µä»ç„¶æ˜¯ä¸€ä¸ªå±€åŸŸç½‘çš„ä¸€éƒ¨åˆ†ã€‚ä¸­ç»§å™¨ä¸èƒ½è¿æ¥é‡‡ç”¨ä¸åŒåè®®çš„ä¸¤ä¸ªå±€åŸŸç½‘ã€‚ ä¸­ç»§å™¨å¯ä»¥å…‹æœ10Base5ä»¥å¤ªç½‘æ ‡å‡†çš„é•¿åº¦é™åˆ¶ã€‚ä½¿ç”¨ä¸­ç»§å™¨è¿æ¥å„ä¸ªç½‘æ®µsegementã€‚ æ²¡æœ‰è¿‡æ»¤èƒ½åŠ› è¿‡æ»¤å¸§çš„èƒ½åŠ›ï¼šè¯»å–å¸§é¦–éƒ¨ä¿¡æ¯ï¼Œå†³å®šæ˜¯å¦è½¬å‘ï¼Œå¦‚ä½•è½¬å‘ã€‚ ä¸­ç»§å™¨è½¬å‘æ¯ä¸€å¸§ï¼Œæ²¡æœ‰è¿‡æ»¤èƒ½åŠ›ã€‚ ä¸­ç»§å™¨å¸¸ç”¨äºæ˜Ÿå‹æ‹“æ‰‘ç»“æ„ä¸­ï¼Œå¯ä»¥å¤šçº§çº§è”ã€‚ 7.1.3 æœ‰æºé›†çº¿å™¨ 7.1.3.1 å·¥ä½œå±‚æ¬¡ æœ‰æºé›†çº¿å™¨æ˜¯ä¸€ä¸ªå¤šç«¯å£çš„ä¸­ç»§å™¨ã€‚å¸¸ç”¨äºæ˜Ÿå‹æ‹“æ‰‘ä¸­ã€‚ é›†çº¿å™¨å’Œç½‘çº¿ä¸€æ ·å·¥ä½œåœ¨ç‰©ç†å±‚ï¼ŒåŠŸèƒ½å’Œç½‘çº¿ä¸€æ ·ï¼Œåªæ˜¯å°†æ•°å­—ä¿¡å·å‘é€åˆ°å…¶ä»–çš„ç«¯å£ï¼Œä¸èƒ½è¯†åˆ«å¸§é¦–éƒ¨çš„ä¿¡æ¯ã€‚ 7.1.3.2 åŠŸèƒ½ æ•°å­—ä¿¡å·å‘é€åˆ°å…¶ä»–çš„ç«¯å£ã€‚ 7.1.3.3 å¸¦å®½å’Œå¹¿æ’­åŸŸ å¸¦å®½ é›†çº¿å™¨ç»„å»ºçš„ä»¥å¤ªç½‘å…±äº«å¸¦å®½ï¼Œè®¡ç®—æœºæ•°é‡è¶Šå¤šï¼Œå¹³å‡å¸¦å®½å°±è¶Šä½ã€‚ å®‰å…¨æ€§ æ— è®ºMACåœ°å€æ˜¯å¦æ˜¯è‡ªå·±çš„ï¼Œéƒ½èƒ½æ•è·ã€‚ å†²çªåŸŸ çº§è”ä»¥åçš„ä»¥å¤ªç½‘è®¡ç®—æœºå¤„äºä¸€ä¸ªå†²çªåŸŸå†…ã€‚å¢å¤§äº†å†²çªçš„æ¦‚ç‡ï¼Œæ¯å°è®¡ç®—æœºåˆ†åˆ°çš„å¸¦å®½ä¹Ÿé™ä½äº†ã€‚ æ¥å£å¸¦å®½ ç›¸è”çš„æ¥å£å¸¦å®½è¦ä¸€æ ·ã€‚å¦‚æœæ•°æ®é€Ÿç‡ä¸ä¸€è‡´ï¼Œé‚£ä¹ˆå·¥ä½œåœ¨è¾ƒä½çš„æ•°æ®é€Ÿç‡ï¼Œå› ä¸ºé›†çº¿å™¨æ¥å£ä¸èƒ½ç¼“å­˜å¸§ã€‚ 7.1.4 ç½‘æ¡¥ 7.1.4.1 å·¥ä½œå±‚æ¬¡ ç½‘æ¡¥å·¥ä½œåœ¨ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚ã€‚ ç”¨ä½œç‰©ç†è®¾å¤‡æ—¶ï¼Œé‡æ–°ç”Ÿæˆæ¥æ”¶åˆ°çš„ä¿¡å·ã€‚ ä½œä¸ºæ•°æ®é“¾è·¯å±‚è®¾å¤‡æ—¶ï¼Œå¯ä»¥æ£€æŸ¥å¸§åŒ…å«çš„MACåœ°å€ 7.1.4.2 è¿‡æ»¤ ç½‘æ¡¥ä¸ä¸­ç»§å™¨ä¸åŒçš„åœ°æ–¹åœ¨äºç½‘æ¡¥æœ‰è¿‡æ»¤åŠŸèƒ½ã€‚ ç½‘æ¡¥å…·æœ‰ä¸€ä¸ªç”¨è¿‡è¿‡æ»¤å†³ç­–çš„è¡¨ï¼Œæœ‰è¿‡æ»¤ä½œç”¨ã€‚è½¬å‘å¸§æ—¶å¿…é¡»æŒ‡å®šç«¯å£ã€‚æ£€æŸ¥å¸§çš„ç›®çš„åœ°å€ã€‚ 7.1.4.3 ç½‘æ¡¥ç»„ç½‘çš„ç‰¹ç‚¹ ç½‘æ¡¥åŸºäºMACåœ°å€è½¬å‘å¸§ï¼Œè½¬å‘ä¹‹å‰è¿è¡ŒCSMA/CDç®—æ³•ã€‚ ç½‘æ¡¥çš„ä¸€ä¸ªæ¥å£æ˜¯ä¸€ä¸ªå†²çªåŸŸï¼Œå†²çªåŸŸçš„æ•°é‡å¢åŠ ï¼Œä½†æ˜¯å†²çªçš„æ¦‚ç‡å‡å°‘ã€‚ å®ç°å¸§çš„å­˜å‚¨è½¬å‘ï¼Œå¢åŠ äº†æ—¶å»¶ã€‚ ç½‘æ¡¥çš„æ¥å£å¯ä»¥æ˜¯ä¸åŒçš„å¸¦å®½ã€‚ 7.1.4.4 é€æ˜ç½‘æ¡¥ é€æ˜ç½‘æ¡¥æŒ‡çš„æ˜¯ç«™ç‚¹æ„è¯†ä¸åˆ°æ¡¥çš„å­˜åœ¨ã€‚ 802.1dè§„å®šäº†é€æ˜ç½‘æ¡¥çš„ç‰¹ç‚¹ï¼š å¸§å¿…é¡»èƒ½ä»ä¸€ä¸ªç«™ç‚¹è½¬å‘åˆ°å¦ä¸€ä¸ªç«™ç‚¹ å­¦ä¹ å¸§ä¸­çš„åœ°å€ï¼Œè‡ªåŠ¨å»ºç«‹è½¬å‘è¡¨ é¿å…å½¢æˆå¾ªç¯Loopé—®é¢˜ 7.1.5 ä¸¤å±‚äº¤æ¢æœº ä¸¤å±‚äº¤æ¢æœºæ˜¯ä¸€ä¸ªæ‹¥æœ‰è®¸å¤šç«¯å£å¹¶ä¸”æœ‰æ›´å¥½æ›´å¿«æ€§èƒ½çš„ç½‘æ¡¥ã€‚ å¤šç«¯å£çš„ç½‘æ¡¥å¯ä»¥ç»™æ¯ä¸ªç«™ç‚¹åˆ†é…å”¯ä¸€çš„ç«¯å£ï¼Œæ¯ä¸ªç«™ç‚¹éƒ½ä½œä¸ºç‹¬ç«‹çš„å®ä½“ã€‚æ²¡æœ‰å†²çªã€‚ 7.1.5.1 ä¸¤å±‚äº¤æ¢æœºçš„ç‰¹ç‚¹ ç«¯å£ç‹¬äº«å¸¦å®½ï¼ŒHubæ˜¯å…±äº«å¸¦å®½ å®‰å…¨ï¼šäº¤æ¢æœºæ ¹æ®MACåœ°å€åªè½¬å‘åˆ°ç›®æ ‡ç«¯å£ å…¨åŒå·¥é€šä¿¡ ä¸å†ä½¿ç”¨CSMA/CD æ¥å£å¯ä»¥å·¥ä½œåœ¨ä¸åŒçš„é¢‘ç‡ï¼Œäº¤æ¢æœºä½¿ç”¨å­˜å‚¨è½¬å‘æŠ€æœ¯ è½¬å‘å¹¿æ’­å¸§ï¼šè½¬å‘é™¤äº†å‘é€ç«¯å£ä»¥å¤–çš„å…¶ä»–ç«¯å£ 7.1.5.2 äºŒå±‚äº¤æ¢æœºçš„ç±»å‹ a.å­˜å‚¨è½¬å‘å¼ Store and forward ä»è¾“å…¥çº¿è·¯ä¸Šæ¥æ”¶å¸§ï¼Œç¼“å­˜ï¼Œé€šè¿‡è·¯ç”±é€‰æ‹©å°†å…¶å‘é€åˆ°é€‚å½“çš„è¾“å‡ºçº¿è·¯ä¸Šã€‚å‘é€æ–¹å’Œæ¥æ”¶æ–¹å­˜åœ¨å»¶è¿Ÿï¼Œå¢è¿›äº†ç½‘ç»œçš„æ•´ä½“ä¸€è‡´æ€§ã€‚ b.ç›´é€šå¼ Cut through åˆ©ç”¨äº†ç›®çš„åœ°å€æ€»æ˜¯å‡ºç°åœ¨MACå¸§çš„æœ€å‰é¢çš„ç‰¹ç‚¹ã€‚äº¤æ¢æœºè¯†åˆ«å‡ºç›®çš„åœ°å€åå°±å°†å¸§è½¬å‘åˆ°é€‚å½“çš„è¾“å‡ºçº¿è·¯èƒ½å¤Ÿè¾¾åˆ°å¾ˆé«˜çš„ååé‡ã€‚ 7.1.6 è·¯ç”±å™¨ è·¯ç”±è¡¨ä¸­åŒ…å«äº†ä¸‹é¢çš„ä¿¡æ¯ï¼š ç›®çš„åœ°å€ æ©ç  è¾“å‡ºæ¥å£ ä¸‹ä¸€è·³çš„IPåœ°å€ï¼šè¯´æ˜IPæ•°æ®æŠ¥æ‰€ç»ç”±çš„ä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„æ¥å£åœ°å€ 7.1.7 Three Layers Switches ä¸‰å±‚äº¤æ¢æœºæ˜¯è·¯ç”±å™¨ï¼Œä½†æ˜¯æ›´å¿«ä¸”æ›´å¤æ‚ 7.2 Virtual LAN 7.2.1 VLANçš„æ¦‚å¿µ é€šè¿‡è½¯ä»¶è€Œä¸æ˜¯ç‰©ç†çº¿è·¯æ¥é…ç½®ä¸€ä¸ªå±€åŸŸç½‘ï¼Œç§°ä¸ºè™šæ‹Ÿå±€åŸŸç½‘ã€‚ 7.2.2 VLANçš„ç‰¹ç‚¹ ä¸€ä¸ªLANå¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ªVLANï¼Œæ¯ä¸ªVLANæ˜¯ä¸€ä¸ªå·¥ä½œç»„ã€‚ å…è®¸è¿æ¥åœ¨ä¸åŒçš„äº¤æ¢æœºä¸Šçš„ç«™ç‚¹ç»„æˆä¸€ä¸ªVLANã€‚ åŒä¸€ä¸ªVLANä¸­çš„ç«™ç‚¹é€šä¿¡æ—¶ï¼Œå°±åƒä»–ä»¬å±äºåŒä¸€ä¸ªç‰©ç†ç½‘æ®µä¸€æ ·ã€‚ VLANå°†å±äºä¸€ä¸ªæˆ–è€…å¤šä¸ªç‰©ç†ç«™ç‚¹çš„LANåˆ†ç»„åˆ°ä¸€ä¸ªå¹¿æ’­åŸŸä¸­ã€‚ 7.2.3 VLANçš„åˆ’åˆ†æ–¹å¼ åŸºäºç«¯å£ï¼šä½¿ç”¨äº¤æ¢æœºçš„ç«¯å£ åŸºäºMACåœ°å€ï¼šä½¿ç”¨48ä½MACåœ°å€ï¼Œè§„å®šæŸä¸ªMACåœ°å€çš„ä¸»æœºå±äºæŸä¸ªVLAN åŸºäºIPåœ°å€ï¼š32ä½IPåœ°å€ åŸºäºå¤šæ’­IPåœ°å€ 7.2.4 é»˜è®¤VLAN é»˜è®¤VLANæ˜¯äº¤æ¢æœºåˆå§‹å°±æœ‰çš„VLANï¼Œé€šå¸¸IDä¸º1ï¼Œæ‰€æœ‰çš„æ¥å£éƒ½å¤„äºè¿™ä¸ªVLANä¸‹ï¼Œè¿™å°±æ˜¯æ‰€æœ‰è®¾å¤‡è¿æ¥åˆ°äº¤æ¢æœºä¸Šå°±èƒ½ç›¸äº’é€šä¿¡çš„åŸå› ã€‚ VLAN IDæœ€å¤šæœ‰$2^{12}$ä¸ªï¼ŒVLAN0å’ŒVLAN4095ä¿ç•™ã€‚ 7.2.5 äº¤æ¢æœºçš„ä¸‰ç§é“¾è·¯ç±»å‹ accessæ¨¡å¼ï¼šä¸è®¡ç®—æœºç«¯å£ç›´è¿ trunkæ¨¡å¼ï¼šå…è®¸å¤šä¸ªVLANå¸§é€šè¿‡ hybridæ¨¡å¼ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®¡ç½‘å¤ä¹ ç¬”è®°/ç½‘ç»œå±‚.html":{"url":"è®¡ç½‘å¤ä¹ ç¬”è®°/ç½‘ç»œå±‚.html","title":"ç½‘ç»œå±‚","keywords":"","body":"ç½‘ç»œå±‚ ç½‘ç»œå±‚çš„é€šä¿¡ï¼šä¸»æœºåˆ°ä¸»æœº 1. é€»è¾‘å¯»å€ IP addressï¼šTCP/IPä¸­çš„é€»è¾‘åœ°å€ã€‚ IPv4â€”â€”32ä½ï¼Œ$2^{32}$ä¸ªåœ°å€ IPv6â€”â€”128ä½ï¼Œ$2^{128}$ä¸ªåœ°å€ 1.1 IPv4åœ°å€ IPv4åœ°å€æ˜¯å”¯ä¸€çš„ã€‚å”¯ä¸€æŒ‡çš„æ˜¯æ¯ä¸€ä¸ªåœ°å€å®šä¹‰äº†åœ¨å› ç‰¹ç½‘ä¸Šä»…æœ‰ä¸€ä¸ªè®¾å¤‡ã€‚å› ç‰¹ç½‘ä¸Šçš„è®¾å¤‡æ°¸è¿œä¸ä¼šæœ‰åŒæ ·çš„åœ°å€ã€‚ 1.1.1 åœ°å€ç©ºé—´ åœ°å€ç©ºé—´æŒ‡çš„æ˜¯æŒ‡è¯¥åè®®èƒ½ç”¨çš„åœ°å€çš„æ€»ä¸ªæ•°ã€‚ IPv4èƒ½ç”¨çš„åœ°å€çš„æ€»ä¸ªæ•°ä¸º$2^{32}$ã€‚ 1.1.2 è¡¨ç¤ºæ³• ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ³•ï¼Œæ¯ä¸ªç‚¹åˆ†æ•°çš„èŒƒå›´ä¸º0~255 1.1.3 åˆ†ç±»å¯»å€ åˆ†ç±»å¯»å€ä¸­ï¼Œåœ°å€ç©ºé—´è¢«åˆ†ä¸ºAï¼ŒBï¼ŒCï¼ŒDå’ŒEäº”ç±» å½“ä¸€ä¸ªåœ°å€ç”¨äºŒè¿›åˆ¶æˆ–è€…ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ—¶ï¼Œå¯ä»¥ç”±å¼€å¤´å‰å‡ ä½æ±‚å‡ºåœ°å€çš„ç±»å‹ï¼š æ³¨æ„ï¼ŒDç±»å’ŒEç±»æ˜¯æ²¡æœ‰ä¸»æœºå·çš„ã€‚ 1.1.3.1 ç±»å’Œå— ï¼ˆ1ï¼‰Aç±»åœ°å€ ä¸ºé‚£äº›å…·æœ‰å¤§é‡çš„ä¸»æœºæˆ–è€…è·¯ç”±å™¨çš„å¤§å‹ç»„ç»‡æœºæ„è®¾è®¡ IP:={\\,\\} ç½‘ç»œå·ï¼š$2^7-2=126$ ç½‘ç»œå·å­—æ®µå…¨ä¸º0çš„IPåœ°å€ä¸ºä¿ç•™åœ°å€ï¼Œæ„ä¸ºæœ¬ç½‘ç»œ ç½‘ç»œå·ä¸º127ï¼ˆ01111111ï¼‰ä¿ç•™ä¸ºæœ¬åœ°è½¯ä»¶ç¯å›æµ‹è¯•ï¼ˆloopback testï¼‰æœ¬ä¸»æœºè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ç”¨ ä¸»æœºå·ï¼š$2^{24}-2$ å…¨0çš„ä¸»æœºå·è¡¨ç¤ºæ˜¯â€œæœ¬ä¸»æœºâ€è¿æ¥åˆ°çš„å•ä¸ªç½‘ç»œåœ°å€ å…¨1ä¸»æœºå·å­—æ®µè¡¨ç¤ºçš„æ˜¯è¯¥ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœº Aç±»åœ°å€å æ‰€æœ‰çš„åœ°å€çš„50% ï¼ˆ2ï¼‰Bç±»åœ°å€ ä¸ºä¸­å‹æœºæ„è®¾è®¡ IP:={\\,\\} ç½‘ç»œå·ï¼š$2^{14}-1$ ç½‘ç»œå·å…¨0çš„128.0.0.0ä¸æŒ‡æ´¾ï¼ŒBç±»çš„æœ€å°ç½‘ç»œåœ°å€æ˜¯128.1.0.0 ä¸»æœºå·ï¼š$2^{16}-2$ å»é™¤å…¨0å’Œå…¨1çš„ä¸»æœºå· Bç±»åœ°å€ç©ºé—´å æ•´ä¸ªIPç©ºé—´çš„25% ï¼ˆ3ï¼‰Cç±»åœ°å€ ä¸ºå°å‹æœºæ„è®¾è®¡ IP:={\\,\\} ç½‘ç»œå·ï¼š$2^{21}-1$ å…¨0çš„ä¸äºˆæŒ‡æ´¾ ä¸»æœºå·ï¼š$2^8-2=254$ æ‰£é™¤å…¨0å’Œå…¨1çš„ä¸»æœºå· Cç±»åœ°å€å æ•´ä¸ªIPç©ºé—´çš„12.5% ï¼ˆ4ï¼‰Dç±»åœ°å€ å¤šæ’­å¯å‘é€ä¸€ä¸ªæ¶ˆæ¯ç»™åŒä¸€å¤šæ’­ç»„ä¸­çš„ä¸€ç»„æˆå‘˜è®¾å¤‡ã€‚ ä¸¤ç§å¤šæ’­ ï¼ˆ5ï¼‰Eç±»åœ°å€ ä¸ºå°†æ¥ä½¿ç”¨è€Œä¿ç•™ 1.1.3.2 æ©ç  Aç±»ï¼ŒBç±»ï¼ŒCç±»çš„æ©ç å¦‚ä¸‹ï¼š ä»¥/nçš„å½¢å¼è¡¨ç¤ºæ©ç ï¼Œåœ¨classful Addressingä¸­næ˜¯8,16å’Œ24.è¿™ç§æ ‡è®°æ³•ç§°ä¸ºClassless Interdomain Routingï¼ˆæ— ç±»åŸŸé—´è·¯ç”±é€‰æ‹© CIDRï¼‰ Dç±»å’ŒEç±»æ²¡æœ‰æ©ç . 1.1.3.3 ç§æœ‰ç½‘ç»œ åœ¨IPåœ°å€ç©ºé—´ä¸­ï¼Œä¿ç•™äº†å‡ ä¸ªç”¨äºç§æœ‰ç½‘ç»œçš„åœ°å€ã€‚ç§æœ‰ç½‘ç»œå¸¸ç”¨äºå…¬å¸ï¼Œç»„ç»‡å’Œä¸ªäººç½‘ç»œï¼Œä»–ä»¬æ²¡æœ‰ç½®äºå› ç‰¹ç½‘ä¸­ Aç±»ï¼š10.0.0.0~10.255.255.255 Bç±»ï¼š172.16.0.0 ~ 172.31.255.255 Cç±»ï¼š192.168.0.0~192.168.255.255 1.1.3.4 å­ç½‘åŒ– åˆ’åˆ†å­ç½‘çº¯å±ä¸€ä¸ªå•ä½å†…éƒ¨çš„äº‹æƒ…ã€‚å•ä½å¯¹å¤–ä»ç„¶è¡¨ç°ä¸ºæ²¡æœ‰åˆ’åˆ†å­ç½‘çš„ç½‘ç»œã€‚ ä»ä¸»æœºå·å€Ÿç”¨è‹¥å¹²ä¸ªä½ä½œä¸ºå­ç½‘å·subnet-idï¼Œè€Œä¸»æœºå·Host-idä¹Ÿå°±ç›¸åº”å‡å°‘äº†è‹¥å¹²ä¸ªä½ IP ::= \\{,,\\} å‡¡æ˜¯ä»å…¶ä»–ç½‘ç»œå‘é€ç»™æœ¬å•ä½æŸä¸ªä¸»æœºçš„IPæ•°æ®æŠ¥ï¼Œä»ç„¶æ˜¯æ ¹æ® IP æ•°æ®æŠ¥çš„ç›®çš„ç½‘ç»œå·net-idï¼Œå…ˆæ‰¾åˆ°è¿æ¥åœ¨æœ¬å•ä½ç½‘ç»œä¸Šçš„è·¯ç”±å™¨ã€‚ ç„¶åæ­¤è·¯ç”±å™¨åœ¨æ”¶åˆ° IP æ•°æ®æŠ¥åï¼Œå†æŒ‰ç›®çš„ç½‘ç»œå· net-id å’Œå­ç½‘å· subnet-id æ‰¾åˆ°ç›®çš„å­ç½‘ã€‚ æœ€åå°±å°† IP æ•°æ®æŠ¥ç›´æ¥äº¤ä»˜ç›®çš„ä¸»æœºã€‚ å½“æ²¡æœ‰åˆ’åˆ†å­ç½‘æ—¶ï¼ŒIPåœ°å€æ˜¯ä¸¤çº§ç»“æ„ï¼› åˆ’åˆ†å­ç½‘åIPåœ°å€å˜æˆäº†ä¸‰çº§ç»“æ„ åˆ’åˆ†å­ç½‘åªæ˜¯æŠŠIPåœ°å€çš„ä¸»æœºå·host-idè¿™éƒ¨åˆ†å†è¿›è¡Œåˆ’åˆ†ï¼Œè€Œä¸æ”¹å˜IPåœ°å€åŸæ¥çš„ç½‘ç»œå·net-id ä»ä¸€ä¸ª IP æ•°æ®æŠ¥çš„é¦–éƒ¨å¹¶æ— æ³•åˆ¤æ–­æºä¸»æœºæˆ–ç›®çš„ä¸»æœºæ‰€è¿æ¥çš„ç½‘ç»œæ˜¯å¦è¿›è¡Œäº†å­ç½‘åˆ’åˆ†ã€‚ ä½¿ç”¨å­ç½‘æ©ç å¯ä»¥æ‰¾å‡ºIPåœ°å€ä¸­çš„å­ç½‘éƒ¨åˆ† 1.1.3.5 å­ç½‘æ©ç å’Œç½‘å…³çš„ä½œç”¨ ä¸¤å°è®¡ç®—æœºé€šä¿¡çš„è¿‡ç¨‹ï¼š 1.åˆ¤æ–­è‡ªå·±ä¸å¯¹æ–¹æ˜¯å¦åœ¨åŒä¸€ç½‘æ®µ è‡ªå·±çš„IPåœ°å€ä¸æ©ç è¿›è¡ŒANDè¿ç®—å¾—åˆ°è‡ªå·±æ‰€åœ¨çš„ç½‘æ®µ å¯¹æ–¹çš„IPä¸è‡ªå·±çš„ç½‘æ®µæ©ç è¿›è¡ŒAND æ¯”è¾ƒäºŒè€…æ˜¯å¦ç›¸åŒï¼Œä¸ç›¸åŒè½¬2ï¼Œç›¸åŒè½¬3 2.ä¸ç›¸åŒï¼ŒäºŒè€…ä¸åœ¨åŒä¸€ç½‘æ®µã€‚å°è£…å¸§æ—¶ä»¥ç½‘å…³çš„MACåœ°å€ä½œä¸ºç›®çš„MACåœ°å€ï¼Œäº¤æ¢æœºä¼šæŠŠå¸§äº¤ç»™è·¯ç”±å™¨æ¥å£ 3.ç›¸åŒï¼ŒäºŒè€…åœ¨åŒä¸€ç½‘æ®µã€‚å°è£…å¸§æ—¶ç›´æ¥ä½¿ç”¨ç›®æ ‡ä¸»æœºIPçš„MACåœ°å€ä½œä¸ºç›®çš„MACåœ°å€ï¼Œç›´æ¥å°†å¸§å‘ç»™ç›®æ ‡åœ°å€ EXAMPLE: ï¼ˆaï¼‰Aå’ŒBå¯ä»¥äº’é€š ï¼ˆbï¼‰Aå¯ä»¥å‘ç»™Bï¼Œä½†æ˜¯Bæ— æ³•å‘ç»™A 1.1.4 æ— ç±»å¯»å€ æ— ç±»ç¼–å€ä»æä¾›äº†åœ°å€å— ç½‘ç»œå‰ç¼€æ¥æ›¿ä»£ç½‘ç»œå·å’Œå­ç½‘å· ä¸‰çº§ç¼–å€ -----> ä¸¤çº§ç¼–å€ 1.1.4.1 åœ°å€å— åœ¨æ— ç±»å¯»å€ä¸­ï¼Œå½“ä¸€ä¸ªå°çš„æˆ–è€…å¤§çš„å®ä½“éœ€è¦è¿æ¥å› ç‰¹ç½‘æ—¶ï¼Œç»™ä»–åˆ†é…ä¸€ä¸ªåˆé€‚çš„åœ°å€å—ã€‚ å—çš„å¤§å°ï¼ˆåœ°å€çš„ä¸ªæ•°ï¼‰æŒ‰å®ä½“å¤§å°è§„æ¨¡ä¸æ€§è´¨æ¥å†³å®šã€‚ Restrictionsï¼š å—ä¸­çš„åœ°å€å¿…é¡»æ˜¯ä¸€ä¸ªæ¥ç€ä¸€ä¸ªè¿ç»­çš„ ä¸€ä¸ªå—ä¸­çš„åœ°å€çš„ä¸ªæ•°æ˜¯2çš„æ•´æ•°æ¬¡å¹‚ï¼ˆ1,2,4,8...ï¼‰ å—çš„èµ·å§‹åœ°å€å¿…é¡»èƒ½è¢«åœ°å€çš„ä¸ªæ•°æ•´é™¤ 1.1.4.2 CIDR CIDRçš„ç‰¹ç‚¹ï¼š CIDR æ¶ˆé™¤äº†ä¼ ç»Ÿçš„ A ç±»ã€B ç±»å’Œ C ç±»åœ°å€ä»¥åŠåˆ’åˆ†å­ç½‘çš„æ¦‚å¿µï¼Œå› è€Œå¯ä»¥æ›´åŠ æœ‰æ•ˆåœ°åˆ†é… IPv4 çš„åœ°å€ç©ºé—´ã€‚ CIDRä½¿ç”¨å„ç§é•¿åº¦çš„â€œç½‘ç»œå‰ç¼€â€ (network-prefix)æ¥ä»£æ›¿åˆ†ç±»åœ°å€ä¸­çš„ç½‘ç»œå·å’Œå­ç½‘å·ã€‚ IP ::= \\{,\\} IPåœ°å€ä»ä¸‰çº§åœ°å€åˆå›åˆ°äº†äºŒçº§åœ°å€ CIDRæŠŠç½‘ç»œå‰ç¼€éƒ½ç›¸åŒçš„è¿ç»­IPåœ°å€ç»„æˆâ€œCIDRåœ°å€å—â€ 1.1.5 NATè·¯ç”±è½¬æ¢ èƒŒæ™¯ï¼šå®¶åº­ç”¨æˆ·å’Œå°å‹å•†ä¸šå…¬å¸çš„éœ€æ±‚å¢åŠ ï¼ŒIPåœ°å€çŸ­ç¼º NATï¼šä½¿ç”¨æˆ·åœ¨å†…éƒ¨æ‹¥æœ‰å¤§é‡çš„åœ°å€ï¼Œåœ¨å¤–éƒ¨æ‹¥æœ‰å°‘é‡çš„åœ°å€ã€‚ Address for private networksä¸“ç”¨åœ°å€ï¼šç»„ç»‡å†…éƒ¨å”¯ä¸€ï¼Œå…¨çƒèŒƒå›´å†…ä¸å”¯ä¸€ã€‚ä½¿ç”¨æ—¶ä¸å¿…å‘å› ç‰¹ç½‘ç®¡ç†æœºæ„ç”³è¯· global addresså…¨çƒåœ°å€ï¼šå…¨çƒå”¯ä¸€IPåœ°å€ï¼Œä½¿ç”¨å¿…é¡»å‘å› ç‰¹ç½‘ç®¡ç†æœºæ„ç”³è¯· è·¯ç”±å™¨å°†ä¸€ä¸ªä¸“ç”¨ç½‘ç»œä¸å…¨å±€å› ç‰¹ç½‘ç›¸è¿çš„è·¯ç”±å™¨æœ‰ä¸¤ä¸ªåœ°å€ï¼š private address:172.18.3.30 global address:200.24.5.8 1.1.5.1 åœ°å€è½¬æ¢ æ‰€æœ‰å¤–å‘çš„åˆ†ç»„éƒ½é€šè¿‡NATè·¯ç”±å™¨å‘é€å‡ºæ¥ï¼Œè¯¥è·¯ç”±å™¨ç”¨å…¨çƒNATåœ°å€æ¥æ›¿ä»£åˆ†ç»„ä¸­çš„æºåœ°å€ã€‚ æ‰€æœ‰çš„è¾“å…¥ä¹Ÿè¦é€šè¿‡NATè·¯ç”±å™¨ï¼Œè¯¥è·¯ç”±å™¨ç”¨ç›¸åº”çš„ä¸“ç”¨åœ°å€æ¥ä»£æ›¿åˆ†ç»„ä¸­çš„ç›®çš„åœ°å€ã€‚ 1.1.5.2 è½¬æ¢è¡¨ å¦‚ä½•çŸ¥é“æ¥è‡ªå› ç‰¹ç½‘çš„åˆ†ç»„çš„ç›®çš„åœ°å€ï¼Ÿæ¯ä¸ªä¸“ç”¨çš„IPåœ°å€å±äºæŸä¸ªç‰¹å®šçš„ä¸»æœºï¼ŒNATè·¯ç”±å™¨æœ‰ä¸€ä¸ªè½¬æ¢è¡¨ã€‚ ï¼ˆ1ï¼‰ä½¿ç”¨ä¸€ä¸ªIPåœ°å€ NATåªæœ‰ä¸€ä¸ªexternal address å®ç°ç§æœ‰åœ°å€å’Œå…¨çƒå…¬æœ‰åœ°å€çš„ä¸€å¯¹ä¸€æ˜ å°„ï¼Œå…¬æœ‰åœ°å€åˆ†é…ç»™å”¯ä¸€ä¸”å›ºå®šçš„å†…ç½‘ä¸»æœºã€‚ è½¬æ¢è¡¨æœ‰ä¸¤åˆ—ï¼š Private address & External address ï¼ˆ2ï¼‰Using a pool of IP Address NATæœ‰å¤šä¸ªåœ°å€ã€‚ å½“NATè·¯ç”±å™¨å…·æœ‰nä¸ªå…¨çƒIPåœ°å€æ—¶ï¼Œä¸“ç”¨ç½‘å†…æœ€å¤šå¯ä»¥åŒæ—¶æœ‰nä¸ªä¸»æœºæ¥å…¥åˆ°å› ç‰¹ç½‘ã€‚NATè·¯ç”±å™¨IPåœ°å€æ•°é‡æœ‰é™æ—¶ï¼Œä¸“ç”¨ç½‘å†…è¾ƒå¤šæ•°é‡çš„ä¸»æœºå¯è½®æµä½¿ç”¨NATè·¯ç”±å™¨çš„å…¨çƒIPåœ°å€ã€‚ ï¼ˆ3ï¼‰Using both IP address and Port Numbers åŒæ—¶ä½¿ç”¨IPåœ°å€+ç«¯å£å· ä¸ºäº†æ›´æœ‰æ•ˆåœ°åˆ©ç”¨NATè·¯ç”±å™¨ä¸Šçš„å…¨çƒIPåœ°å€ï¼Œå¸¸ç”¨çš„NATè½¬æ¢è¡¨æŠŠä¼ è¾“å±‚ç«¯å£å·ä¹Ÿåˆ©ç”¨ä¸Šã€‚ ä½¿å¤šä¸ªæ‹¥æœ‰æœ¬åœ°åœ°å€çš„ä¸»æœºï¼Œå…±ç”¨ä¸€ä¸ªNATè·¯ç”±å™¨ä¸Šçš„å…¨çƒIPåœ°å€ï¼Œå› è€Œå¯ä»¥åŒæ—¶å’Œå› ç‰¹ç½‘ä¸Šçš„ä¸åŒä¸»æœºè¿›è¡Œé€šä¿¡ã€‚ 1.1.5.3 NATçš„ç±»å‹ é™æ€NATï¼šå®ç°äº†ç§æœ‰åœ°å€å’Œå…¨çƒå…¬æœ‰åœ°å€çš„ä¸€å¯¹ä¸€æ˜ å°„ï¼Œä¸€ä¸ªå…¬æœ‰IPåªä¼šåˆ†é…ç»™å”¯ä¸€ä¸”å›ºå®šçš„å†…ç½‘ä¸»æœº åŠ¨æ€NATï¼š å°†å†…éƒ¨ç½‘ç»œçš„ç§æœ‰IPåœ°å€è½¬æ¢ä¸ºå…¬æœ‰IPåœ°å€æ—¶ï¼ŒIPåœ°å€å¯¹æ˜¯ä¸ç¡®å®šçš„ã€éšæœºçš„ï¼Œæ‰€æœ‰è¢«æˆæƒè®¿é—®Internetçš„ç§æœ‰IPåœ°å€å¯éšæœºè½¬æ¢ä¸ºä»»ä½•æŒ‡å®šçš„å…¬æœ‰IPåœ°å€ã€‚ å½“ISPæä¾›çš„å…±æœ‰IPå°‘äºç½‘ç»œå†…éƒ¨è®¡ç®—æœºæ•°é‡ ç½‘ç»œåœ°å€ç«¯å£è½¬æ¢PATï¼ˆPort address Translationï¼‰ï¼šæŠŠå†…éƒ¨åœ°å€æ˜ å°„åˆ°å¤–éƒ¨ç½‘ç»œçš„ä¸€ä¸ªIPåœ°å€çš„ä¸åŒç«¯å£ä¸Šã€‚PATä¸åŠ¨æ€åœ°å€NATä¸åŒï¼Œå®ƒå°†å†…éƒ¨è¿æ¥å…¨éƒ¨æ˜ å°„åˆ°å¤–éƒ¨ç½‘ç»œä¸­çš„ä¸€ä¸ªå•ç‹¬çš„IPåœ°å€ä¸Šï¼ŒåŒæ—¶åœ¨è¯¥åœ°å€ä¸ŠåŠ ä¸Šä¸€ä¸ªç”±NATè®¾å¤‡é€‰å®šçš„ç«¯å£å·ã€‚ PAT NOTEï¼š PATæŠŠä¸“ç”¨ç½‘å†…ä¸åŒçš„æºIPåœ°å€ï¼Œéƒ½è½¬æ¢ä¸ºåŒæ ·çš„å…¨çƒIPåœ°å€ã€‚ å¯¹æºä¸»æœºæ‰€é‡‡ç”¨çš„TCPç«¯å£å·ï¼ˆæ— è®ºæ˜¯å¦ç›¸åŒï¼‰ï¼Œè½¬æ¢ä¸ºä¸åŒçš„æ–°çš„ç«¯å£å·ã€‚ ä»å±‚æ¬¡çš„è§’åº¦çœ‹ï¼ŒPATçš„æœºåˆ¶æœ‰äº›ç‰¹æ®Šã€‚ æ™®é€šè·¯ç”±å™¨åœ¨è½¬å‘IPæ•°æ®æŠ¥æ—¶ï¼ŒæºIPåœ°å€æˆ–ç›®çš„IPåœ°å€éƒ½æ˜¯ä¸æ”¹å˜çš„ï¼Œä½†NATè·¯ç”±å™¨åœ¨è½¬å‘IPæ•°æ®æŠ¥æ—¶ï¼Œä¸€å®šè¦æ›´æ¢å…¶IPåœ°å€ï¼ˆè½¬æ¢æºåœ°å€æˆ–ç›®çš„åœ°å€ï¼‰ã€‚ æ™®é€šè·¯ç”±å™¨åœ¨è½¬å‘åˆ†ç»„æ—¶å·¥ä½œåœ¨ç½‘ç»œå±‚ï¼Œä½†PATè·¯ç”±å™¨è¦æŸ¥çœ‹å’Œè½¬æ¢è¿è¾“å±‚çš„ç«¯å£å·ï¼Œå±äºè¿è¾“å±‚çš„èŒƒç•´ã€‚ PATè·¯ç”±å™¨å·¥ä½œåœ¨ä¼ è¾“å±‚ï¼ 1.2 IPv6åœ°å€ 1.2.1 åœ°å€ç»“æ„ 128ä½ï¼Œåå…­è¿›åˆ¶å†’å·è¡¨ç¤ºæ³• ç¼©çŸ­ï¼š 1.2.2 åœ°å€ç©ºé—´ $2^{128}$ä¸ªåœ°å€ï¼Œåˆ’åˆ†ä¸ºå¤šä¸ªç±»ï¼Œå¯å˜é•¿ç±»å‹å‰ç¼€ åŸºäºæä¾›è€…çš„å•æ’­åœ°å€å‰ç¼€ï¼š å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„è®¡ç®—æœºï¼Œå‘é€åˆ°å•æ’­åœ°å€çš„åˆ†ç»„å¿…é¡»ä¼ é€’åˆ°è¿™ä¸ªæŒ‡å®šçš„è®¡ç®—æœºã€‚ å¤šæ’­åœ°å€ï¼š å®šä¹‰çš„æ˜¯ä¸€ç»„ä¸»æœºï¼Œè€Œéä¸€ä¸ªä¸»æœºã€‚æŠ¥æ–‡ä¼šå‘ç»™æ¯ä¸€ä¸ªæˆå‘˜ ä»»æ’­åœ°å€ï¼š å‘é€ç»™æ”¹ç»„çš„ä»»æ„ä¸€ä¸ªæˆå‘˜ 2. IPåè®® \\begin{cases}å½“å‰ï¼šIPv4\\\\å°†æ¥ä¸»æµï¼šIPv6\\end{cases} 2.1 ç½‘ç»œå·¥ä½œ ç”±Aå‘é€æ•°æ®æŠ¥åˆ°Dï¼Œä»…ä»…æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚ï¼Œæ— æ³•å¸®åŠ©è·¯ç”±å™¨åšå‡ºä»å“ªä¸ªç«¯å£è½¬å‘å‡ºå»çš„é€‰æ‹©ã€‚ éœ€è¦è®¾è®¡ç½‘ç»œå±‚ï¼ŒIPåœ°å€è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚ 2.1.1 ç½‘ç»œå±‚çš„å¿…è¦æ€§ ç½‘ç»œå±‚ä¸ä»…è´Ÿè´£ä¸»æœºé—´çš„ä¼ é€’ï¼Œè€Œä¸”è¿˜è´Ÿè´£é€šè¿‡è·¯ç”±å™¨æˆ–è€…äº¤æ¢æœºå¯¹åˆ†ç»„è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚ å°†æ¥è‡ªä¼ è¾“å±‚çš„è¾“å…¥æ•°æ®ç”Ÿæˆä¸ºä¸€ä¸ªåˆ†ç»„ï¼Œåˆ†ç»„çš„å¤´éƒ¨åŒ…å«æºå’Œç›®çš„é€»è¾‘åœ°å€åŠå…¶ä»–ä¿¡æ¯ã€‚ ç½‘ç»œå±‚è´Ÿè´£æ£€éªŒè·¯ç”±è¡¨ï¼Œè¿›è¡Œè·¯ç”±é€‰æ‹© åˆ†ç»„å¤ªå¤§æ—¶éœ€è¦åˆ†æ®µ 2.1.2 æ•°æ®æŠ¥ç½‘ç»œ ç½‘ç»œå±‚ä¸­çš„äº¤æ¢æ˜¯é€šè¿‡Packet Switchingæ•°æ®æŠ¥äº¤æ¢çš„æ–¹å¼å®ç°çš„ã€‚ 2.1.3 æ— è¿æ¥æœåŠ¡ packet\\ switching\\begin{cases}é¢å‘è¿æ¥çš„æœåŠ¡\\text{connection oriented service}\\\\ æ— è¿æ¥çš„æœåŠ¡\\text{connectionless service}\\end{cases} connection oriented service æºç«¯åœ¨å‘é€ä¸€ä¸ªåˆ†ç»„ä¹‹å‰é¦–å…ˆä¸ç›®çš„ç«¯å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œå»ºç«‹è¿æ¥åï¼Œåˆ†ç»„å¯ä»¥æŒ‰ç…§é¡ºåºä¾æ¬¡ä»ç›¸åŒçš„æºç«¯å‘é€åˆ°ç›¸åŒçš„ç›®çš„ç«¯ã€‚ åˆ†ç»„é€»è¾‘ä¸Šè¿æ¥åœ¨ä¸€èµ·ã€‚ connectionless service æ— è¿æ¥æ˜¯æŒ‡äº¤æ¢æœºæˆ–è·¯ç”±å™¨ä¸ä¿å­˜æœ‰å…³è¿æ¥çŠ¶æ€çš„ä¿¡æ¯ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œä¹Ÿä¸éœ€è¦æ‹†é™¤è¿æ¥ã€‚ ç½‘ç»œå±‚åè®®ç‹¬ç«‹åœ°å¯¹å¾…æ¯ä¸ªåˆ†ç»„ï¼Œè€Œä¸”æ¯ä¸ªåˆ†ç»„ä¸å…¶ä»–çš„åˆ†ç»„æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ åˆ†ç»„å¯èƒ½ä¸ä¼šæ²¿ç€åŒæ ·çš„è·¯å¾„åˆ°è¾¾ç›®çš„åœ° 2.2 IPv4 Internet Protocol version4 ç½‘é™…åè®®ç¬¬å››ç‰ˆæ˜¯TCP/IPåè®®ä½¿ç”¨çš„ä¼ è¾“æœºåˆ¶ã€‚ ç‰¹ç‚¹ï¼š IPv4æ˜¯ä¸€ç§ä¸å¯é çš„æ— è¿æ¥çš„æ•°æ®æŠ¥åè®®ï¼Œå®ƒå°½åŠ›ä¼ é€’ï¼ˆBest-effort deliveryï¼‰æ•°æ®æŠ¥ï¼Œä½†æ˜¯ä¸æä¾›å·®é”™æ§åˆ¶æˆ–æµé‡æ§åˆ¶ï¼ˆé™¤é¦–éƒ¨çš„æ£€éªŒå’Œä¹‹å¤–ï¼‰ï¼Œå› æ­¤ä¸ä¿è¯å¯é æ€§ã€‚ å½“å¯é æ€§å¾ˆé‡è¦æ—¶ï¼ŒIPv4éœ€è¦å’Œä¸€ä¸ªå¯é åè®®TCPé…åˆèµ·æ¥ä½¿ç”¨ 2.2.1 æ•°æ®æŠ¥ æ•°æ®æŠ¥20-65536bytes\\begin{cases}å¤´éƒ¨Headerï¼š20-60bytes\\begin{cases}å›ºå®šé¦–éƒ¨:20bytes\\\\é€‰é¡¹:40bytes\\end{cases}\\\\æ•°æ®Data\\end{cases} 2.2.1.1 å­—æ®µè¯´æ˜ VERSIONï¼šIPåè®®ç‰ˆæœ¬ï¼Œç°ä¸ºIPv4ï¼Œåå°†è¢«IPv6å–ä»£ HLENï¼šå¤´éƒ¨é•¿åº¦ï¼Œå 4bitï¼Œè¡¨ç¤º20~60bytesâ€”â€”å•ä½æ˜¯4byte HLEN = å­—é¢å€¼ Ã— 4byte æ²¡æœ‰é€‰é¡¹æ—¶ï¼Œå¤´éƒ¨é•¿åº¦ä¸º20bytesï¼Œåˆ™$HLEN_{min} = \\frac{20}{4}=5$ï¼Œå³æœ€å°æ˜¯ï¼š0101 å½“é€‰é¡¹é•¿åº¦ä¸ºæœ€å¤§å€¼æ—¶ï¼Œå¤´éƒ¨é•¿åº¦ä¸º60bytesï¼Œåˆ™$HLEN_{min} = \\frac{60}{4}=15$ï¼Œå³æœ€å¤§æ˜¯ï¼š1111 Serviceï¼šæœ‰æœåŠ¡ç±»å‹Service typeå’Œå·®åˆ†æœåŠ¡Differentiated Serviceä¸¤ç§è§£é‡Šï¼Œå 8bit Service Type å½“åšæœåŠ¡ç±»å‹è§£é‡Šæ—¶ï¼Œå‰ä¸‰ä½ä¸ºä¼˜å…ˆä½Precedenceï¼Œåå››ä½ä¸ºæœåŠ¡ç±»å‹TOSä½ a. Precedence Precedenceçš„3bitå€¼ä»000åˆ°111,å…±8ä¸ªä¼˜å…ˆçº§ï¼Œå½“å‡ºç°äº†æ‹¥å¡ç­‰é—®é¢˜æ—¶ï¼Œä¼˜å…ˆçº§è¾ƒä½çš„æ•°æ®æŠ¥å°†è¢«ä¸¢å¼ƒã€‚ IPv4ä¸­æœªä½¿ç”¨ä¼˜å…ˆçº§å­—æ®µ b. TOSä½ Differentiated Service å‰6ä½ä¸ºç ç‚¹codepointsï¼Œå2ä½ä¸ç”¨ã€‚ codepointçš„ä¸¤ç§ä½¿ç”¨æ–¹æ³•\\begin{cases} å½“ç ç‚¹å­—æ®µæœ€å³è¾¹3ä½éƒ½æ˜¯0æ—¶ï¼šæœ€å·¦è¾¹3ä½ä¸æœåŠ¡ç±»å‹ä¸­çš„ä¼˜å…ˆçº§ç›¸åŒã€‚\\\\æœ€å³è¾¹ä¸‰ä½ä¸å…¨ä¸º0ï¼Œåˆ™å…­ä½å«ä¹‰ä¸º64ç§æœåŠ¡ç±»å‹\\begin{cases}ç¬¬ä¸€ç±»ï¼šIETFåˆ†é…32ç§\\\\ç¬¬äºŒç±»ï¼šæœ¬åœ°æœºæ„16ç§\\\\ç¬¬ä¸‰ç±»ï¼šå®éªŒç›®çš„16ç§\\end{cases}\\end{cases} Total Lengthï¼š æ€»é•¿åº¦ = æ•°æ®é•¿åº¦ + é¦–éƒ¨é•¿åº¦ = æ€»é•¿åº¦ + HLEN * 4 æŸäº›ç½‘ç»œä¸å…è®¸65536bytesé•¿åº¦çš„æ•°æ®æŠ¥ï¼Œåˆ™éœ€è¦è¿›è¡Œåˆ†æ®µã€‚æ€»é•¿åº¦ä¸å¾—è¶…è¿‡MTUã€‚ IPæ•°æ®æŠ¥åœ¨ä»¥å¤ªç½‘ä¸­ ã€æ ‡å‡†ä»¥å¤ªç½‘å…è®¸çš„æœ€å°æŠ¥æ–‡é•¿åº¦ä¸º64bytesï¼Œæ•°æ®éƒ¨åˆ†æœ€å°ä¸º64 - 18 bytes = 46 bytesã€‘ ã€æ ‡å‡†ä»¥å¤ªç½‘å…è®¸çš„æœ€å¤§æŠ¥æ–‡é•¿åº¦ä¸º1518bytesï¼Œæ•°æ®éƒ¨åˆ†æœ€å¤§ä¸º1518-18bytes = 1500 bytesã€‘ æ•°æ®é•¿åº¦\\begin{cases}æœ€å°ï¼š46bytes\\\\æœ€å¤§ï¼š1500bytes\\end{cases} æ‰€ä»¥å½“IPæ•°æ®æŠ¥å°è£…åœ¨æ ‡å‡†ä»¥å¤ªç½‘çš„å¸§ä¸­ï¼Œå½“é•¿åº¦ä¸è¶³46Bytesæ—¶éœ€è¦è¿›è¡Œä½æ•°å¡«å……ã€‚ è¶…è¿‡1500bytesæ—¶ï¼Œéœ€è¦è¿›è¡Œåˆ†æ®µã€‚ identificationï¼š16bits è®¡æ•°å™¨ï¼Œç”¨äºäº§ç”Ÿæ•°æ®æŠ¥çš„æ ‡è¯†ï¼Œåœ¨åˆ†æ®µä¸­ä½¿ç”¨ flag ï¼šæ ‡å¿—ï¼Œåä¸¤ä½æœ‰æ•ˆ Fragmentation offsetï¼šç‰‡åç§» 13bit è¯¥ç‰‡åœ¨åŸç‰‡ä¸­çš„ä½ç½®ï¼Œå 13bitsï¼Œä»¥8byteä¸ºåç§»å•ä½ Time to liveï¼šç”Ÿå­˜æ—¶é—´ï¼Œå 8bit æ ‡è¯†æ•°æ®æŠ¥å¯ç»è¿‡è·¯ç”±å™¨çš„æœ€å¤§å€¼ã€‚ åŸå› ï¼šè‹¥è·¯ç”±è¡¨æ•…éšœï¼Œé‚£ä¹ˆæŠ¥æ–‡å¯èƒ½åœ¨ä¸¤ä¸ªæˆ–è€…æ›´å¤šçš„è·¯ç”±å™¨ä¹‹é—´ä¼ è¾“å¾ˆé•¿çš„æ—¶é—´ã€‚ å«ä¹‰\\begin{cases}åŸï¼šç»´æŠ¤æ—¶é—´æˆ³ï¼Œç»Ÿä¸€æ—¶é—´ï¼Œæ¯”è¾ƒå¤æ‚\\\\ç°ï¼šè·¯ç”±å™¨æ•°ï¼Œçº¦å®šä¸ºä»»æ„ä¸¤ä¸»æœºä¹‹é—´çš„è·¯ç”±å™¨ä¸ªæ•°çš„2å€\\end{cases} Protocolï¼šé«˜å±‚çš„åè®®ï¼Œå¦‚TCPï¼ŒUDP ä»¥ä¾¿æ¥æ”¶æ–¹ç½‘ç»œå±‚å°†æ•°æ®äº¤ä»˜ç»™é‚£ä¸ªå¤„ç†è¿‡ç¨‹ã€‚ Header checksumï¼šå 16bits åªæ£€éªŒæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œä¸åŒ…æ‹¬æ•°æ®çš„éƒ¨åˆ†ã€‚ Source IP Address and Destination IP Addressï¼šå‡ä¸º32ä½äºŒè¿›åˆ¶ 2.2.2 åˆ†æ®µ æ•°æ®æŠ¥å¯ä»¥é€šè¿‡ä¸åŒçš„ç½‘ç»œè¿›è¡Œä¼ æ’­ \\begin{cases}åˆšåˆšç»è¿‡çš„ç½‘ç»œï¼šæ”¶åˆ°çš„å¸§çš„æ ¼å¼ï¼Œé•¿åº¦\\\\å°†è¦ä¼ è¾“çš„ç½‘ç»œï¼šå‘å‡ºå»çš„å¸§çš„æ ¼å¼ï¼Œé•¿åº¦\\end{cases} æœ€å¤§ä¼ è¾“å•å…ƒMTU(maximum transmission unit)ï¼šæ•°æ®å­—æ®µçš„æœ€å¤§é•¿åº¦ã€‚ æ•°æ®æŠ¥å°è£…æˆå¸§æ—¶ï¼Œæ•°æ®æŠ¥çš„æ€»é•¿åº¦å¿…é¡»å°äºè¿™ä¸ªæœ€å¤§æ•°æ®é•¿åº¦ã€‚ ç”±ç½‘ç»œæ‰€ä½¿ç”¨çš„ç¡¬ä»¶å’Œè½¯ä»¶ç»™å‡ºçš„é™åˆ¶æ‰€å®šä¹‰çš„ã€‚ IPæ•°æ®æŠ¥çš„æœ€å¤§é•¿åº¦æ—¶65535bytesã€‚å¦‚æœä½¿ç”¨Hyperchannelé‚£ä¹ˆä¸ç”¨è¿›è¡Œåˆ†æ®µã€‚ç„¶è€Œå¯¹äºå…¶ä»–çš„ç‰©ç†ç½‘ç»œï¼Œå°±è¦å¯¹æ•°æ®æŠ¥è¿›è¡Œåˆ†å‰²ã€‚ æ•°æ®æŠ¥è¢«åˆ†æ®µæ—¶ï¼Œæ¯ä¸ªåˆ†æ®µéƒ½æœ‰è‡ªå·±çš„å¤´éƒ¨ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†çš„å­—æ®µæ˜¯é‡å¤çš„ï¼Œä½†æœ‰äº›å‘ç”Ÿäº†å˜åŒ–ã€‚ æ•°æ®æŠ¥åœ¨åˆ°è¾¾æœ€ç»ˆçš„ç»ˆç‚¹å‰ï¼Œå¦‚æœé‡åˆ°æ›´å°çš„MTUçš„ç½‘ç»œï¼Œé‚£ä¹ˆå·²ç»åˆ†æ®µçš„æ•°æ®æŠ¥è¿˜å¯ä»¥ç»§ç»­åˆ†æ®µã€‚ æ•°æ®æŠ¥çš„åˆ†æ®µå¯èƒ½è¢«ä¸»æœºæˆ–è€…è·¯å¾„ä¸­çš„ä»»ä½•è·¯ç”±å™¨åˆ†æ®µã€‚ é‡ç»„åªèƒ½åœ¨ç›®çš„ä¸»æœºä¸Šè¿›è¡Œï¼Œåœ¨ä¼ è¾“å™¨ä»¶é‡ç»„ä¼šé€ æˆä¼ è¾“æ•ˆç‡çš„é™ä½ã€‚ ä¸ç®¡æ˜¯å¦åˆ†æ®µï¼Œæ ¡éªŒå’Œå­—æ®µæ€»æ˜¯é‡æ–°è®¡ç®—çš„ åˆ†æ®µä¸­æ”¹å˜ä¸‰ä¸ªå­—æ®µçš„å€¼ï¼šidentificationï¼Œflagï¼Œfragmentation offset ï¼ˆ1ï¼‰identification 16bitsï¼Œæ ‡è¯†ä¸€ä¸ªä»æºä¸»æœºå‘å‡ºçš„æ•°æ®æŠ¥ã€‚æ•°æ®æŠ¥ç¦»å¼€æºä¸»æœºåï¼Œè¿™ä¸ªå­—æ®µä¸IPv4åœ°å€å”¯ä¸€å®šä¹‰è¿™ä¸ªæ•°æ®æŠ¥ã€‚ ä½¿ç”¨è®¡æ•°å™¨æ¥æ ‡è¯†æ•°æ®æŠ¥ã€‚ IPv4å‘é€ä¸€ä¸ªæ•°æ®åŒ…æ—¶ï¼Œå°±å°†å½“å‰è®¡æ•°å™¨ä¸­çš„å€¼å¤åˆ¶åˆ°identificationå­—æ®µä¸­ï¼Œå¹¶å°†æ­¤è®¡æ•°å™¨çš„å€¼+1ã€‚ å½“æ•°æ®æŠ¥åˆ†æ®µæ—¶ï¼Œæ ‡è¯†å­—æ®µçš„å€¼å°±å¤åˆ¶åˆ°æ‰€æœ‰çš„åˆ†æ®µä¸­ï¼šæ‰€æœ‰çš„åˆ†æ®µæœ‰ä¸åŸå§‹æ•°æ®æŠ¥ç›¸åŒçš„identificationã€‚ å¸®åŠ©åœ¨ç›®çš„ç«¯é‡ç»„æ•°æ®æŠ¥ã€‚ ï¼ˆ2ï¼‰flag 3ä½çš„å­—æ®µã€‚ ç¬¬ä¸€ä½ä¿ç•™ä¸ºä»¥åä½¿ç”¨ ç¬¬äºŒä½ç§°ä¸ºâ€œä¸åˆ†æ®µâ€ä½ Do not fragments DF = 1ï¼šæœºå™¨ä¸èƒ½å¯¹è¯¥æ•°æ®æŠ¥è¿›è¡Œåˆ†æ®µã€‚ å¦‚æœæ— æ³•å°†æ­¤æ•°æ®æŠ¥é€šè¿‡ä»»ä½•å¯ç”¨çš„ç‰©ç†ç½‘ç»œï¼Œé‚£ä¹ˆä¸¢å¼ƒæ•°æ®åŒ…ï¼Œå¹¶å‘ä¸»æœºå‘é€ICMPå·®é”™æŠ¥æ–‡ DF = 0ï¼šæ ¹æ®éœ€è¦å¯¹æ•°æ®æŠ¥è¿›è¡Œåˆ†æ®µ ç¬¬ä¸‰ä½ä¸ºâ€œå¤šåˆ†æ®µâ€ä½More fragments MF = 1ï¼šæ­¤æ®µä¸æ˜¯æœ€åçš„ä¸€æ®µï¼Œè¿˜æœ‰æ›´å¤šçš„åˆ†æ®µ MF = 0ï¼šä»–æ˜¯æœ€åçš„å”¯ä¸€åˆ†æ®µ ï¼ˆ3ï¼‰fragmentation offset 13bitï¼Œè¡¨ç¤ºè¿™ä¸ªåˆ†æ®µåœ¨æ•´ä¸ªæ•°æ®æŠ¥ä¸­çš„ç›¸å¯¹ä½ç½®ã€‚ä»–æ˜¯åœ¨åŸå§‹æ•°æ®æŠ¥ä¸­çš„æ•°æ®åç§»é‡ï¼Œä»¥8å­—èŠ‚ä¸ºåº¦é‡å•ä½ã€‚ è¦æ±‚ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–å·èƒ½è¢«8æ•´é™¤ æ‰€æœ‰åˆ†æ®µçš„æ ‡è¯†éƒ¨åˆ†éƒ½ç›¸åŒ é™¤äº†æœ€åä¸€ä¸ªåˆ†æ®µï¼Œæ‰€æœ‰flagçš„MFéƒ½æ˜¯1 æ¯ä¸€ä¸ªæ®µçš„$offsetå€¼=ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç¼–å·/8$ å¯¹ä¸€ä¸ªåˆ†æ®µæœ¬èº«å†è¿›è¡Œåˆ†æ®µæ—¶ï¼Œåˆ†æ®µçš„åç§»é‡æ‰€è¡¨ç¤ºçš„ä½ç½®éƒ½æ˜¯ç›¸å¯¹äºåŸå§‹çš„æ•°æ® 2.2.3 é€‰é¡¹ é€‰é¡¹éƒ¨åˆ†æœ€å¤šä¸º40bytesã€‚ 2.3 IPv6 2.3.1 IPv6ä¼˜ç‚¹ æ›´å¤§çš„åœ°å€ç©ºé—´ï¼š32---->128ä½ ã€è§£å†³IPv4åœ°å€è€—å°½é—®é¢˜ã€‘ æ›´å¥½çš„å¤´éƒ¨æ ¼å¼ï¼šé¦–éƒ¨ä¸­ä¸å«æœ‰é€‰é¡¹ ã€ç®€åŒ–è·¯ç”±é€‰æ‹©ï¼Œè·¯ç”±å™¨ä¸ç”¨å†æ£€æŸ¥é€‰é¡¹ã€‘ æ”¹è¿›çš„é€‰é¡¹ï¼šæ–°é€‰é¡¹å®ç°é™„åŠ åŠŸèƒ½ å…è®¸ç»§ç»­æ‰©å…… æ”¯æŒå³æ’å³ç”¨ æ”¯æŒèµ„æºé¢„åˆ†é… ã€éŸ³é¢‘ï¼Œè§†é¢‘ä¼ è¾“å¢åŠ ï¼Œéœ€è¦æœ€å°ã€‘ æ”¯æŒæ›´å¤šçš„å®‰å…¨æ€§ ã€IPv4ä¸æä¾›åŠ å¯†å’Œé‰´åˆ«ã€‘ IPv6é¦–éƒ¨æ”¹ä¸º8å­—èŠ‚å¯¹é½ 2.3.2 æ•°æ®æŠ¥æ ¼å¼ åˆ†ç»„ = åŸºæœ¬å¤´éƒ¨ + æœ‰æ•ˆè½½è· = Base header + Payload \\begin{cases}Base\\ headerï¼š40bytes\\\\Payload:up\\ to \\ 65535 bytes\\begin{cases}Extension\\ headers\\\\Data\\ packet\\ from\\ upper\\ layer\\end{cases}\\end{cases} 2.3.2.1 åŸºæœ¬é¦–éƒ¨ Versionï¼šç‰ˆæœ¬ï¼ŒIPv6ï¼Œå³0110 Priorityï¼šä¼˜å…ˆçº§ï¼Œå®šä¹‰äº†å‘ç”Ÿé€šä¿¡æ‹¥å¡æ—¶çš„åˆ†ç»„çš„ä¼˜å…ˆçº§ IPv6çš„ä¼˜å…ˆçº§å­—æ®µå®šä¹‰äº†ä»ç›¸åŒæºç«¯å‘å‡ºæ¯ä¸€ä¸ªåˆ†ç»„ç›¸å¯¹äºå…¶ä»–çš„åˆ†ç»„çš„ä¼˜å…ˆçº§ã€‚ ç½‘ç»œæ‹¥å¡æ—¶ï¼Œä¸¢å¼ƒä¼˜å…ˆçº§ä½çš„åˆ†ç»„ IPv6çš„é€šä¿¡é‡åˆ’åˆ†\\begin{cases}congestion-controlledå¯è¿›è¡Œæ‹¥å¡æ§åˆ¶\\\\noncongestion-controlledä¸å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶\\end{cases} congestion-controlled å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶çš„é€šä¿¡é‡ å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶çš„é€šä¿¡é‡å…è®¸åˆ†ç»„å»¶è¿Ÿåˆ°è¾¾ï¼Œæˆ–ä¸¢å¤±ï¼Œæˆ–ä¸æŒ‰é¡ºåºæ¥æ”¶ è¢«æŒ‡å®šä¸º0-7çš„ä¼˜å…ˆçº§ã€‚0æ˜¯æœ€ä½çš„ï¼Œ7æ˜¯æœ€é«˜çš„ã€‚ noncongestion-controlled ä¸å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶çš„é€šä¿¡é‡ æœŸå¾…æœ€å°å»¶è¿Ÿçš„é€šä¿¡é‡ï¼Œä¸¢å¼ƒåˆ†ç»„æ˜¯ä¸å¸Œæœ›çš„ï¼Œé‡ä¼ ä¹Ÿæ˜¯ä¸å¯èƒ½çš„ã€‚ å³ï¼Œæºç«¯ä¸èƒ½è‡ªå·±é€‚åº”æ‹¥å¡ï¼Œå®æ—¶éŸ³é¢‘å’Œè§†é¢‘æ˜¯è¿™ç±»é€šä¿¡é‡çš„å¾ˆå¥½çš„ä¾‹å­ ä¼˜å…ˆçº§8~15è¢«åˆ†é…ç»™ä¸å¯è¿›è¡Œæ‹¥å¡æ§åˆ¶çš„é€šä¿¡é‡ noncongestion-controlled traffic flow labelï¼šæµæ ‡å·ï¼Œç”¨æ¥å¯¹ç‰¹æ®Šçš„æ•°æ®è¿›è¡Œä¸“é—¨å¤„ç† ä»ç‰¹å®šæºç«¯å‘ç‰¹å®šç›®çš„ç«¯å‘é€çš„åˆ†ç»„åºåˆ—ï¼Œå¦‚æœéœ€è¦è·¯ç”±å™¨çš„ç‰¹æ®Šå¤„ç†ï¼Œåˆ™ç§°ä¸ºåˆ†ç»„æµã€‚ ä¸€ä¸ªæµæ˜¯å…±äº«æŸäº›ç‰¹æ€§çš„åˆ†ç»„åºåˆ—ï¼Œæºåœ°å€å’Œæµæ ‡å·çš„å€¼å”¯ä¸€å®šä¹‰äº†ä¸€ä¸ªåˆ†ç»„æµã€‚ å¦‚ç›¸åŒçš„è·¯å¾„ï¼Œä½¿ç”¨ç›¸åŒçš„èµ„æºï¼Œå…·æœ‰ç›¸åŒçš„å®‰å…¨æ€§ï¼Œç­‰ç­‰ã€‚ æ”¯æŒæµæ ‡å·çš„è·¯ç”±å™¨æœ‰ä¸€ä¸ªæµæ ‡å·è¡¨ï¼Œè¿™ä¸ªè¡¨ä¸ºæ¯ä¸ªæ´»åŠ¨çš„æµæ ‡å·è®¾ç½®ä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®å®šä¹‰æµæ ‡å·éœ€è¦çš„æœåŠ¡ã€‚ ç®€å•åº”ç”¨ï¼šåŠ é€Ÿè·¯ç”±å™¨å¯¹åˆ†ç»„çš„å¤„ç†ã€‚ ä¸ç”¨æŸ¥æ‰¾è·¯ç”±è¡¨å¹¶ç”¨è·¯ç”±é€‰æ‹©ç®—æ³•ç¡®å®šä¸‹ä¸€è·³çš„åœ°å€ï¼Œç›´æ¥åœ¨æµæ ‡å·è¡¨ä¸­æŸ¥æ‰¾ä¸‹ä¸€è·³çš„åœ°å€ å¤æ‚å½¢å¼ï¼šæ”¯æŒå®æ—¶éŸ³é¢‘å’Œè§†é¢‘çš„ä¼ è¾“ è¿›ç¨‹å¯ä»¥äº‹å…ˆå¯¹è¿™äº›èµ„æºè¿›è¡Œé¢„ç•™ã€‚ æµæ ‡å·ä½¿ç”¨çš„ä¸‰ä¸ªåŸåˆ™ æµæ ‡å·ç”±æºä¸»æœºæŒ‡å®šç»™åˆ†ç»„ï¼Œæ˜¯1åˆ°$2^{24} - 1$ä¹‹é—´çš„éšæœºæ•°ã€‚ å¦‚æœä¸»æœºä¸æ”¯æŒæµæ ‡å·ï¼Œåˆ™ç½®ä¸º0 æ‰€æœ‰å±äºåŒä¸€ä¸ªæµçš„åˆ†ç»„å¿…é¡»å…·æœ‰ç›¸åŒçš„æºåœ°å€ã€ç›®çš„åœ°å€ã€ä¼˜å…ˆçº§å’Œé€‰é¡¹ã€‚ Payload lengthï¼š2å­—èŠ‚å®šä¹‰äº†é™¤äº†åŸºæœ¬å¤´éƒ¨åœ¨å†…çš„IPæ•°æ®æŠ¥çš„æ€»é•¿åº¦ Next headerï¼šè·Ÿåœ¨åŸºæœ¬å¤´éƒ¨ä¹‹åçš„ä¸‹ä¸€ä¸ªå¤´éƒ¨ã€‚ å¯ä»¥æ˜¯æ‰©å±•é¦–éƒ¨ ä¹Ÿå¯ä»¥ä¸Šå±‚åè®®çš„UDPæˆ–è€…TCPçš„å¤´éƒ¨ Hop Limitï¼šè·³æ•°é™åˆ¶ å’ŒIPv4ä¸­çš„TTLåŠŸèƒ½ç›¸åŒ 2.3.2.2 æ‰©å±•é¦–éƒ¨ 6ä¸ªæ‰©å±•å¤´éƒ¨ï¼Œå¾ˆå¤šæ˜¯IPv4çš„é€‰é¡¹ æ‰©å±•å¤´éƒ¨\\begin{cases}\\text{hop by hop option}\\\\\\text{Source routing} \\\\\\text{Fragmentation}\\\\\\text{Authentication}\\\\\\text{Encrypted security payload}\\\\\\text{Destination option}\\end{cases} ï¼ˆ1ï¼‰hop-by-hop option åŒ…æ‹¬Pad1ã€PadNå’Œç‰¹å¤§æœ‰æ•ˆè½½è·ã€‚ ï¼ˆ2ï¼‰Source Routing å°†IPv4çš„ä¸¥æ ¼çš„æºè·¯ç”±å’Œæ¾æ•£çš„æºè·¯ç”±çš„æ¦‚å¿µç»“åˆåœ¨ä¸€èµ·ã€‚ ï¼ˆ3ï¼‰Fragmentation å’ŒIPv4æ¦‚å¿µç›¸åŒï¼Œä½†æ˜¯å‘ç”Ÿçš„åœ°æ–¹ä¸åŒã€‚ \\begin{cases}\\text{IPv4ï¼šæºç«¯æˆ–è€…è·¯ç”±å™¨è¿›è¡Œåˆ†æ®µ}\\\\\\text{IPv6ï¼šåªæœ‰æºç«¯æ‰èƒ½è¿›è¡Œåˆ†æ®µï¼Œæºç«¯ä½¿ç”¨è·¯å¾„MTUå‘ç°æŠ€æœ¯ï¼Œæ‰¾åˆ°æœ€å°çš„MTUï¼Œè¿›è¡Œåˆ†æ®µ}\\end{cases} 2.4 Transition from IPv4 To IPv6 IPv4åˆ°IPv6çš„è¿‡æ¸¡éœ€è¦å¹³æ»‘ï¼Œè®¾è®¡äº†ä¸‰ç§ç­–ç•¥ï¼š Transition\\ strategies\\begin{cases}\\text{åŒæ ˆåè®®}Dual\\ stack\\\\éš§é“æŠ€æœ¯Tunneling\\\\å¤´éƒ¨è½¬æ¢Header\\ translation\\end{cases} 2.4.1 åŒæ ˆç­–ç•¥ ä¸€ä¸ªç«™ç‚¹åŒæ—¶è¿è¡ŒIPv4å’ŒIPv6ã€‚ å½“æŠŠåˆ†ç»„å‘é€åˆ°ç›®çš„ç«¯æ—¶ï¼Œä¸»æœºè¦å‘DNSè¿›è¡ŒæŸ¥è¯¢ã€‚ DNSè¿”å›IPv4åœ°å€ï¼Œé‚£ä¹ˆå‘é€IPv4åˆ†ç»„ DNSè¿”å›IPv6åœ°å€ï¼Œé‚£ä¹ˆå‘é€IPv6åˆ†ç»„ 2.4.2 éš§é“ç­–ç•¥ ä¸¤å°ä½¿ç”¨IPv6çš„è®¡ç®—æœºé€šä¿¡ï¼Œä½†æ˜¯åˆ†ç»„è¦ç»è¿‡IPv4çš„åŒºåŸŸï¼Œé‚£ä¹ˆåˆ†ç»„éœ€è¦æœ‰IPv4çš„åœ°å€ IPv6åˆ†ç»„å°è£…æˆIPv4åˆ†ç»„ï¼Œç¦»å¼€æ—¶å»æ‰å°è£… 2.4.3 å¤´éƒ¨è½¬æ¢ å¤´éƒ¨æ ¼å¼é€šè¿‡å¤´éƒ¨è½¬æ¢å½»åº•æ”¹å˜ï¼š IPv6å¤´éƒ¨---->IPv4å¤´éƒ¨ IPv4å¤´éƒ¨---->IPv6å¤´éƒ¨ 3. å’ŒIPåè®®é…åˆä½¿ç”¨çš„å…¶ä»–åè®® IPï¼šbest-effort delivery protocolï¼Œå°½åŠ›ä¼ è¾“åè®®ã€‚ æ²¡æœ‰æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶ç­‰ç‰¹æ€§ï¼Œæ˜¯ä½¿ç”¨é€»è¾‘å¯»å€çš„ä¸»æœºåˆ°ä¸»æœºçš„åè®®ã€‚ IPåè®®éœ€è¦å…¶ä»–çš„åè®®çš„å¸®åŠ©ã€‚ \\begin{cases}åˆ†ç»„ç»„è£…æˆå¸§ï¼Œéœ€è¦ç‰©ç†åœ°å€ï¼ˆhop-to-hopï¼‰ï¼šARPåœ°å€è§£æåè®®\\\\ç‰©ç†åœ°å€åˆ°é€»è¾‘åœ°å€çš„æ˜ å°„\\begin{cases}RARP\\\\BOOTP\\\\DHCP\\end{cases}\\\\æµé‡æ§åˆ¶å’Œå·®é”™æ§åˆ¶ï¼šICMPåè®®\\\\å¤šæ’­åè®®ï¼šIGMPåè®®\\end{cases} 3.1 åœ°å€æ˜ å°„ ç‰©ç†åœ°å€ æœ¬åœ°åœ°å€ï¼Œç®¡è¾–èŒƒå›´æ˜¯æœ¬åœ°ç½‘ç»œã€‚ ç‰©ç†åœ°å€åœ¨æœ¬åœ°èŒƒå›´å†…æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯åœ¨å…¨å±€ä¸Šä¸æ˜¯ã€‚ ç‰©ç†åœ°å€å¤§å¤šæ˜¯ç”¨ç¡¬ä»¶å®ç°çš„ã€‚å¦‚ä»¥å¤ªç½‘çš„48ä½çš„MACåœ°å€ï¼Œè¢«å†™å…¥ä¸»æœºæˆ–è€…è·¯ç”±å™¨çš„ç½‘å¡ä¸Š åˆ†ç»„ä¼ é€’åˆ°ä¸»æœº/è·¯ç”±å™¨éœ€è¦ä¸¤çº§åœ°å€ï¼š \\begin{cases}ç‰©ç†åœ°å€\\\\é€»è¾‘åœ°å€\\end{cases} ä¸¤ç§æ˜ å°„å®ç°ç‰©ç†åœ°å€é€»è¾‘åœ°å€ 3.1.1 é™æ€æ˜ å°„ å°†ä¸€ä¸ªé€»è¾‘åœ°å€ä¸ç‰©ç†åœ°å€è”ç³»èµ·æ¥ï¼Œè¿™ä¸ªè¡¨å‚¨å­˜åœ¨ç½‘ç»œä¸Šçš„æ¯ä¸ªæœºå™¨ä¸Šã€‚ é€šè¿‡ã€æŸ¥è¡¨ã€‘ï¼Œç”±IPåœ°å€å¾—åˆ°ç‰©ç†åœ°å€ã€‚ å±€é™æ€§ï¼šç‰©ç†åœ°å€å¯èƒ½å› ä¸ºæŸäº›åŸå› æ”¹å˜ ï¼ˆ1ï¼‰æ›´æ¢ç½‘å¡ ï¼ˆ2ï¼‰LocalTalkï¼Œè®¡ç®—æœºåŠ ç”µæ—¶ï¼Œåœ°å€æ”¹å˜ ï¼ˆ3ï¼‰ç§»åŠ¨è®¡ç®—æœºä»ä¸€ä¸ªç‰©ç†ç½‘ç»œè½¬æ¢åˆ°å¦ä¸€ä¸ªç‰©ç†ç½‘ç»œï¼Œå¼•èµ·ç‰©ç†åœ°å€çš„æ”¹å˜ 3.1.2 åŠ¨æ€æ˜ å°„ï¼šåè®® å½“æœºå™¨çŸ¥é“é€»è¾‘åœ°å€å’Œç‰©ç†åœ°å€ä¹‹ä¸€æ—¶ï¼Œå¯ä»¥åˆ©ç”¨åè®®æ±‚å‡ºå¦ä¸€ä¸ªåœ°å€ã€‚ 3.1.2.1 é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„ï¼šARP IPåœ°å€çš„è·å¾—ï¼š å‘é€æ–¹æ˜¯ä¸»æœºï¼šä»DNSæ±‚å¾—ï¼ˆåŸŸååˆ°IPåœ°å€ï¼‰ å‘é€æ–¹æ˜¯è·¯ç”±å™¨ï¼šä»è·¯ç”±é€‰æ‹©è¡¨è·å¾— ä½†æ˜¯IPæ•°æ®æŠ¥éœ€è¦å°è£…æˆå¸§ï¼Œéœ€è¦æœ‰æ¥æ”¶æ–¹çš„ç‰©ç†åœ°å€ã€‚ ä¸»æœºæˆ–è·¯ç”±å™¨å‘é€ä¸€ä¸ªARPæŸ¥è¯¢åˆ†ç»„ï¼Œè¯¥åˆ†ç»„ï¼š ARPåˆ†ç»„\\begin{cases}å‘é€æ–¹çš„ç‰©ç†åœ°å€\\\\å‘é€æ–¹çš„IPåœ°å€\\\\æ¥æ”¶æ–¹çš„IPåœ°å€\\end{cases} ARPæŸ¥è¯¢åœ¨ç½‘ç»œä¸Šå¹¿æ’­broadcastï¼š è¯¥ç‰©ç†ç½‘ç»œä¸Šçš„æ¯ä¸€ä¸ªç³»ç»Ÿéƒ½æ¥æ”¶åˆ°æ­¤åˆ†ç»„ï¼Œä½†æ˜¯åªæœ‰ç³»ç»ŸBæ‰ä¼šå›ç­”ã€‚ ç³»ç»ŸBä¼šå‘é€ä¸€ä¸ªåŒ…å«ä»–çš„ç‰©ç†åœ°å€çš„ARPå›ç­”åˆ†ç»„ã€‚ã€å•æ’­unicastã€‘ ç„¶åç³»ç»ŸAä½¿ç”¨æ¥æ”¶åˆ°çš„åœ°å€æ¥å‘é€åˆ°è¯¥ç›®çš„åœ°çš„æ‰€æœ‰åœ°å€ã€‚ ==ä¼šä¸ä¼šå‡ºç°ï¼šBä¸åœ¨æœ¬ç½‘ç»œä¸Šï¼Œé‚£Bæ²¡æ³•å›å¤ï¼Œå¹¿æ’­åˆ°äº†è·¯ç”±å™¨ï¼Œç”±è·¯ç”±å™¨æ£€æŸ¥åè¿”å›è·¯ç”±å™¨çš„ç‰©ç†åœ°å€ã€‚è·¯ç”±å™¨æ€ä¹ˆçŸ¥é“æ²¡äººå›å¤A== ä¸ä¼šï¼ŒAä¼šå…ˆæŸ¥è‡ªå·±çš„è·¯ç”±è¡¨ï¼Œå¦‚æœBä¸åœ¨æœ¬ç½‘ç»œï¼Œé‚£ä¹ˆä¸€å®šå¹¿æ’­çš„æ˜¯è·¯ç”±å™¨çš„IPï¼Œé—®è·¯ç”±å™¨çš„MAC ==è·¯ç”±å™¨è·¯ç”±é€‰æ‹©æ—¶ä¸ºä»€ä¹ˆè¦è¿è¡ŒARPï¼Ÿå’ŒIPåŒ¹é…åç›´æ¥ä»è·¯ç”±è¡¨æŒ‡ç¤ºçš„é‚£ä¸ªç«¯å£å‘å‡ºå»ä¸å°±è¡Œäº†ï¼Ÿ== è¦è·å¾—ä¸‹ä¸€è·³çš„MACåœ°å€ ï¼ˆ1ï¼‰Cache Memory è‹¥ç³»ç»ŸAåˆ°ç³»ç»ŸBçš„æ¯ä¸ªåˆ†ç»„å‡éœ€è¦ARPè¯·æ±‚å¹¿æ’­ï¼šä½æ•ˆ ç³»ç»Ÿé€šå¸¸å‘ç»™å¤šä¸ªåˆ†ç»„åˆ°åŒä¸€ä¸ªç›®çš„åœ°ã€‚æ¥æ”¶åˆ°ARPå›ç­”çš„ç³»ç»Ÿå°†ä»–çš„æ˜ å°„ä¿å­˜åœ¨é«˜é€Ÿç¼“å­˜ä¸­ï¼Œä¿æŒ20-30åˆ†é’Ÿï¼ˆé™¤éé«˜é€Ÿç¼“å­˜å·²æ»¡ï¼‰ã€‚ä¹‹åå‘é€ARPä¹‹å‰ï¼Œç°åœ¨é«˜é€Ÿç¼“å­˜ä¸­å¯»æ‰¾ã€‚ ï¼ˆ2ï¼‰æ•°æ®æŠ¥æ ¼å¼ Hardware Typeï¼šæŒ‡å‡ºè¿è¡ŒARPçš„ç½‘ç»œç±»å‹ã€‚ARPå¯ä»¥è¿è¡Œåœ¨ä»»ä½•ç‰©ç†ç½‘ç»œä¸Š Protocol Typeï¼šå‘é€æ–¹ä½¿ç”¨çš„åè®®ç±»å‹ï¼ŒIPv4æ˜¯0800H Hardware lengthï¼šå®šä¹‰å­—èŠ‚ä¸ºå•ä½çš„ç‰©ç†åœ°å€çš„é•¿åº¦ã€‚ Protocol lengthï¼šä»¥å­—èŠ‚ä¸ºå•ä½çš„é€»è¾‘åœ°å€çš„é•¿åº¦ ï¼ˆ3ï¼‰å°è£… ARPåˆ†ç»„æ˜¯ç›´æ¥å°è£…åœ¨æ•°æ®é“¾è·¯å¸§ä¸­çš„ï¼Œä»¥å¤ªç½‘å¸§å¦‚ä¸‹ï¼š Typeå­—æ®µæŒ‡å‡ºäº†æ­¤å¸§æºå¸¦çš„æ˜¯ARPåˆ†ç»„ ï¼ˆ4ï¼‰æ“ä½œ ARPçš„å·¥ä½œè¿‡ç¨‹ï¼š å‘é€æ–¹çŸ¥é“ç›®æ ‡çš„IPåœ°å€ IPè¯·æ±‚ARPåè®®äº§ç”Ÿä¸€ä¸ªARPè¯·æ±‚æŠ¥æ–‡ï¼Œå¡«å…¥å‘é€æ–¹çš„ç‰©ç†åœ°å€ï¼Œå‘é€æ–¹çš„IPåœ°å€ï¼Œç›®æ ‡çš„IPåœ°å€ã€‚ç›®æ ‡çš„ç‰©ç†åœ°å€æœªçŸ¥å¡«å…¥0 å°†æŠ¥æ–‡å‘é€ç»™æ•°æ®é“¾è·¯å±‚ï¼Œè¢«å°è£…æˆå¸§ï¼Œä½¿ç”¨å‘é€æ–¹çš„ç‰©ç†åœ°å€ä½œä¸ºæºåœ°å€ï¼Œè€Œå°†ç‰©ç†å¹¿æ’­åœ°å€ä½œä¸ºç›®çš„åœ°å€ã€‚ æ¯ä¸€ä¸ªä¸»æœºå’Œè·¯ç”±å™¨éƒ½æ”¶åˆ°è¿™ä¸ªå¸§ã€‚å› ä¸ºè¿™ä¸ªå¸§åŒ…å«äº†å¹¿æ’­çš„ç›®çš„åœ°å€ï¼Œæ‰€æœ‰æ‰€æœ‰çš„ç«™ç‚¹éƒ½å°†æ­¤æŠ¥æ–‡é€ç»™ARPã€‚é™¤äº†ç›®æ ‡æœºå™¨å¤–ï¼Œæ‰€æœ‰çš„æœºå™¨éƒ½ä¸¢å¼ƒè¿™ä¸ªåˆ†ç»„ã€‚ç›®æ ‡æœºå™¨è¯†åˆ«è¿™ä¸ªIPåœ°å€ã€‚ ç›®æ ‡æœºå™¨ä½¿ç”¨ARPå›ç­”æŠ¥æ–‡è¿›è¡Œåº”ç­”ï¼Œæ­¤å›ç­”æŠ¥æ–‡åŒ…å«äº†ä»–çš„ç‰©ç†åœ°å€ã€‚ä½¿ç”¨å•æ’­ å‘é€æ–¹æ¥æ”¶åˆ°è¿™ä¸ªå›ç­”æŠ¥æ–‡ï¼Œä»–ç°åœ¨çŸ¥é“äº†ç›®æ ‡æœºå™¨çš„ç‰©ç†åœ°å€ æºå¸¦å‘é€ç»™ç›®æ ‡æœºå™¨çš„IPæ•°æ®æŠ¥ç°åœ¨å°è£…æˆå¸§ï¼Œç”¨å•æ’­å‘é€ç»™ç›®çš„ç«¯ã€‚ ï¼ˆ5ï¼‰å››ç§æƒ…å†µ æƒ…å†µ1ï¼šå‘é€æ–¹æ˜¯ä¸€ä¸ªä¸»æœºï¼Œå‘ç»™åŒä¸€ä¸ªç½‘ç»œä¸Šçš„å¦ä¸€ä¸ªä¸»æœºã€‚è¿™æ—¶å¿…é¡»å°†IPåœ°å€æ˜ å°„ä¸ºç‰©ç†åœ°å€ï¼Œå¹¶å°†é€»è¾‘åœ°å€ä½œä¸ºæ•°æ®æŠ¥å¤´éƒ¨çš„ç›®çš„IPåœ°å€ã€‚ æƒ…å†µ2ï¼šå‘é€æ–¹æ˜¯ä¸€ä¸ªä¸»æœºï¼Œå¸Œæœ›å‘ç»™å¦ä¸€ä¸ªç½‘ç»œä¸Šçš„ä¸»æœºï¼Œè¿™æ—¶å€™è·¯ç”±å™¨çš„IPéœ€è¦æ˜ å°„æˆç‰©ç†åœ°å€ã€‚ æƒ…å†µ3ï¼šå‘é€æ–¹æ˜¯ä¸€ä¸ªè·¯ç”±å™¨ï¼Œæ”¶åˆ°äº†æ•°æ®æŠ¥ï¼Œè¦å°†æ•°æ®æŠ¥å‘é€ç»™å¦ä¸€ä¸ªè·¯ç”±å™¨ã€‚å¦ä¸€ä¸ªè·¯ç”±å™¨çš„IPå°±æ˜¯è¦æ˜ å°„æˆç‰©ç†åœ°å€çš„IP æƒ…å†µ4ï¼šè·¯ç”±å™¨æ”¶åˆ°äº†æ•°æ®æŠ¥ï¼Œè¦å°†æ•°æ®æŠ¥å‘é€ç»™åŒä¸€ä¸ªç½‘ç»œä¸Šçš„ä¸€ä¸ªä¸»æœºã€‚æ•°æ®æŠ¥çš„ç›®çš„IPå°±æ˜¯è¦æ˜ å°„æˆç‰©ç†åœ°å€çš„é‚£ä¸ªé€»è¾‘åœ°å€ ï¼ˆ6ï¼‰ä»£ç†ARP Proxy ARPæœ‰å­ç½‘åŒ–çš„æ•ˆæœ ä»£ç†ARPæ˜¯å¯ä»¥ä»£è¡¨ä¸€ç»„ä¸»æœºçš„ARPã€‚ æ¯å½“è¿è¡Œä»£ç†ARPçš„è·¯ç”±å™¨æ”¶åˆ°ä¸€ä¸ªå¯»æ‰¾è¿™äº›ä¸»æœºä¸­çš„å…¶ä¸­ä¸€ä¸ªä¸»æœºçš„IPåœ°å€çš„ARPè¯·æ±‚æ—¶ï¼ŒARPå‘é€ä¸€ä¸ªARPå›ç­”ï¼Œå®£å¸ƒä»–è‡ªå·±çš„ç‰©ç†åœ°å€ï¼ŒçœŸæ­£æ”¶åˆ°æ•°æ®æŠ¥åè½¬å‘ç»™ç›¸åº”çš„ä¸»æœºã€‚ 3.1.2.2 ç‰©ç†åœ°å€åˆ°é€»è¾‘åœ°å€çš„æ˜ å°„ï¼šRARPï¼ŒBOOTPï¼ŒDHCP ä¸»æœºåªçŸ¥é“å…¶ç‰©ç†åœ°å€ï¼Œä¸çŸ¥é“IPåœ°å€çš„æƒ…å†µï¼š æ— ç›˜ç«™ç‚¹æ­£åœ¨è¢«å¼•å¯¼ ä¸€ä¸ªæœºæ„æ— è¶³å¤Ÿçš„IPåœ°å€ï¼Œåªèƒ½æŒ‰éœ€åˆ†é… ï¼ˆ1ï¼‰RARPåå‘åœ°å€è§£æåè®® Reverse Address Resolution Protocolï¼šä¸ºä»…çŸ¥é“ç‰©ç†åœ°å€çš„æœºå™¨å¯»æ‰¾ä»–çš„IPåœ°å€è€Œè®¾è®¡çš„ã€‚ æ¯ä¸€ä¸ªä¸»æœºéƒ½æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªIPåœ°å€ï¼Œè¿™äº›åœ°å€æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸ç‰©ç†åœ°å€æ— å…³ã€‚è¦åˆ›å»ºä¸€ä¸ªæ•°æ®æŠ¥ï¼Œé‚£ä¹ˆä¸»æœºå°±è¦çŸ¥é“ä»–è‡ªå·±çš„IPåœ°å€ã€‚ä¸€ä¸ªæœºå™¨çš„IPåœ°å€é€šå¸¸å¯ä»¥ä»å­˜å‚¨åœ¨ç£ç›˜æ–‡ä»¶ä¸­çš„é…ç½®æ–‡ä»¶ä¸­è¯»å‡ºã€‚ å¯¹äºä¸Šé¢çš„æ— æ³•çŸ¥é“IPåœ°å€çš„æƒ…å†µã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„ç‰©ç†åœ°å€ä½¿ç”¨RARPåè®®ä»ç‰©ç†åœ°å€æ±‚å¾—IPåœ°å€ã€‚ a. è¿‡ç¨‹ åˆ›å»ºRARPè¯·æ±‚ï¼Œåœ¨æœ¬åœ°ç½‘ç»œä¸Šå¹¿æ’­ æœ¬åœ°ç½‘ç»œä¸ŠçŸ¥é“æ‰€æœ‰IPåœ°å€çš„å¦ä¸€ä¸ªæœºå™¨ä½¿ç”¨RARPæ¥å“åº” è¯·æ±‚æœºå™¨å¿…é¡»è¿è¡ŒRARPå®¢æˆ·ç¨‹åºï¼Œå“åº”æœºå™¨å¿…é¡»è¿è¡ŒRARPæœåŠ¡ç¨‹åº b. RARPç¼ºç‚¹ ä¸èƒ½é€šè¿‡ç½‘ç»œè¾¹ç•Œï¼Œéœ€è¦ä¸ºæ¯ä¸ªå­ç½‘æŒ‡å®šä¸€ä¸ªRARPæœåŠ¡å™¨ã€‚ï¼ˆå‡ ä¹ä¸ç”¨ï¼‰ ï¼ˆ2ï¼‰BOOTPåè®® å¼•å¯¼ç¨‹åºåè®®ï¼šå®¢æˆ·æœº/æœåŠ¡å™¨ç¨‹åºã€‚ BOOTPæ˜¯ä¸€ä¸ªåº”ç”¨å±‚åè®®ã€‚ BOOTP æŠ¥æ–‡è¢«å°è£…åœ¨UDPåˆ†ç»„ä¸­ï¼ŒUDPåˆ†ç»„è¢«å°è£…åœ¨IPæ•°æ®æŠ¥ä¸­ å®¢æˆ·æœºä½¿ç”¨ï¼š å…¨0ä½œä¸ºæºåœ°å€ å…¨1ä½œä¸ºç›®çš„åœ°å€â€”â€”å¹¿æ’­åœ°å€ï¼Œä¸èƒ½è·¨è¿‡è·¯ç”±å™¨------>è‹¥ä¸åœ¨ä¸€ä¸ªç½‘ç»œï¼Œéœ€è¦ä»£ç†ä¸»æœºã€ä¼˜äºRARPçš„åœ°æ–¹ã€‘ ä¸¤ç§æƒ…å†µï¼š å®¢æˆ·æœºå’ŒBOOTPæœåŠ¡å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œä¸Š å®¢æˆ·æœºå’ŒBOOTPæœåŠ¡å™¨ä¸åœ¨ä¸€ä¸ªç½‘ç»œä¸Š ä½¿ç”¨ä¸€ä¸ªä¸»æœºæˆ–è€…è·¯ç”±å™¨ä½œä¸ºä¸­ä»‹ï¼Œä¸­ä»‹çŸ¥é“BOOTPæœåŠ¡å™¨çš„å•æ’­åœ°å€ã€‚ relay agentä¸­ç»§ä»£ç†ï¼šæ”¶åˆ°è¿™ç§ç±»å‹çš„åˆ†ç»„æ—¶ï¼Œä»–åœ¨å•æ’­çš„æ•°æ®æŠ¥ä¸­å°è£…æŠ¥æ–‡å¹¶å‘é€åˆ°BOOTPæœåŠ¡å™¨ã€‚ BOOTPçŸ¥é“æ¥è‡ªä¸­ç»§ä»£ç†çš„æŠ¥æ–‡ï¼Œå› ä¸ºåœ¨è¯·æ±‚å­—æ®µä¸­å®šä¹‰äº†ä¸­ç»§ä»£ç†çš„IPåœ°å€ã€‚æ¥æ”¶åˆ°å›ç­”åï¼Œä¸­ç»§ä»£ç†å‘BOOTPå®¢æˆ·æœºè½¬å‘å®ƒã€‚ â€‹ ç¼ºç‚¹ï¼šåªèƒ½é™æ€é…ç½®ï¼Œä¸èƒ½åŠ¨æ€é…ç½®ã€‚ â€‹ ä¸»æœºè¯·æ±‚IPåœ°å€ï¼ŒBOOTPæŸ¥è¡¨ï¼Œå¯»æ‰¾ä¸ç‰©ç†åœ°å€åŒ¹é…çš„IPåœ°å€ï¼šå…³ç³»å¿…é¡»å·²ç»å­˜åœ¨ã€‚ ï¼ˆ3ï¼‰DHCPåè®® åŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼šDynamic Host Configuration Protocol æä¾›\\begin{cases}é™æ€/åŠ¨æ€\\\\äººå·¥/è‡ªåŠ©\\end{cases}åœ°å€é…ç½® a. static address allocation ä¸BOOTPç›¸åŒï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼Œè¿”å›ä¸ç‰©ç†åœ°å€åŒ¹é…çš„IPåœ°å€ b. dynamic address allocation æœ‰ä¸€ä¸ªå¯ç”¨çš„IPåœ°å€æ± ã€‚DHCPå®¢æˆ·æœºè¯·æ±‚ä¸€ä¸ªä¸´æ—¶åœ°å€æ—¶ï¼ŒDHCPæœåŠ¡å™¨æŸ¥æ‰¾å¯ç”¨çš„IPï¼ŒæŒ‡å®šä¸€ä¸ªåœ¨å¯åå•†æœŸå†…æœ‰æ•ˆçš„IPåœ°å€ã€‚ c. è¯·æ±‚è¿‡ç¨‹ å®¢æˆ·æœºå‘å‡ºè¯·æ±‚æ—¶ï¼ŒDHCPå…ˆæŸ¥æ‰¾é™æ€çš„ï¼Œæœ‰åˆ™è¿”å›ï¼›å¦åˆ™åœ¨åŠ¨æ€IPåœ°å€æ± ä¸­é€‰æ‹©ä¸€ä¸ªå¹¶è¿”å›ï¼Œæ·»åŠ åˆ°åŠ¨æ€çš„æ•°æ®åº“ d. Manul and Automatic Configuration DHCPå¯äººå·¥ï¼Œå¯è‡ªåŠ¨ 3.2 ICMPåè®® IPåè®®ç¼ºå°‘å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶ï¼Œéœ€è¦ICMPé…åˆIPä½¿ç”¨ã€‚ 3.2.1æ¶ˆæ¯çš„ç±»å‹ message\\ type\\begin{cases}\\text{error reporting message}ï¼šå‘ä¸»æœºæˆ–è€…è·¯ç”±å™¨æŠ¥å‘Šé”™è¯¯ï¼ˆæ— æ³•çº é”™ï¼‰\\\\\\text{query message}ï¼šå¸®åŠ©ä¸»æœº/ç½‘ç»œç®¡ç†å‘˜ä»ä¸€ä¸ªè·¯ç”±å™¨/ä¸»æœºå¾—åˆ°ç‰¹å®šä¿¡æ¯\\end{cases} ICMPç‰¹ç‚¹ï¼š ä¸ºäº†æé«˜ IP æ•°æ®æŠ¥äº¤ä»˜æˆåŠŸçš„æœºä¼šï¼Œåœ¨ç½‘é™…å±‚ä½¿ç”¨äº†å› ç‰¹ç½‘æ§åˆ¶æŠ¥æ–‡åè®® ICMPã€‚ ICMP å…è®¸ä¸»æœºæˆ–è·¯ç”±å™¨æŠ¥å‘Šå·®é”™æƒ…å†µå’Œæä¾›æœ‰å…³å¼‚å¸¸æƒ…å†µçš„æŠ¥å‘Šã€‚ ICMP ä¸æ˜¯é«˜å±‚åè®®ï¼Œè€Œæ˜¯ IP å±‚çš„åè®®ã€‚ ICMP æŠ¥æ–‡ä½œä¸º IP å±‚æ•°æ®æŠ¥çš„æ•°æ®ï¼ŒåŠ ä¸Šæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œç»„æˆ IP æ•°æ®æŠ¥å‘é€å‡ºå»ã€‚ ICMPä¸èƒ½çº é”™ï¼Œåªèƒ½æŠ¥å‘Šé”™è¯¯ã€‚ 3.2.2 æŠ¥æ–‡æ ¼å¼ ICMPæŠ¥æ–‡æœ‰ä¸€ä¸ª8å­—èŠ‚çš„å¤´éƒ¨å’Œå¯å˜é•¿çš„æ•°æ®éƒ¨åˆ†ï¼Œ8å­—èŠ‚å¤´éƒ¨ å‰å››å­—èŠ‚å¯¹æ‰€æœ‰ç±»å‹çš„ICMPç›¸åŒ åå››ä¸ªå­—èŠ‚æ ¼å¼ä¸åŒ 3.2.3 é”™è¯¯æŠ¥å‘Š ICMPä½¿ç”¨IPæ•°æ®æŠ¥ä¸­çš„æºIPåœ°å€ï¼Œå‘åŸå§‹çš„æºæ–¹å‘é€å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ å·®é”™æŠ¥æ–‡çš„åŸå› ï¼š ICMPä¸äº§ç”Ÿå·®é”™æŠ¥å‘Šçš„æƒ…å†µï¼š \\begin{cases}ICMPé”™è¯¯æŠ¥å‘Šæœ¬èº«ä¸å†äº§ç”Ÿå·®é”™æŠ¥å‘Š\\\\åˆ†æ®µçš„æŠ¥æ–‡ï¼Œä¸æ˜¯ç¬¬ä¸€ä¸ªåˆ†ç»„ä¸äº§ç”Ÿé”™è¯¯æŠ¥æ–‡\\\\å¤šæ’­çš„ICMPä¸äº§ç”Ÿå·®é”™æŠ¥æ–‡\\\\ç‰¹æ®Šçš„åœ°å€ï¼šå…¨0/å…¨1ä¸å†å‘é€å·®é”™æŠ¥æ–‡\\end{cases} 3.2.3.1 ç›®çš„ç«¯ä¸å¯è¾¾ å½“è·¯ç”±å™¨ä¸èƒ½æ‰¾åˆ°è·¯ç”±æˆ–è€…ä¸»æœºä¸èƒ½ä¼ é€’æ•°æ®æ—¶å€™ï¼Œä¸¢å¼ƒè¿™ä¸ªæ•°æ®æŠ¥ï¼Œç„¶åå‘å›ç›®çš„ç«¯ä¸å¯è¾¾æŠ¥æ–‡ã€‚ ç›®çš„ç«¯ä¸å¯è¾¾æŠ¥æ–‡æˆ–è€…ç”±è·¯ç”±å™¨äº§ç”Ÿï¼Œæˆ–è€…ç”±ç›®çš„ä¸»æœºåˆ›å»ºã€‚ 3.2.3.2 æºç«¯æŠ‘åˆ¶ IPæ— æµé‡æ§åˆ¶ï¼Œå¯èƒ½åœ¨è·¯ç”±å™¨æˆ–è€…ç›®çš„ä¸»æœºä¸­äº§ç”Ÿæ‹¥å¡ï¼Œå½“æ¥ä¸åŠå¤„ç†æº¢å‡ºçš„ç¼“å­˜é˜Ÿåˆ—æ—¶ï¼Œåªèƒ½å°†æ•°æ®æŠ¥ä¸¢å¼ƒã€‚ ä½¿ç”¨ICMPçš„ç›®çš„æœ‰ä¸¤ä¸ªï¼š å‘Šè¯‰æºç«¯æ•°æ®æŠ¥è¢«ä¸¢å¼ƒ é€šçŸ¥æºç«¯å­˜åœ¨æ‹¥å¡ï¼Œå‡ç¼“å‘é€é€Ÿåº¦ 3.2.3.3 è¶…æ—¶ TTLå‡ä¸º0æ—¶ï¼Œæ•°æ®æŠ¥è¢«ä¸¢å¼ƒï¼Œå‘é€è¶…æ—¶çš„ICMPæŠ¥æ–‡ æ‰€æœ‰çš„åˆ†ç‰‡æ²¡æœ‰åœ¨æœ‰é™çš„æ—¶é—´å†…åˆ°è¾¾ 3.2.3.4 å‚æ•°é”™è¯¯ IPé¦–éƒ¨ä¸­äº§ç”Ÿé”™è¯¯æˆ–è€…äºŒä¹‰æ€§ï¼Œè·¯ç”±å™¨æˆ–è€…ä¸»æœºä¸¢å¼ƒè¿™ä¸ªåˆ†ç»„ï¼Œç„¶åå‘æºæ–¹å‘é€å‚æ•°é—®é¢˜æŠ¥æ–‡ã€‚ 3.2.3.5 é‡å®šå‘ è·¯ç”±å™¨å‚ä¸è·¯ç”±é€‰æ‹©æ›´æ–°ï¼Œä½†æ˜¯ä¸»æœºä¸å‚ä¸è·¯ç”±é€‰æ‹©æ›´æ–°ã€‚ é€šå¸¸ä¸»æœºåªçŸ¥é“ä¸€ä¸ªé»˜è®¤è·¯ç”±ï¼Œå½“ä¸»æœºå‘å¦ä¸€ä¸ªç½‘ç»œå‘é€æŠ¥æ–‡æ—¶ï¼Œå°±é”™è¯¯åœ°å‘é€ç»™äº†è¿™ä¸ªé»˜è®¤è·¯ç”± é»˜è®¤è·¯ç”±éœ€è¦ï¼š è½¬å‘ç»™æ­£ç¡®çš„è·¯ç”±å™¨ é‡å®šå‘æŠ¥æ–‡ 3.2.4 æŸ¥è¯¢æŠ¥æ–‡ ICMPå¯¹æŸäº›ç½‘ç»œè¿›è¡Œè¯Šæ–­ï¼Œ4ç§æŠ¥æ–‡å®ç° 3.2.4.1 echo-request and reply message å›é€è¯·æ±‚å’Œå›ç­”æŠ¥æ–‡ï¼šè¯Šæ–­ç›®çš„è®¾è®¡ã€‚ç¡®å®šä¸¤ä¸ªç³»ç»Ÿæ˜¯å¦èƒ½å¤Ÿé€šä¿¡ e.g. pingå‘½ä»¤ 3.2.4.2 æ—¶é—´æˆ³è¯·æ±‚å’Œå›ç­” æ—¶é—´æˆ³è¯·æ±‚å’Œå›ç­”ï¼šç¡®å®šIPæ•°æ®æŠ¥åœ¨ä¸¤ä¸ªæœºå™¨ä¹‹é—´çš„å¾€è¿”æ—¶é—´ã€‚ å¯ç”¨äºæ—¶é’ŸåŒæ­¥ã€‚ 3.2.4.3 åœ°å€æ©ç è¯·æ±‚å’Œå›ç­” ä¸»æœºçŸ¥é“è‡ªå·±çš„IPï¼Œä½†æ˜¯å¯èƒ½ä¸çŸ¥é“è‡ªå·±çš„æ©ç ã€‚è·å–å¯¹åº”åœ°å€çš„åœ°å€æ©ç ï¼Œå‘è·¯ç”±å™¨å‘é€åœ°å€æ©ç è¯·æ±‚æŠ¥æ–‡ã€‚ä¸çŸ¥é“è·¯ç”±å™¨åœ°å€æ—¶è¿›è¡Œå¹¿æ’­ã€‚è·¯ç”±å™¨æ”¶åˆ°ï¼Œä½¿ç”¨åœ°å€æ©ç å›å¤æŠ¥æ–‡å›å¤ã€‚ 3.2.4.4 è·¯ç”±å™¨è¯¢é—®å’Œé€šå‘Š ä¸»æœºéœ€è¦çŸ¥é“è·¯ç”±å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚ 3.2.5 Debugging Tools 3.2.5.1 ping pingï¼šç¡®å®šä¸€ä¸ªä¸»æœºæ˜¯å¦æ­£å¸¸å·¥ä½œ å¦‚æœç›®æ ‡ä¸»æœºå·¥ä½œï¼Œé‚£ä¹ˆä»–ç”¨ICMPæŠ¥æ–‡å›ç­” 3.2.5.2 tracerouteç¨‹åº tracerouteç¨‹åºï¼šè¿½è¸ªä¸­é—´è·¯ç”±çš„åœ°å€ã€‚ åˆ©ç”¨ï¼šã€æ—¶é—´è¶…æ—¶TTLã€‘+ã€ç›®çš„ç«¯ä¸å¯è¾¾ã€‘ä¸¤ç§å·®é”™æŠ¥æ–‡ã€‚ 4. Delivery, Fowarding and Routing Deliveryï¼šåœ¨ç½‘ç»œå±‚çš„æ§åˆ¶ä¸‹åˆ©ç”¨åº•å±‚ç½‘ç»œå¯¹ä¸€ä¸ªåˆ†ç»„è¿›è¡Œå¤„ç† Forwardingï¼šå°†ä¸€ä¸ªåˆ†ç»„ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªç«™ç‚¹çš„æ–¹æ³• Routingï¼šè½¬å‘è¿‡ç¨‹ä¸­åˆ›å»ºè·¯ç”±è¡¨çš„æ–¹æ³• è·¯ç”±é€‰æ‹©åè®®routing protocolï¼šç”¨äºä¸æ–­æ›´æ–°åœ¨è½¬å‘å’Œè·¯ç”±é€‰æ‹©ä¸­è¦æŸ¥æ‰¾çš„è·¯ç”±è¡¨ã€‚ 4.1 Delivery deliveryï¼šç½‘ç»œå±‚æ§åˆ¶ä¸‹åˆ©ç”¨åº•å±‚ç½‘ç»œå¯¹ä¸€ä¸ªåˆ†ç»„è¿›è¡Œå¤„ç†ã€‚ ç›´æ¥äº¤ä»˜ æœ€åä¸€ä¸ªè·¯ç”±å™¨ä¸ç›®çš„ä¸»æœº æºç«¯å’Œç›®çš„ç«¯åœ¨åŒä¸€ä¸ªç½‘ç»œ é—´æ¥äº¤ä»˜ æºç«¯ä¸ç›®çš„ç«¯ä¸åœ¨åŒä¸€ä¸ªç½‘ç»œä¸Š â€‹ Noteï¼š ä¸€ä¸ªä¼ é€’æ°¸è¿œåŒ…å«ä¸€ä¸ªç›´æ¥ä¼ é€’å’Œ0æˆ–è‹¥å¹²ä¸ªé—´æ¥ä¼ é€’ æœ€åçš„ä¼ é€’æ€»æ˜¯ç›´æ¥ä¼ é€’ 4.2 Forwarding è½¬å‘ï¼šå°†åˆ†ç»„è·¯ç”±åˆ°ä»–çš„ç›®çš„ç«¯ï¼Œè½¬å‘è¦ä¸»æœºæˆ–è€…è·¯ç”±å™¨æœ‰ä¸€ä¸ªè·¯ç”±è¡¨ã€‚å½“ä¸»æœºæœ‰åˆ†ç»„è¦å‘é€æ—¶ï¼Œæˆ–æ˜¯è·¯ç”±å™¨å·²æ”¶åˆ°ä¸€ä¸ªåˆ†ç»„è¦è½¬å‘æ—¶ï¼Œå°±è¦æŸ¥æ‰¾è·¯ç”±è¡¨ä»¥ä¾¿æ±‚å¾—åˆ°è¾¾æœ€ç»ˆç›®çš„ç«¯çš„è·¯ç”±ã€‚ 4.2.1 å‘å‰äº¤ä»˜æŠ€æœ¯ è·¯ç”±è¡¨çš„è®¾è®¡ï¼š ä¸‹ä¸€æ¡æ–¹æ³• vs æºè·¯ç”±æ–¹æ³• ç‰¹å®šç½‘ç»œ vs ç‰¹å®šä¸»æœº é»˜è®¤æ–¹æ³• 4.2.2 å‘å‰å¤„ç†è¿‡ç¨‹ å‡å®šä¸»æœºå’Œè·¯ç”±å™¨ä½¿ç”¨classless addressingã€‚åœ¨æ— ç±»å¯»å€ä¸­ï¼Œè·¯ç”±è¡¨å¯¹æ¶‰åŠåˆ°çš„æ¯ä¸€ä¸ªåœ°å€å—éƒ½æœ‰ä¸€è¡Œä¿¡æ¯ã€‚ è·¯ç”±è¡¨éœ€è¦æ ¹æ®ç½‘ç»œåœ°å€è¿›è¡ŒæŸ¥è¯¢ï¼Œä½†æ˜¯åˆ†ç»„ä¸­åªæœ‰ç›®çš„åœ°å€è€Œæ²¡æœ‰ç½‘ç»œåœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ©ç maskã€‚ åœ¨æ— ç±»å¯»å€ä¸­ï¼Œä¸€ä¸ªè·¯ç”±è¡¨è‡³å°‘è¦æœ‰4åˆ—ï¼š å…¶ä¸­next-hop addressæŒ‡çš„æ˜¯ä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„ipåœ°å€ã€‚ Exampleï¼šåˆ¶ä½œR1çš„è·¯ç”±è¡¨ 4.2.2.1 æœ€é•¿æ©ç åŒ¹é…è§„åˆ™ è·¯ç”±è¡¨ä¸­çš„æ©ç å­˜æ”¾æŒ‰ç…§ä»é•¿åˆ°çŸ­çš„åŸåˆ™æ’åˆ—ï¼Œä¸æŒ‰æ­¤é¡ºåºå¯èƒ½å‡ºç°é—®é¢˜ã€‚ ä½¿ç”¨ CIDR æ—¶ï¼Œè·¯ç”±è¡¨ä¸­çš„æ¯ä¸ªé¡¹ç›®ç”±â€œæ©ç â€ã€â€œç½‘ç»œåœ°å€â€å’Œâ€œä¸‹ä¸€è·³åœ°å€â€ç»„æˆã€‚åœ¨æŸ¥æ‰¾è·¯ç”±è¡¨æ—¶å¯èƒ½ä¼šå¾—åˆ°ä¸æ­¢ä¸€ä¸ªåŒ¹é…ç»“æœã€‚ åº”å½“ä»åŒ¹é…ç»“æœä¸­é€‰æ‹©å…·æœ‰æœ€é•¿æ©ç çš„è·¯ç”±ã€‚ æ©ç è¶Šé•¿ï¼Œå…¶åœ°å€å—å°±è¶Šå°ï¼Œå› è€Œè·¯ç”±å°±è¶Šå…·ä½“ 4.2.2.2 åœ°å€èšåˆ è·¯ç”±æ±‡æ€» classless addressingå°†åœ°å€ç©ºé—´åˆ’åˆ†æˆå¯ç®¡ç†çš„åœ°å€å—ã€‚ åœ°å€å—çš„å¢å¤šå°†å¢å¤§è·¯ç”±å™¨çš„å¯»æ‰¾ï¼š Exampleï¼š 4.2.3 è·¯ç”±è¡¨ a. è·¯ç”±è¡¨ è·¯ç”±ï¼šä»æŸä¸€ç½‘ç»œè®¾å¤‡å‡ºå‘å»å¾€æŸä¸ªç›®çš„åœ°æ‰€ç»è¿‡çš„è·¯å¾„ã€‚è·¯ç”±å™¨é€šè¿‡æŸ¥è¯¢è·¯ç”±è¡¨ä¸ºæ•°æ®æŠ¥é€‰æ‹©è½¬å‘è·¯å¾„ã€‚ è·¯ç”±è¡¨åªå­˜åœ¨äºç»ˆç«¯è®¡ç®—æœºã€è·¯ç”±å™¨åŠä¸‰å±‚äº¤æ¢æœºä¸­ï¼ŒäºŒå±‚äº¤æ¢æœºä¸­ä¸å­˜åœ¨è·¯ç”±è¡¨ã€‚ è·¯ç”±è¡¨ä¸­çš„å¸¸ç”¨å­—æ®µï¼š b. ä¸‰ç§è·¯ç”± ç›´è¿è·¯ç”±ï¼šè®¾å¤‡è‡ªåŠ¨å‘ç°çš„è·¯ç”±ä¿¡æ¯ï¼Œè·¯ç”±å™¨å¯è‡ªåŠ¨å‘ç°ä¸è‡ªå·±æ¥å£ç›´æ¥ç›¸è¿çš„ç½‘ç»œçš„è·¯ç”± é™æ€è·¯ç”±ï¼šäººå·¥è¾“å…¥ï¼Œæ— æ³•è‡ªåŠ¨æ›´æ–°ã€‚ç”¨äºå°å‹äº’è”ç½‘æˆ–è¯•éªŒç½‘ç»œ åŠ¨æ€è·¯ç”±ï¼šå¯å‘¨æœŸæ€§æ›´æ–°ï¼Œé€‚åˆå¤§å‹ç½‘ç»œ c. åŠ¨æ€è·¯ç”±ä¼˜å…ˆçº§ é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§é«˜äºåŠ¨æ€è·¯ç”±çš„ä¼˜å…ˆçº§ã€‚ 4.3 å•æ’­è·¯ç”±åè®® static routing tableï¼šæœ‰äººå·¥è¾“å…¥é¡¹ç›®ï¼Œå¤§å‹ç½‘ç»œä¸é€‚ç”¨ dynamic routing tableï¼šä½¿å¾—è·¯ç”±è¡¨è‡ªåŠ¨æ›´æ–° éœ€è¦æœ‰åŠ¨æ€è·¯ç”±è¡¨ï¼Œæ‰€ä»¥äº§ç”Ÿäº†å¤šç§è·¯ç”±é€‰æ‹©åè®®ã€‚ 4.3.1 ä¼˜åŒ–åè®® è·¯ç”±å™¨å°†æ”¶åˆ°çš„åˆ†ç»„è½¬å‘åˆ°å“ªä¸ªç½‘ç»œï¼Ÿå–å†³äºæœ€ä¼˜åŒ–åŸåˆ™ å–å†³äºåº¦é‡metric mericå–å†³äºåè®®çš„ç±»å‹\\begin{cases}RIPï¼šåŒç­‰å¯¹å¾…æ‰€æœ‰çš„ç½‘ç»œï¼Œå³é€šè¿‡æ¯ä¸ªç½‘ç»œçš„ä»£ä»·éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè·³æ•°éƒ½æ˜¯1\\\\OSPFï¼šå…è®¸ç®¡ç†å‘˜åŸºäºæœåŠ¡ç±»å‹æŒ‡å®šé€šè¿‡ç½‘ç»œçš„ä»£ä»·\\begin{cases}æœ€å¤§ååé‡\\\\æœ€å°å»¶è¿Ÿ\\\\....\\end{cases}\\\\BGPï¼šå¯ç”±ç½‘ç»œç®¡ç†å‘˜è®¾ç½®çš„ç­–ç•¥\\end{cases} 4.3.2 åŸŸå†…å’ŒåŸŸé—´è·¯ç”±é€‰æ‹© äº’è”ç½‘åˆ’åˆ†ä¸ºè‡ªæ²»ç³»ç»Ÿautonomous systemã€‚ autonomous system ï¼šä¸€ä¸ªå•ä¸€çš„ç®¡ç†æœºæ„ç®¡è¾–ä¸‹çš„ä¸€ç»„ç½‘ç»œå’Œè·¯ç”±å™¨ã€‚ åœ¨è‡ªæ²»ç³»ç»Ÿå†…çš„è·¯ç”±é€‰æ‹©ç§°ä¸ºåŸŸå†…è·¯ç”±é€‰æ‹©interadomain routing æ¯ä¸€ä¸ªautonomous systemå¯ä»¥é€‰æ‹©ä¸€ç§æˆ–è€…å¤šç§åŸŸå†…è·¯ç”±é€‰æ‹©åè®®å¤„ç†åŸŸå†…è·¯ç”±é€‰æ‹© è‡ªæ²»ç³»ç»Ÿä¹‹é—´ï¼Œé€šå¸¸ä½¿ç”¨ä¸€ç§åŸŸé—´è·¯ç”±é€‰æ‹©åè®® \\begin{cases}RIP\\text{ [Routing Information Protocol]}ï¼šåŸºäºã€è·ç¦»å‘é‡Distance\\ vectorã€‘çš„åè®®\\\\ OSPF\\text{ [Open Shortest Path First]}ï¼šåŸºäºã€é“¾è·¯çŠ¶æ€\\ link\\ stateã€‘çš„åè®®\\\\ BGP\\text{ [Border Gate Protocol]}ï¼šåŸºäºã€è·¯å¾„å‘é‡path\\ vectorã€‘çš„åè®®\\\\\\end{cases} 4.3.3 è·ç¦»å‘é‡è·¯ç”± åœ¨è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©ä¸­ï¼Œä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´è·¯ç”±çš„æœ€ä½ä»£ä»·æ˜¯æœ€å°è·ç¦»çš„è·¯å¾„ã€‚ æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¿ç•™ä¸€å¼ åˆ°å…¶ä»–çš„èŠ‚ç‚¹çš„æœ€å°å‘é‡è·ç¦»è¡¨ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¹Ÿç”¨è¿™å¼ è¡¨è¡¨ç¤ºè·¯ç”±ä¸­çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å¯¼åˆ†ç»„æµå‘ç›®çš„èŠ‚ç‚¹ã€‚ 4.3.3.1 åˆå§‹åŒ– æœ€å¼€å§‹æ—¶ï¼šæ¯ä¸ªèŠ‚ç‚¹ä»…çŸ¥é“ä¸ä»–ç›´æ¥è¿æ¥çš„é‚»ç«™çš„è·ç¦» æˆ‘ä»¬å‡å®šä¸€ä¸ªèŠ‚ç‚¹èƒ½å‘é‚»ç«™å‘é€æŠ¥æ–‡å¹¶å¾—åˆ°ä¸è¿™äº›é‚»ç«™çš„è·ç¦»ã€‚ åˆå§‹çš„è¡¨å¦‚ä¸‹ï¼š 4.3.3.2 å…±äº« è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©çš„æ€»çš„æ€æƒ³æ˜¯ä¸é‚»ç«™å…±äº«è·¯ç”±ä¿¡æ¯ æ¯ä¸ªç«™ç‚¹å‘é‚»ç«™å‘é€å®Œæ•´çš„è¡¨ï¼Œè®©é‚»ç«™å†³å®šå“ªä¸ªä¿¡æ¯æ˜¯æœ‰ç”¨çš„ã€‚ nextæ˜¯æ²¡æœ‰ç”¨çš„ï¼Œé‚»ç«™æ”¶åˆ°æ—¶ï¼Œéœ€è¦ç”¨å‘é€æ–¹çš„èŠ‚ç‚¹åä»£æ›¿ å‘¨æœŸæ€§æˆ–è€…æœ‰å˜åŒ–æ—¶å…±äº«è¡¨ 4.3.3.3 æ›´æ–° step1ï¼šæ¥æ”¶èŠ‚ç‚¹åœ¨è¡¨çš„ç¬¬äºŒåˆ—åŠ ä¸Šå®ƒä¸å‘é€èŠ‚ç‚¹ä¹‹é—´çš„ä»£ä»·å€¼ã€‚ step2ï¼šå°†å‘é€èŠ‚ç‚¹åä½œä¸ºç¬¬3åˆ—ã€å‘é€èŠ‚ç‚¹ä½œä¸ºnextã€‘ step3ï¼š å¦‚æœä¸‹ä¸€èŠ‚ç‚¹çš„é¡¹ç›®ç›¸åŒï¼Œé€‰å–æ–°è¡Œ å¦‚æœä¸‹ä¸€èŠ‚ç‚¹é¡¹ç›®ä¸åŒï¼Œé€‰å–å…·æœ‰ä»£ä»·è¾ƒå°çš„è¡Œï¼Œæœ€å°ä»£ä»·ç›¸åŒæ—¶ä¿æŒæ—§é¡¹ç›® ä»€ä¹ˆæ—¶å€™æ›´æ–°ï¼Ÿ \\begin{cases}å‘¨æœŸæ€§ï¼šé€šå¸¸30s\\\\è§¦å‘æ›´æ–°ï¼Œè·¯ç”±è¡¨æœ‰å˜åŒ–æ—¶\\begin{cases}èŠ‚ç‚¹æ¥æ”¶é‚»ç«™çš„è¡¨ï¼Œå¼•èµ·è‡ªå·±çš„è¡¨çš„æ›´æ–°\\\\èŠ‚ç‚¹æ£€æµ‹åˆ°é‚»ç«™é“¾è·¯æœ‰æ•…éšœ\\end{cases}\\end{cases} 4.3.3.4 ä¸¤ä¸ªç»“ç‚¹å¾ªç¯ä¸ç¨³å®šæ€§å’Œä¸‰ä¸ªç»“ç‚¹å¾ªç¯ä¸ç¨³å®šæ€§ è§£å†³æ–¹æ¡ˆï¼š å®šä¹‰æ— ç©·å¤§defining infinityï¼šå°†ä¸€ä¸ªè¾ƒå°çš„å€¼å®šä¹‰ä¸ºæ— ç©·å¤§ï¼ŒRIPä½¿ç”¨16 åˆ†å‰²èŒƒå›´ split horizonï¼šæ¯ä¸ªèŠ‚ç‚¹ä»…èƒ½é€šè¿‡æ¥å£å‘é€è¡¨çš„ä¸€éƒ¨åˆ†ï¼ŒBçš„ä¿¡æ¯æ˜¯ä»Aè·å¾—çš„ï¼Œé‚£ä¹ˆè¿™æ¡ä¿¡æ¯å°†ä¸ä¼šé€šçŸ¥ç»™A åœ¨ä¸Šå›¾ä¸­ï¼Œåˆ é™¤æœ€åä¸€æ ·å‘é€ç»™Aï¼Œé‚£ä¹ˆé—®é¢˜ä¸ä¼šå‘ç”Ÿ åˆ†å‰²èŒƒå›´ä¸æ¯’æ€§é€†è½¬Poison Reverseï¼šåˆ†å‰²èŒƒå›´ä¸æ¯’æ€§é€†è½¬ç»“åˆèµ·æ¥ã€‚èŠ‚ç‚¹Bä¾æ—§é€šçŸ¥Xçš„å€¼ï¼Œä½†æ˜¯å¦‚æœä¿¡æ¯æºæ˜¯Aï¼Œé‚£ä¹ˆç”¨æ— ç©·å¤§çš„è·ç¦»è¡¨ç¤ºè­¦å‘Š 4.3.3.5 RIPåè®® RIPï¼šè·¯ç”±é€‰æ‹©ä¿¡æ¯åè®®ï¼Œåœ¨è‡ªæ²»ç³»ç»Ÿå†…ä½¿ç”¨åŸŸå†…è·¯ç”±é€‰æ‹©åè®® RIPåŸºäºçš„äº‹å®ï¼š åº¦é‡ä¸ºè·³æ•°hop 16å®šä¹‰ä¸ºæ— ç©·å¤§â€”â€”RIPåªé€‚ç”¨äºå°å‹ç½‘ç»œ nextä¸ºå‘é€æ–¹ è·¯ç”±å™¨æœ‰è·¯ç”±è¡¨ï¼Œç½‘ç»œæ²¡æœ‰ åˆ†ç±» RIPIï¼šæœ‰ç±»è·¯ç”±é€‰æ‹©ï¼Œé€šçŸ¥IPå¯çŸ¥é“åœ°å€ç±»å‹ï¼Œæ— éœ€é€šå‘Šæ©ç  RIPIIï¼šæ”¯æŒå¯å˜é•¿æ©ç ï¼Œæ©ç éœ€è¦é€šçŸ¥ RIPä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œå¼€é”€è¾ƒå° RIPç¼ºç‚¹ï¼š ç½‘è·¯æ•…éšœæ—¶ï¼Œéœ€è¦ç»è¿‡è¾ƒé•¿æ—¶é—´æ‰èƒ½å°†ä¿¡æ¯ä¼ é€åˆ°æ‰€æœ‰çš„è·¯ç”±å™¨ RIPé™åˆ¶äº†ç½‘ç»œè§„æ¨¡ï¼Œä»–èƒ½ä½¿ç”¨çš„æœ€å¤§çš„è·ç¦»ä¸º15 è·¯ç”±å™¨ä¹‹é—´äº¤æ¢çš„è·¯ç”±ä¿¡æ¯æ˜¯å®Œæ•´çš„è·¯ç”±è¡¨ï¼Œå› è€Œéšç€ç½‘ç»œçš„æ‰©å¤§ï¼Œå¼€é”€ä¹Ÿå¢å¤§ RIPç®—æ³•ï¼š æ³¨æ„æ”¶åˆ°çš„ç›¸é‚»çš„èŠ‚ç‚¹ï¼Œæ‰€ä»¥é»˜è®¤ä¸¤ä¸ªèŠ‚ç‚¹ç›´æ¥çš„è·ç¦»æ˜¯1.å³+1. 4.3.4 é“¾è·¯çŠ¶æ€è·¯ç”± é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©ä¸è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©åŸºæœ¬åŸç†ä¸åŒï¼šæ¯ä¸ªèŠ‚ç‚¹æœ‰è¯¥åŒºåŸŸçš„å…¨éƒ¨æ‹“æ‰‘ç»“æ„ å…¨éƒ¨æ‹“æ‰‘ç»“æ„\\begin{cases}æ‰€æœ‰èŠ‚ç‚¹å’Œé“¾è·¯çš„åˆ—è¡¨\\\\å¦‚ä½•è¿æ¥\\begin{cases}ç±»å‹\\\\ä»£ä»·\\\\æ¡ä»¶\\end{cases}\\end{cases} åŸºäºå‡è®¾ï¼šæ•´ä¸ªæ‹“æ‰‘å¯ä»¥ç”±æ¯ä¸ªèŠ‚ç‚¹çš„çŸ¥è¯†å¤åˆè€Œæˆâ€”â€”è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³• å¦‚æœç½‘ç»œä¸­çš„ä»»æ„ä¸€ä¸ªç‚¹æ”¹å˜ï¼Œå°±å¿…é¡»æ›´æ–°æ•´ä¸ªæ‹“æ‰‘ã€‚ 4.3.4.1 å»ºç«‹è·¯ç”±è¡¨ step1ï¼šä¸ºæ¯ä¸ªèŠ‚ç‚¹å»ºç«‹LSPï¼ˆlink state packetï¼‰ LSPæºå¸¦ä¿¡æ¯ï¼š èŠ‚ç‚¹æ ‡è¯† é“¾è·¯æ¸…å• åºåˆ—å·ï¼šæ´ªæ³›åŒºåˆ«æ–°çš„LSPå’Œæ—§çš„LSP å¯¿å‘½ LSPç”Ÿæˆçš„æ—¶åˆ»ï¼š åŒºåŸŸçš„æ‹“æ‰‘å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè®©å‘¨å›´çš„èŠ‚ç‚¹çŸ¥é“ å‘¨æœŸæ€§ï¼šå®é™…ä¸Šä¸éœ€è¦ï¼Œä¸”å‘¨æœŸè¾ƒé•¿ step2ï¼šä½¿ç”¨ä¸€ç§å¯é çš„æ–¹æ³•å‘å…¶ä»–çš„è·¯ç”±å™¨æ‰©æ•£LSPï¼Œç§°ä¸ºfloddingæ´ªæ³› æ´ªæ³›ï¼šä¸€ä¸ªèŠ‚ç‚¹å‡†å¤‡å¥½LSPåï¼Œå¿…é¡»å‘å…¶ä»–çš„èŠ‚ç‚¹æ‰©æ•£ï¼Œä¸ä»…æ˜¯ç›¸é‚»èŠ‚ç‚¹ã€‚ åˆ›å»ºèŠ‚ç‚¹çš„LSPï¼Œå¹¶ä»æ¯ä¸ªæ¥å£å‘é€LSP æ¥æ”¶åˆ°çš„LSPçš„èŠ‚ç‚¹ä¸å·²æœ‰çš„å‰¯æœ¬æ¯”è¾ƒã€‚å¦‚æœåˆ°è¾¾çš„LSPæ˜¯æ¯”è¾ƒæ—§çš„ï¼Œé‚£ä¹ˆä¸¢å¼ƒã€‚å¦‚æœæ˜¯æ¯”è¾ƒæ–°çš„ï¼Œé‚£ä¹ˆæ‰§è¡Œ ä¸¢å¼ƒä¸¢çš„ï¼Œä¿ç•™æ–°çš„ èŠ‚ç‚¹é€šè¿‡æ¯ä¸ªæ¥å£ï¼Œä½†æ˜¯é™¤äº†æ¥æ”¶åˆ°åˆ†ç»„çš„æ¥å£å†å‘é€åˆ†ç»„çš„å‰¯æœ¬â€”â€”ç¡®ä¿æ´ªæ³›çš„åœæ­¢ step3ï¼šä¸ºæ¯ä¸ªèŠ‚ç‚¹æ„æˆä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘â€”â€”Dijkstra step4ï¼šåŸºäºæœ€çŸ­è·¯å¾„æ ‘è®¡ç®—è·¯ç”±è¡¨ 4.3.4.2 OSPF Open Shortest Path First å¼€æ”¾æœ€çŸ­è·¯å¾„åè®®ï¼šåŸºäºlink stateçš„åè®® Oï¼šâ€å¼€æ”¾â€è¡¨æ˜ OSPF åè®®ä¸æ˜¯å—æŸä¸€å®¶å‚å•†æ§åˆ¶ï¼Œè€Œæ˜¯å…¬å¼€å‘è¡¨çš„ã€‚ SPFï¼šâ€œæœ€çŸ­è·¯å¾„ä¼˜å…ˆâ€æ˜¯å› ä¸ºä½¿ç”¨äº† Dijkstra æå‡ºçš„æœ€çŸ­è·¯å¾„ç®—æ³• OSPF åªæ˜¯ä¸€ä¸ªåè®®çš„åå­—ï¼Œå¹¶ä¸è¡¨ç¤ºå…¶å®ƒçš„è·¯ç”±é€‰æ‹©åè®®ä¸æ˜¯â€œæœ€çŸ­è·¯å¾„ä¼˜å…ˆâ€ã€‚ a. åŒºåŸŸarea OSPFåœ¨è‡ªæ²»ç³»ç»Ÿçš„åŸºç¡€ä¸Šåˆ’åˆ†åŒºåŸŸã€‚ä¸€ä¸ªareaæ˜¯åŒ…å«åœ¨autonomous systemä¸­çš„ä¸€äº›ç½‘ç»œï¼Œä¸»æœºå’Œè·¯ç”±å™¨çš„é›†åˆã€‚ è‡ªæ²»ç³»ç»Ÿå¯ä»¥åˆ’åˆ†ä¸ºä¸åŒçš„åŒºåŸŸï¼Œåœ¨ä¸€ä¸ªåŒºåŸŸä¸­çš„æ‰€æœ‰ç½‘ç»œå¿…é¡»æ˜¯äº’ç›¸è¿æ¥çš„ã€‚ åŒºåŸŸå†…ï¼šä¸€ä¸ªåŒºåŸŸå†…é€šè¿‡æ´ªæ³›ä¼ é€è·¯ç”±é€‰æ‹©ä¿¡æ¯ã€‚â€”â€”å‡å°‘é€šä¿¡é‡ åŒºåŸŸè¾¹ç•Œæœ‰åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨ area border routerï¼šå°†æœ¬åŒºåŸŸçš„ä¿¡æ¯æ¦‚æ‹¬èµ·æ¥å‘é€ç»™å…¶ä»–çš„åŒºåŸŸ è‡ªæ²»ç³»ç»Ÿä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„areaç§°ä¸ºä¸»å¹²backboneï¼Œå…¶ä»–çš„åŒºåŸŸç§°ä¸ºä»åŒºåŸŸsecondary areaã€‚ è‡ªæ²»ç³»ç»Ÿä¸­çš„æ‰€æœ‰çš„åŒºåŸŸå¿…é¡»è¿æ¥åˆ°backboneä¸Šã€‚ æ¯ä¸ªåŒºåŸŸæœ‰ä¸€ä¸ªåŒºåŸŸæ ‡è¯†ï¼Œä¸»å¹²åŒºåŸŸçš„æ ‡è¯†æ˜¯0. 4.3.5 è·¯å¾„å‘é‡è·¯ç”± path vectorï¼šè‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„è·¯ç”±é€‰æ‹©ã€‚ åŸç†ä¸è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©ç›¸ä¼¼ã€‚ 4.3.5.1 speaker node path vector routingä¸­ï¼Œå‡å®šæ¯ä¸ªASä¸­æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„è¡Œä¸ºä»£è¡¨äº†æ•´ä¸ªè‡ªæ²»ç³»ç»Ÿï¼Œè¯¥èŠ‚ç‚¹ç§°ä¸ºä»£è¨€èŠ‚ç‚¹speaker nodeã€‚ ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿçš„speaker nodeç”Ÿæˆä¸€ä¸ªè·¯ç”±è¡¨å¹¶ä¸”é€šçŸ¥ç›¸é‚»çš„è‡ªæ²»ç³»ç»Ÿä¸­çš„ä»£è¨€èŠ‚ç‚¹ã€‚ é€šçŸ¥çš„æ˜¯ä»–çš„è‡ªæ²»ç³»ç»Ÿæˆ–è€…å…¶ä»–è‡ªæ²»ç³»ç»Ÿä¸­çš„è·¯å¾„ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„è·³æ•° 4.3.5.2 åˆå§‹åŒ– åˆå§‹åŒ–ï¼šæ¯ä¸ªä»£è¨€èŠ‚ç‚¹åªçŸ¥é“è‡ªå·±çš„è‡ªæ²»ç³»ç»Ÿå†…çš„èŠ‚ç‚¹çš„å¯è¾¾æ€§ã€‚ 4.5.3.3 å…±äº« æ¯ä¸ªä»£è¨€èŠ‚ç‚¹ä¸é‚»ç«™çš„speaker nodeå…±äº«è·¯ç”±è¡¨ A1ä¸C1å’ŒB1å…±äº«ï¼ŒC1ä¸A1å’ŒD1å…±äº«........ 4.5.3.4 æ›´æ–° å½“ä»£è¨€èŠ‚ç‚¹ä»é‚»ç«™æ”¶åˆ°ä¸€ä¸ªä¸¤åˆ—çš„è·¯ç”±è¡¨æ—¶ï¼Œæ›´æ–°è‡ªå·±çš„è·¯ç”±è¡¨ã€‚ æ›´æ–°å†…å®¹\\begin{cases}å¢åŠ ä¸åœ¨è¡¨ä¸­çš„èŠ‚ç‚¹\\\\ASä¸å‘é€æ–¹ä¹‹é—´çš„è·¯å¾„\\end{cases} Path Vector Routingä¼˜ç‚¹ï¼š é¢„é˜²å›è·¯ï¼šé¿å…è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©åè®®çš„ä¸ç¨³å®šæ€§å’Œå›è·¯é—®é¢˜ ç­–ç•¥è·¯ç”±é€‰æ‹©ï¼šè·¯ç”±å™¨æ£€æŸ¥æŠ¥æ–‡è·¯å¾„ï¼Œå¦‚æœè·¯å¾„ä¸­åˆ—å‡ºçš„æŸè‡ªæ²»ç³»ç»Ÿä¸ç¬¦åˆç­–ç•¥ï¼Œåˆ™å¿½ç•¥ã€‚ ä¼˜åŒ–è·¯å¾„ï¼šç¬¦åˆç»„ç»‡æœºæ„æ ‡å‡†çš„è·¯å¾„åŠä¿å¯†ã€å®‰å…¨ã€å¯é æ€§ç­‰å…¶å®ƒåŸåˆ™ã€‚ 4.3.5.5 BGP è¾¹ç•Œç½‘å…³åè®® Border Gateway Protocol è‡ªæ²»ç³»ç»Ÿçš„ç±»å‹ï¼š æ®‹æ¡© å¤šæ¥å£ è½¬é€ ç‰¹ç‚¹ï¼š èŠ‚ç‚¹æ•°é‡æ˜¯è‡ªæ²»ç³»ç»Ÿçš„æ•°é‡çº§ï¼Œæ¯”ç½‘ç»œæ•°è¦å°‘å¾ˆå¤š BGPä»£è¨€èŠ‚ç‚¹æ•°ç›®å¾ˆå°‘ï¼Œäº¤æ¢ä¸å¤æ‚ æ”¯æŒCIDR è¾¹ç•Œç½‘å…³åè®® Border Gateway Protocol è‡ªæ²»ç³»ç»Ÿçš„ç±»å‹ï¼š æ®‹æ¡© å¤šæ¥å£ è½¬é€ ç‰¹ç‚¹ï¼š èŠ‚ç‚¹æ•°é‡æ˜¯è‡ªæ²»ç³»ç»Ÿçš„æ•°é‡çº§ï¼Œæ¯”ç½‘ç»œæ•°è¦å°‘å¾ˆå¤š BGPä»£è¨€èŠ‚ç‚¹æ•°ç›®å¾ˆå°‘ï¼Œäº¤æ¢ä¸å¤æ‚ æ”¯æŒCIDR var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®¡ç½‘å¤ä¹ ç¬”è®°/ä¼ è¾“å±‚.html":{"url":"è®¡ç½‘å¤ä¹ ç¬”è®°/ä¼ è¾“å±‚.html","title":"ä¼ è¾“å±‚","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®¡ç½‘å¤ä¹ ç¬”è®°/åº”ç”¨å±‚.html":{"url":"è®¡ç½‘å¤ä¹ ç¬”è®°/åº”ç”¨å±‚.html","title":"åº”ç”¨å±‚","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®ºæ–‡é˜…è¯»/about.html":{"url":"è®ºæ–‡é˜…è¯»/about.html","title":"è®ºæ–‡é˜…è¯»","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®ºæ–‡é˜…è¯»/ParameterServeré˜…è¯»ç¬”è®°.html":{"url":"è®ºæ–‡é˜…è¯»/ParameterServeré˜…è¯»ç¬”è®°.html","title":"ParameterServeré˜…è¯»ç¬”è®°-2014-OSDI-ææ²","keywords":"","body":"Scaling Distributed Machine Learing with the Parameter Server é˜…è¯»ç¬”è®° OSDIä¼šè®®ï¼šæ“ä½œç³»ç»Ÿè®¾è®¡å’Œå®ç°ï¼ŒSOSPä¸¤ä¸ªä¼šè®®æ˜¯ç³»ç»Ÿé¢†åŸŸçš„ä¸¤å¤§ä¼šè®® ç›¸ä¼¼æ–¹å‘ï¼šé«˜æ€§èƒ½è®¡ç®—ã€ç¼–è¯‘å™¨ç­‰ ä½¿ç”¨å‚æ•°æœåŠ¡å™¨æ‰©å±•æœºå™¨å­¦ä¹  æ‘˜è¦ æ¦‚è¿°ï¼š é’ˆå¯¹åˆ†å¸ƒå¼æœºå™¨å­¦ä¹ é—®é¢˜æå‡ºäº†ä¸€ä¸ªå‚æ•°æœåŠ¡å™¨æ¶æ„ã€‚ æ•°æ®-å·¥ä½œ åˆ†å¸ƒåœ¨å·¥ä½œèŠ‚ç‚¹ä¸Šï¼ŒæœåŠ¡å™¨ç»“ç‚¹ç»´æŠ¤å…¨å±€çš„å…±äº«å‚æ•°â€”â€”è¡¨ç¤ºä¸ºç¨ å¯†æˆ–è€…ç³»æ•°çš„å‘é‡æˆ–è€…çŸ©é˜µçš„å½¢å¼ã€‚ è¯¥æ¶æ„ç®¡ç†ç»“ç‚¹ä¹‹é—´çš„å¼‚æ­¥é€šä¿¡ï¼Œæ”¯æŒçµæ´»ä¸€è‡´æ€§æ¨¡å‹ï¼Œæœ‰å¼¹æ€§çš„ä¼¸ç¼©æ€§ï¼ŒæŒç»­å®¹é”™ å®éªŒï¼š éªŒè¯å¯æ‰©å±•æ€§ï¼Œåœ¨PBçº§çš„æ•°æ®çš„åŸºç¡€ä¸Šå±•ç¤ºäº†å®éªŒç»“æœï¼Œæ¶‰åŠçš„é—®é¢˜èŒƒå›´åŒ…æ‹¬ç¨€ç–é€»è¾‘å›å½’åˆ°LDAå’Œåˆ†å¸ƒå¼ç®—æ³•ã€‚ Introduction é—®é¢˜+é‡è¦æ€§ï¼š è§£å†³å¤§è§„æ¨¡æœºå™¨å­¦ä¹ é—®é¢˜çš„å…ˆå†³æ¡ä»¶â€”â€”åˆ†å¸ƒå¼ä¼˜åŒ–å’Œé¢„æ¼” å•å°æœºå™¨æ— æ³•å®Œæˆï¼Œå®ç°ä¸€ä¸ªæœ‰æ•ˆçš„åˆ†å¸ƒå¼ç®—æ³•ä¹Ÿå¹¶ä¸å®¹æ˜“ å¯†é›†çš„è®¡ç®—å·¥ä½œé‡å’Œå¤§é‡çš„æ•°æ®é€šä¿¡éƒ½è¦æ±‚å¯¹ç³»ç»Ÿè¿›è¡Œç²¾å¿ƒçš„è®¾è®¡ï¼Œå³ä¸€ä¸ªç²¾å¿ƒçš„è®¾è®¡è¦åŒ…å«è¿™ä¸¤ä¸ªæ–¹é¢çš„è€ƒé‡â€”â€” å¯†é›†çš„å·¥ä½œé‡ æ•°æ®é€šä¿¡é‡ ç»†è‡´åˆ†æï¼š $10^{9}$åˆ°$10^{12}$å‚æ•°ï¼Œæ‰€æœ‰å·¥ä½œèŠ‚ç‚¹é—´å…±äº«è¿™äº›æ¨¡å‹ ä¸‰å¤§ç—›ç‚¹ å·¨å¤§çš„ç½‘ç»œé€šä¿¡é‡ æœºå™¨å­¦ä¹ çš„é—®é¢˜æ˜¯é¡ºåºæ±‚è§£çš„ï¼Œéœ€è¦åœ¨ç»“ç‚¹ä¹‹é—´è¿›è¡Œå¤§é‡çš„æ•°æ®åŒæ­¥ å®¹ç¾å…·æœ‰é‡è¦æ€§ ä¸ºä»€ä¹ˆè¦å®¹ç¾ï¼Ÿ å·¥ä¸šç•Œå®¹ç¾éå¸¸é‡è¦ã€‚ 1.1 Contribution ç¬¬ä¸€ä»£ jeff dean -> ç¬¬äºŒä»£ -> æå‡ºç¬¬ä¸‰ä»£å¼€æºå®ç° å¥½å¤„ï¼š å…±äº«æ¨¡å—æŠ½è±¡ï¼Œå®ç°ä»»åŠ¡æ¯”è¾ƒç®€å• åŒæ—¶èƒ½å¤Ÿå¤„ç†å„ç§ç®—æ³•ï¼šLogsitic å›å½’ï¼ŒLDA æœºå™¨å­¦ä¹ åœ¨å·¥ä¸šç•Œï¼ŒçœŸå®æŠ½è±¡ï¼š æœ‰æ•ˆé€šä¿¡ï¼šå‹ç¼©ï¼Œé™ä½é€šä¿¡é‡ çµæ´»ä¸€è‡´æ€§æ¨¡å‹ï¼šæ¯ä¸€ä¸ªè®¡ç®—èŠ‚ç‚¹æ•°æ®çš„ä¸€è‡´æ€§ å¼ºä¸€è‡´æ€§ï¼šé€‚åˆæœºå™¨å­¦ä¹  vs å¼±ä¸€è‡´æ€§ï¼šé€‚åˆç³»ç»Ÿ åšä¸€ä¸ªæƒè¡¡ å¼¹æ€§çš„å¯æ‰©å±•æ€§ï¼šæ–°çš„ç»“ç‚¹å¯ä»¥åŠ è¿›æ¥ï¼Œä¸ä¼šå¯¼è‡´ä»»åŠ¡åœæ­¢ï¼› å¯¹äºéå¸¸å¼ºä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå¾ˆé‡è¦ å®¹ç¾ï¼šè¦èŠ±å¤šå°‘æ—¶é—´å»æ¢å¤â€”â€”1sæ¢å¤ï¼Œç»§ç»­æ‰§è¡Œï¼›ä½¿ç”¨vector colock æ˜“ç”¨æ€§ï¼šå…¨å±€çš„parameterè¡¨ç¤ºä¸ºå‘é‡å’ŒçŸ©é˜µï¼ˆå½“æ—¶pythonçš„numpyè¿˜æ²¡æœ‰é‚£ä¹ˆæµè¡Œï¼Œä¸»è¦æœºå™¨å­¦ä¹ è¿˜æ˜¯ä½¿ç”¨C++æ¥å¼€å‘ï¼‰ æ–°é¢–åº¦ï¼šæ‰¾åˆ°äº†åˆé€‚çš„ç³»ç»ŸæŠ€æœ¯ï¼Œé€‚é…åˆ°æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ã€‚ç³»ç»Ÿ+AIå¾ˆå¥½çš„èåˆï¼Œå…·ä½“çš„è¯´æ”¾å¼ƒäº†ä¸€äº›ä¸€è‡´æ€§çš„è¦æ±‚ï¼ŒåŒæ—¶ä¿®æ”¹æœºå™¨å­¦ä¹ çš„ç®—æ³•ï¼Œä½¿å…¶èƒ½å¤Ÿæ¥å—ä¸¢å¤±çš„ä¸€è‡´æ€§ 1.2 Engineering Challenges å·¥ç¨‹ä¸Šçš„æŒ‘æˆ˜ï¼šéœ€è¦ä¸æ–­è¯»å†™å…¨å±€å‚æ•° å‚æ•°æœåŠ¡å™¨ï¼šæä¾›äº†ä¸€ä¸ªæœ‰æ•ˆçš„æœºåˆ¶å»èšåˆå’ŒåŒæ­¥æ¨¡å‹çš„å‚æ•°ï¼Œè®¡ç®—ç»“ç‚¹ä¼šè¯»å–æ•°æ®è¿›è¡Œè®¡ç®— åˆ«äººçš„æŠ½è±¡ï¼šdatastoreæä¾›çš„key valueçš„æŠ½è±¡æ˜¯ä¸å¤Ÿçš„ï¼Œkeyä¸€èˆ¬å¯¹åº”ä¸‹æ ‡ï¼Œå¼€é”€å¤§ æˆ‘ä»¬ï¼šå¾ˆå¤šå­¦ä¹ æ¨¡å‹æŠŠå‚æ•°è¡¨ç¤ºæˆæ•°å­¦å¯¹è±¡ï¼Œæ¯”å¦‚çŸ©é˜µã€å‘é‡ï¼ŒæŸä¸ªæ—¶é—´ç‚¹æ—¶è¿™ä¸ªçŸ©é˜µï¼Œå‘é‡çš„ä¸€éƒ¨åˆ†ä¼šå‘ç”Ÿæ”¹å˜ã€‚å·¥ä½œèŠ‚ç‚¹å‘é€å‘é‡çš„ä¸€ä¸ªæ®µsegmentï¼Œæˆ–è€…æ˜¯æ•´ä¸ªçŸ©é˜µçš„ä¸€æ•´è¡Œã€‚å»æ‰¹é‡çš„å‘é€å’Œæ›´æ–°ï¼Œè€Œä¸æ˜¯é€ä¸ªæ›´æ–° å®¹ç¾æŠ€æœ¯ï¼šæ•°æ®ç»“ç‚¹-å®æ—¶å¤åˆ¶ï¼Œè®¡ç®—ç»“ç‚¹-æ›¿æ¢/å¢åŠ ç»“ç‚¹éƒ½æ˜¯å¯ä»¥åšåˆ°çš„ 1.3 ç›¸å…³çš„å·¥ä½œ å¼•ç”¨13ä½¿ç”¨çš„parameter severï¼Œä½¿è¿™ä¸ªåå­—å‡ºåã€‚ è‡ªå·±çš„æ¨¡å‹ç§°ä¸ºç¬¬ä¸‰ä»£ï¼šå°è¯•åšä¸€ä¸ªæ›´é€šç”¨ Machine Learning ç®—æ³•1ï¼š æ¢¯åº¦ä¸‹é™çš„ç®—æ³• ------ å¦‚ä½•è½¬æ¢ä¸º -------> åˆ†å¸ƒå¼çš„ç®—æ³• æŠ½è±¡ï¼š \\begin{cases}ä»»åŠ¡è°ƒåº¦å™¨ï¼šforå¾ªç¯ï¼Œè¿­ä»£æ—¶é—´\\\\è®¡ç®—èŠ‚ç‚¹Workerï¼šæœ¬è´¨æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå¯ä»¥åœ¨ä¸€å°æœºå™¨ä¸Šå‡ºç°ï¼ˆæŠ½è±¡çš„æ¦‚å¿µï¼‰\\begin{cases}æ‰¾åˆ°é‚£ä¸€å—çš„ç»“ç‚¹\\\\è¯»åˆ°åæƒé‡æ‹¿ä¸‹æ¥\\\\è¿­ä»£Tï¼Œæ‹¿åˆ°Tæ—¶åˆ»çš„wï¼Œè®¡ç®—æ¢¯åº¦ï¼Œæ€»æ¢¯åº¦pushå›å»\\end{cases}\\\\æœåŠ¡ç»“ç‚¹Serverï¼šå¦å¤–çš„è¿›ç¨‹\\begin{cases}æ¢¯åº¦æ±‡æ€»ï¼Œå¾—åˆ°æ€»æ¢¯åº¦\\\\\\end{cases}\\end{cases} Achetecture var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®ºæ–‡é˜…è¯»/PATHWAYSé˜…è¯»ç¬”è®°.html":{"url":"è®ºæ–‡é˜…è¯»/PATHWAYSé˜…è¯»ç¬”è®°.html","title":"PATHWAYSé˜…è¯»ç¬”è®°-2022-MLSys-JeffDean-Sanjay","keywords":"","body":"PATHWAYS: ASYNCHRONOUS DISTRIBUTED DATAFLOW FOR ML é’ˆå¯¹æœºå™¨å­¦ä¹ çš„å¼‚æ­¥åˆ†å¸ƒå¼æ•°æ®æµé˜…è¯»ç¬”è®° æ‘˜è¦ â€‹ æœ¬ç¯‡è®ºæ–‡ä»‹ç»äº†ç”¨äºåŠ é€Ÿå™¨çš„æ–°çš„å¤§è§„æ¨¡çš„ç¼–æ’å±‚orchestration layerçš„è®¾è®¡â€”â€”Pathwaysã€‚è®ºæ–‡æ–°å‹å¼‚æ­¥åˆ†å¸ƒå¼æ•°æ®æµå…³é”®åœ¨ä¸¤ç‚¹ï¼š å¼‚æ­¥ï¼šé€šä¿¡å»¶è¿Ÿå’Œè°ƒåº¦å»¶è¿Ÿçš„å¤„ç† åˆ†å¸ƒå¼ï¼šçªç ´åŸæœ¬JAXåªèƒ½åœ¨2048ä¸ªTPUä¸Šè¿è¡Œçš„é™åˆ¶â€”â€”é’ˆå¯¹æ¨¡å‹è§„æ¨¡å˜å¤§ï¼Œç¡¬ä»¶å¼‚æ„çš„å¤„ç† ä¸€ã€è®ºæ–‡ç ”ç©¶èƒŒæ™¯ã€åŠ¨æœºå’Œä¸»è¦è´¡çŒ® 1.1 ç ”ç©¶èƒŒæ™¯ â€‹ è¿‘10å¹´é‡Œçš„è¶‹åŠ¿æ˜¯æœºå™¨å­¦ä¹ ï¼ˆMachine Learning, MLï¼‰çš„ç®—æ³•å’Œç³»ç»Ÿä¸ç¡¬ä»¶ä¸€èµ·æ¼”è¿›ï¼ˆco-evolutionï¼‰è¿™ç§co-evolutionæœ‰ä¸€å®šçš„éšæ‚£ï¼šç³»ç»Ÿè¿‡äºé’ˆå¯¹å½“å‰çš„ä»»åŠ¡ï¼Œè€Œä¸èƒ½å¾ˆå¥½åœ°é€‚åº”æœªæ¥çš„éœ€æ±‚ã€‚ â€‹ PATHWAYSï¼šé’ˆå¯¹çš„æ˜¯åˆ†å¸ƒå¼æœºå™¨å­¦ä¹ ï¼Œå…·æœ‰çš„ç›¸å…³ç‰¹æ€§ä¼šè¢«æœªæ¥çš„ä»»åŠ¡æ‰€éœ€è¦ã€‚ â€‹ ç›®å‰çš„åˆ†å¸ƒå¼MLç³»ç»Ÿçš„ç°çŠ¶ï¼šå½“ä»Šå¤§å¤šæ•°æœ€å…ˆè¿›çš„MLå·¥ä½œè´Ÿè½½éƒ½ä½¿ç”¨MPIçš„â€œå•ç¨‹åºå¤šæ•°æ®â€ï¼ˆSPMDï¼‰æ¨¡å‹ã€‚ æ‰€è°“çš„SPMDå¯ä»¥ç±»æ¯”2014å¹´OSDIçš„å¦ä¸€ç¯‡è®ºæ–‡å‚æ•°æœåŠ¡å™¨ä¸­çš„ä¾‹å­â€”â€”å¤šæœºåœ¨å®Œæˆæ¢¯åº¦çš„è®¡ç®—åäº¤æ¢ä¿¡æ¯ï¼Œåšä¸€æ¬¡æ•°æ®çš„åŒæ­¥ã€‚ 1.2 ç ”ç©¶åŠ¨æœº â€‹ æœªæ¥MLéœ€è¦ä¸€äº›ç‰¹å®šçš„åŠŸèƒ½ï¼Œå“ªäº›ç‰¹æ€§æ˜¯æœªæ¥MLæ‰€å…·æœ‰çš„ï¼Ÿ æ¨¡å‹è¾ƒå¤§ï¼šå¯¹äºå¤§è¯­è¨€æ¨¡å‹æ¨¡å‹åœ¨ä¸€ä¸ªåŠ é€Ÿå™¨ä¸Šæ˜¯ä¸å¤Ÿçš„ï¼Œçº¯ç²¹çš„æ•°æ®å¹¶è¡Œæ˜¯ä¸å¤Ÿçš„ å¼€å§‹è€ƒè™‘æµæ°´çº¿ï¼ˆpipelineï¼‰è€Œä¸æ˜¯çº¯çš„æ•°æ®å¹¶è¡Œï¼ˆæ–‡ä¸­ä»¥MoEä¸ºå¯¹è±¡ä»‹ç»ï¼Œä»–æ˜¯ä¸€ç§MPIï¼‰ å­˜åœ¨è®¡ç®—ç¨€ç–æ€§ï¼šä½¿ç”¨ç»†ç²’åº¦çš„æ§åˆ¶æµå’Œå¤¸åŠ é€Ÿå™¨çš„å¼‚æ„è®¡ç®— ç¡¬ä»¶å¼‚æ„ï¼šå°±ç¡¬ä»¶ä¸Šçš„å˜åŒ–æ¥è¯´ï¼Œæœºå™¨å­¦ä¹ é›†ç¾¤å˜å¾—è¶Šæ¥è¶Šå¼‚æ„ â€‹ é’ˆå¯¹ç¡¬ä»¶çš„å¼‚æ„æ€§ï¼Œè®ºæ–‡ä¸­æå‡ºäº†ä¸€ä¸ªâ€œå²›â€(island)çš„æ¦‚å¿µï¼Œâ€œå²›â€æŒ‡çš„æ˜¯ä¸€ç»„è¿æ¥åœ¨ä¸€èµ·çš„åŠ é€Ÿå™¨ã€‚å•æœºçš„åŠ é€Ÿå™¨ä¹‹é—´è¿æ¥è¾ƒä¸ºç´§å¯†ï¼Œè€Œå¤šæœºä¹‹é—´çš„åŠ é€Ÿå™¨è¿æ¥å¹¶ä¸ç´§å¯†ã€‚å¦‚æœéœ€è¦ç»´æŒå¤šæœºä¹‹é—´ç´§å¯†çš„è”ç³»éœ€è¦è€—è´¹è¾ƒå¤§çš„å¸¦å®½ï¼Œè¿™é€šå¸¸æ˜¯æ¯”è¾ƒæµªè´¹çš„ï¼šç”¨æˆ·éœ€è¦è¯•å›¾ä¿æŒæ‰€æœ‰åŠ é€Ÿå™¨æŒç»­ç¹å¿™ã€‚ â€‹ è¿™ç§å¼‚æ„æ€§çš„å­˜åœ¨ï¼Œè¿›ä¸€æ­¥æ¨åŠ¨ç ”ç©¶äººå‘˜è½¬å‘â€œå¤šç¨‹åºå¤šæ•°æ®â€(MPMD)è®¡ç®—ï¼Œé€šè¿‡å°†æ•´ä½“è®¡ç®—çš„å­éƒ¨åˆ†æ˜ å°„åˆ°æ›´å®¹æ˜“è·å¾—çš„å°å‹åŠ é€Ÿå™¨å²›çš„é›†åˆï¼Œä»è€Œå®ç°æ›´å¤§çš„çµæ´»æ€§ã€‚ä¸ºäº†æé«˜åˆ©ç”¨ç‡ï¼Œä¸€äº›MLç¡¬ä»¶èµ„æºç®¡ç†äººå‘˜ä»¥ç»†ç²’åº¦çš„æ–¹å¼åœ¨å·¥ä½œè´Ÿè½½ä¹‹é—´å¤ç”¨ç¡¬ä»¶ï¼Œä»è€Œæ”¯æŒå·¥ä½œè´Ÿè½½å¼¹æ€§ï¼Œå¹¶æé«˜å®¹é”™èƒ½åŠ›ã€‚ â€‹ æœ€åï¼Œç ”ç©¶äººå‘˜å¼€å§‹æ ‡å‡†åŒ–ä¸€å¥—åŸºç¡€æ¨¡å‹ï¼Œè¿™äº›æ¨¡å‹æ˜¯åœ¨å¤§æ•°æ®ä¸Šå¤§è§„æ¨¡è®­ç»ƒçš„ï¼Œå¯ä»¥é€‚åº”å¤šç§ä¸‹æ¸¸ä»»åŠ¡ã€‚å¯¹æ­¤ç±»æ¨¡å‹çš„è®­ç»ƒå’Œæ¨æ–­æä¾›äº†é€šè¿‡è·¨è®¸å¤šä»»åŠ¡å¤šè·¯å¤ç”¨èµ„æºæ¥æé«˜é›†ç¾¤åˆ©ç”¨ç‡çš„æœºä¼šï¼Œå¹¶æœ‰æ•ˆåœ°åœ¨å®ƒä»¬ä¹‹é—´å…±äº«çŠ¶æ€ã€‚ ç»“åˆJeff Deanå»å¹´çš„åšå®¢Pathways: A next-generation AI architecture (blog.google)ï¼ˆä¸Šå›¾ï¼‰ï¼Œèƒ½å¤Ÿè¾ƒå¥½åœ°ç†è§£è¿™ä¸ªåŸºç¡€æ¨¡å‹çš„æ¦‚å¿µã€‚ 1.3 ç ”ç©¶è´¡çŒ® â€‹ Pathwaysç³»ç»Ÿä¸æœ€å…ˆè¿›çš„MLç³»ç»ŸçŠ¶æ€çš„åŠŸèƒ½å’Œæ€§èƒ½åŒ¹é…ï¼Œæ”¯æŒæœªæ¥MLå·¥ä½œè´Ÿè½½æ‰€éœ€è¦çš„åŠŸèƒ½ã€‚Pathwaysä½¿ç”¨çš„ä½“ç³»ç»“æ„ä¸ºclient-serverä½“ç³»ç»“æ„ã€‚è¿™ä¸ªä½“ç³»ç»“æ„ä½¿å¾—Pathwaysè¿è¡Œæ—¶èƒ½å¤Ÿä»£è¡¨è®¸å¤šå®¢æˆ·åœ¨ç³»ç»Ÿç®¡ç†çš„è®¡ç®—å²›ä¸Šæ‰§è¡Œç¨‹åºã€‚ åˆ›æ–°æ€§ï¼š Pathwaysæ—¨åœ¨é€æ˜æœ‰æ•ˆæ‰§è¡Œè·¨è¶ŠTPUçš„\"POD\"ç¨‹åºçš„ç³»ç»Ÿ é‡‡ç”¨æ•°æ®æµæ‰§è¡Œï¼ˆDataFlow Executionï¼‰æ¨¡å‹æ¥æ‰©å±•åˆ°æ•°åƒä¸ªåŠ é€Ÿå™¨ â€‹ PATHWAYSä½¿éSPMDè®¡ç®—å˜å¾—å®¹æ˜“ï¼Œå¹¶å¯ç”¨äº†CENLALALIZEDèµ„æºç®¡ç†å’Œè™šæ‹ŸåŒ–ï¼Œæ”¹å–„äº†åŠ é€Ÿå™¨çš„åˆ©ç”¨ç‡ã€‚ äºŒã€è®¾è®¡åŠ¨æœº 2.1 ç°æœ‰MLç³»ç»Ÿçš„è®¾è®¡ â€‹ ç°æœ‰çš„MLç³»ç»Ÿçš„è®¾è®¡éš¾ä»¥æ”¯æŒå¤§å‹çš„ï¼Œç¨€ç–çš„ï¼Œæˆ–è€…ä¸è§„åˆ™çš„æ¨¡å‹ã€‚ 2.1.1 Multi-controller System â€‹ ç”¨äºè®­ç»ƒæœ€å…ˆè¿›çš„SPMDæ¨¡å‹çš„åˆ†å¸ƒå¼MLç³»ç»Ÿé€šå¸¸é‡‡ç”¨å¤šæ§åˆ¶å™¨ï¼ˆmulti-controllerï¼‰ä½“ç³»ç»“æ„ï¼Œå…¶ä¸­ç›¸åŒçš„å®¢æˆ·æœºå¯æ‰§è¡Œæ–‡ä»¶ç›´æ¥åœ¨ç³»ç»Ÿä¸­çš„æ‰€æœ‰ä¸»æœºä¸Šè¿è¡Œï¼Œåœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ç‹¬å è¿™äº›ä¸»æœºä¸Šçš„èµ„æº è®­ç»ƒæœ€å…ˆè¿›çš„SPMDçš„åˆ†å¸ƒå¼MLç³»ç»Ÿä¾‹å­\\begin{cases}MPI\\\\Pytorth\\\\ JAX\\\\ TensorFlow\\\\ ......\\end{cases} â€‹ è¿™ç§æ¶æ„çš„ä¼˜ç‚¹æ˜¯è®¡ç®—çš„ä½å»¶è¿Ÿï¼šå› ä¸ºç”¨æˆ·ä»£ç çš„ç›¸åŒå‰¯æœ¬è¿è¡Œåœ¨æ¯ä¸ªåŠ é€Ÿå™¨çš„ä¸»æœºä¸Šï¼Œå¹¶ä¸”åˆ†æ´¾è¡¥ä¸åªæ¶‰åŠåˆ°é€šè¿‡ç›¸å¯¹å¿«é€Ÿçš„PCIeé“¾è·¯è¿›è¡Œé€šä¿¡ã€‚æ‰€æœ‰å…¶ä»–è·¨ä¸»æœºçš„é€šä¿¡åªé€šè¿‡ä½¿ç”¨ä¸“ç”¨äº’è¿çš„é›†åˆå‘ç”Ÿï¼Œå¦‚NVLinkï¼Œè€Œä¸ä½¿ç”¨ä¸»æœºå†…å­˜ã€‚ â€‹ ç¼ºç‚¹ï¼š è¿™ç§æ¶æ„ä¸ä½¿ç”¨æµæ°´çº¿æˆ–è€…å…·æœ‰è®¡ç®—ç¨€ç–æ€§çš„çº¿ä»£MLå·¥ä½œè´Ÿè½½ä¸åŒ¹é…ã€‚ multi-controllerç³»ç»Ÿä¸­ï¼Œä»»ä½•è¶…è¿‡æ ‡å‡†é›†åˆçš„é€šä¿¡éœ€è¦ç”¨æˆ·å®ç°ä»–ä»¬è‡ªå·±çš„åè°ƒåŸè¯­ multi-controlleré€šå¸¸å‡å®šç‹¬å ç¡¬ä»¶èµ„æºï¼Œä½¿å¾—æ„å»ºé«˜æ•ˆçš„é›†ç¾¤èŒƒå›´MLè®¾è®¡å˜å¾—å¤æ‚ 2.1.2 Single-controller System â€‹ å•æ§åˆ¶å™¨ï¼ˆsingle-controllerï¼‰ç³»ç»Ÿï¼Œå¦‚TensorFlow v1æä¾›äº†ä¸€ä¸ªåŒ…æ‹¬ä¼˜åŒ–å›¾å†…æ§åˆ¶æµçš„éå¸¸é€šç”¨çš„åˆ†å¸ƒå¼æ•°æ®æµæ¨¡å‹ã€‚ â€‹ TensorFlow (TF) Pythonå®¢æˆ·ç«¯æ„å»ºä¸€ä¸ªè®¡ç®—å›¾ï¼Œå¹¶å°†å…¶ç§»äº¤ç»™åè°ƒè¿è¡Œæ—¶ï¼Œåè°ƒè¿è¡Œæ—¶å°†å›¾åˆ’åˆ†ä¸ºæ¯ä¸ªworkerçš„å­å›¾ï¼Œå¹¶å°†å­å›¾çš„æ‰§è¡Œå§”æ‰˜ç»™workerä¸Šçš„æœ¬åœ°è¿è¡Œæ—¶ã€‚workerä¹‹é—´çš„åè°ƒæ˜¯é€šè¿‡æ•°æ®å’Œæ§åˆ¶è¾¹ç¼˜åœ¨æ•°æ®ä¸­å¿ƒç½‘ç»œ(DCN)ä¸Šä¼ é€’æ¶ˆæ¯æ¥æ‰§è¡Œçš„ã€‚ è™½ç„¶å•æ§åˆ¶å™¨è®¾è®¡æä¾›äº†çµæ´»çš„ç¼–ç¨‹æ¨¡å‹å’Œè™šæ‹ŸåŒ–èµ„æºï¼Œä½†å®ƒæå‡ºäº†å®ç°çš„æŒ‘æˆ˜ï¼š 2.1.2.1 TF1 SPMD é€šä¿¡æ›´æ…¢ï¼šå•æ§åˆ¶ç³»ç»Ÿç³»ç»Ÿä¸­çš„å®¢æˆ·ç«¯æ›´è¿œï¼Œåˆ†æ´¾å»¶è¿ŸåŒ…æ‹¬DCNä¸Šçš„é€šä¿¡ï¼Œé€šå¸¸æ¯”PCIeæ…¢ä¸€ä¸ªæ•°é‡çº§ controllerä¸ºäº†æ›´å¥½çš„åˆ†æ´¾å­å›¾ï¼Œå¯èƒ½ä¼šé¢„å…ˆç¼–è¯‘ä¼˜åŒ–å›¾ï¼Œè¿™æ ·çš„ä¼˜åŒ–ä¼šä½¿debugå˜å¾—å›°éš¾ åœ¨æ¶‰åŠè®¸å¤šè·¨ä¸»æœºä¼ è¾“çš„ç¨‹åºä¸­ï¼Œä¾‹å¦‚ä½¿ç”¨å¤§é‡çš„é˜¶æ®µï¼Œè¿™äº›è°ƒåº¦å»¶è¿Ÿç´¯ç§¯ï¼Œå¯¼è‡´ä½æ•ˆçš„åŠ é€Ÿå™¨åˆ©ç”¨ç‡ã€‚ 2.1.2.2 TF1 non-SPMD ä¸ºäº†æ”¯æŒå¸¦æœ‰SPMDçš„å­è®¡ç®—çš„MPMDç¨‹åºå¹¶å‘æ‰§è¡Œï¼Œè¿è¡Œæ—¶éœ€è¦æœ‰æŸç§æœºåˆ¶æ¥æ”¯æŒåŠ é€Ÿå™¨è®¡ç®—çš„åˆ†ç»„è°ƒåº¦ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ­»é”ã€‚ è®¡ç®—ç»“ç‚¹å˜å¤šï¼Œè¾¹å˜å¤šï¼Œä¸­å¤®æ§åˆ¶å™¨æŒ‡ä»¤æ”¶å‘æˆä¸ºä¸€ç§ç“¶é¢ˆâ€”â€”å¸¦å®½å˜ä½ï¼Œé€šä¿¡é‡å¢å¤š 2.2 PATHWAYSç›®æ ‡ â€‹ è€Œé’ˆå¯¹Pathwaysæ¥è¯´ï¼ŒPathwayså¹¶ä¸æ˜¯æ‰“ç®—å»è§£å†³TF1åœ¨åˆ†ç»„è°ƒåº¦ã€debugå›°éš¾è¿™æ ·çš„æ˜“ç”¨æ€§çš„é—®é¢˜ï¼Œè€Œæ˜¯è®¤ä¸ºTF1è¿™æ ·çš„è®¾è®¡æ˜¯åˆç†çš„ï¼Œå³åœ¨ç³»ç»Ÿä¸Šï¼ŒæŠŠè¿™æ ·æœ‰ä¸€ä¸ªä¸­å¤®controllerï¼Œèƒ½å¤ŸæŠŠä»»åŠ¡åˆ†é…åˆ°å„ä¸ªç»“ç‚¹ä¸Šã€‚åŒæ—¶è¿™ä¸ªæ¦‚å¿µç§°ä¸ºdataflowã€‚â€”â€”è®ºæ–‡é¢˜ç›®dataflowçš„ç”±æ¥ dataflowï¼š è®¡ç®—è¡¨ç¤ºæˆä¸€ä¸ªè®¡ç®—çš„å›¾ï¼Œä¸€ä¸ªç»“ç‚¹æ˜¯ä¸€ä¸ªè®¡ç®—ï¼Œç®­å¤´è¡¨ç¤ºä¾èµ–çš„å…³ç³»ã€‚ ç³»ç»Ÿçš„ç›®æ ‡ï¼šç»™ä¸€ä¸ªè®¡ç®—å›¾ï¼Œæœ‰å‘æ— ç¯å›¾ï¼Œå¦‚ä½•æŠŠä»–æ˜ å°„åˆ°ç¡¬ä»¶ä¸Šï¼Œæ›´å¥½åœ°è°ƒåº¦æ‰§è¡Œã€‚ â€‹ TF1å—é™çš„é—®é¢˜ï¼šTF1è€ƒè™‘çš„æ˜¯æ¯”è¾ƒå°çš„å›¾ï¼Œæ˜¯åœ¨å‡ ç™¾ä¸ªåŒæ„çš„åŠ é€Ÿå™¨ä¸Šæ‰§è¡Œã€‚ â€‹ TF1 æ‰§è¡Œå¤§å›¾çš„é—®é¢˜ï¼š â€‹ TF1ä¸­å›¾çš„ç»“ç‚¹å’Œè¾¹å˜å¤šï¼Œç»“ç‚¹è¿›è¡Œçš„è¿ç®—è¾ƒå°‘ï¼Œä¸­å¤®æ§åˆ¶å™¨è¿›è¡ŒæŒ‡ä»¤æ”¶å‘æˆä¸ºäº†ä¸€ä¸ªç“¶é¢ˆâ€”â€”å¸¦å®½å˜ä½ï¼Œé€šä¿¡é‡å¢å¤šäº† not good â€‹ ç°åœ¨æ¨¡å‹æ›´å¤§ï¼Œå¼‚æ„ï¼Œå¦‚ä½•ä¿®æ”¹è®¾è®¡ï¼Ÿ ä»é‡‡ç”¨å•æ§åˆ¶å™¨ï¼ˆsingle controllerï¼‰ï¼šåˆ©ç”¨è®¡ç®—ç¨€ç–æ€§å’Œå¼‚æ„æ€§ï¼Œä¿ƒè¿›èµ„æºå…±äº«å’Œè™šæ‹ŸåŒ– å¼‚æ­¥è°ƒåº¦æ¥åŒ¹é…å¤šæ§åˆ¶å™¨ç³»ç»Ÿçš„æ€§èƒ½ æ”¯æŒé›†ä¸­èµ„æºç®¡ç†å’Œè°ƒåº¦ï¼Œä½¿åˆ†ç‰‡æ•°æ®æµç³»ç»Ÿé«˜æ•ˆåè°ƒ ä¸‰ã€ PATHWAYS ç¼–ç¨‹æ¨¡å‹ Googleæ·±åº¦å­¦ä¹ æ¡†æ¶å‰ç½®çŸ¥è¯†ï¼š ç¬¬ä¸€ä»£æ·±åº¦å­¦ä¹ æ¡†æ¶disBlief ç¬¬äºŒä»£æ·±åº¦å­¦ä¹ æ¡†æ¶TensorFlow v1ï¼šè°ƒè¯•ä¸æ–¹ä¾¿ï¼Œæ€§èƒ½ä¼˜åŒ–æ–¹ä¾¿ï¼›è¿è¡Œå¾—åˆ°çš„æ˜¯ä¸€å¼ å›¾ï¼Œè€Œä¸æ˜¯ä¸­é—´çš„ç»“æœï¼›è¿è¡Œå®Œåå¾—åˆ°çš„å®Œæ•´çš„æ‰§è¡Œå›¾ å¥½å¤„ï¼šåç«¯å¯ä»¥è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼›è®¡ç®—å›¾ä¸Pythonæ— å…³ï¼Œçµæ´»æ€§æé«˜ ç¼ºç‚¹ï¼šè°ƒè¯•å˜å¾—å›°éš¾ TensorFlow v2ï¼šä¸TensorFlow v1ä¸åŒï¼Œå‡ ä¹æ˜¯å¦ä¸€å¥—æ¡†æ¶ è°·æ­Œä¹‹åå¼€å§‹ç ”ç©¶TPUï¼Œä¸ºTPUå¼€å‘äº†ç¼–è¯‘å™¨XLAï¼›XLAä¹‹åä¹Ÿæ”¯æŒäº†GPUå’ŒTPUï¼Œæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„åç«¯ JAXï¼šXLAçš„å‰ç«¯ï¼Œè®¾è®¡ç†å¿µæ˜¯æä¾›ä¸€ä¸ªä¸numpyç±»ä¼¼çš„å‰ç«¯â€”â€”å¯ä»¥æŒ‰è¡Œæ‰§è¡Œï¼Œå®é™…ä¸Šé‡‡ç”¨çš„æ˜¯ä¸€ç§å»¶åæ‰§è¡Œçš„æ–¹æ³•ï¼› ä»ç”¨æˆ·çœ‹ï¼šå’ŒPythonæŒ‰è¡Œæ‰§è¡Œä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆåŒºåˆ« ä»åç«¯ï¼šæ‹¿åˆ°å¾ˆå¤šå›¾ï¼Œåªæ˜¯å›¾å¤§å°å˜å°å¾ˆå¤š JAXæä¾›è‡ªåŠ¨æ±‚å¯¼ç­‰åŠŸèƒ½ 3.1 JAXå’ŒTensorFlowå¯¹PATHWAYSæ”¯æŒ 3.1.1 JAXè¯„ä¼°çš„ä¼˜ç‚¹ â€‹ ç›®å‰è¿›åº¦ï¼šå®ç°äº†ä½¿ç”¨TensorFlowå’ŒJAXç¼–å†™çš„æºç¨‹åºå¯¹PATHWAYSçš„æ”¯æŒ â€‹ JAXä¼˜ç‚¹ï¼šå¯ä»¥æ˜¾å¼ä½¿ç”¨Pythonçš„è£…é¥°å™¨ï¼ˆdecoratorï¼‰ï¼ŒæŒ‡ç¤ºé‚£äº›åŸæœ¬åº”è¯¥è¢«ç¼–è¯‘æˆSPMDçš„pythonä»£ç ã€‚ @pw.program # Program tracing (optional) def f(v): x = a(v) y = b(x) z = a(c(x)) return (y, z) â€‹ è¿™äº›XLAè®¡ç®—çš„ç‰¹ç‚¹æ˜¯å·²çŸ¥è¾“å…¥å’Œè¾“å‡ºç±»å‹å’Œå½¢çŠ¶ï¼Œå¯ä»¥æå‰ä¼°è®¡è®¡ç®—çš„èµ„æºéœ€æ±‚ã€‚ç§°ä¸ºâ€œç¼–è¯‘å‡½æ•°â€ï¼ˆcompiled functionï¼‰ï¼Œå¹¶ä¸”æ¯ä¸ªè¿™æ ·çš„å‡½æ•°éƒ½æ˜ å°„åˆ°PATHWAYSç¨‹åºä¸­çš„å•ä¸ªï¼ˆåˆ†ç‰‡ï¼‰è®¡ç®—èŠ‚ç‚¹ã€‚ 3.1.2 PATHWAYS+JAXå®ç°TPUæ•°é‡æ‰©å±• multi-controllerä¸‹çš„JAX ä½¿ç”¨XLAé›†åˆä¼ è¾“æ‰€æœ‰æ•°æ®ï¼ŒJAXæ— æ³•æ‰©å±•åˆ°å•ä¸ªTPU podå¤–â€”â€”æ— æ³•é€‚åº”å½“å‰MLå‘å±•çš„éœ€æ±‚ ä½¿ç”¨PATHWAYSä½œä¸ºJAXæ›¿ä»£åç«¯ JAXä»£ç ä¸éœ€è¦ä¿®æ”¹ PATHWAYSå¯ä»¥é€šè¿‡ICIå’ŒDCNè¿›è¡Œé€šä¿¡ï¼Œå¯ä»¥ä½¿JAXç¨‹åºæ‰©å±•åˆ°å¤šä¸ªTPU podsï¼Œå¯è®¿é—®æ•°åƒä¸ªTPUæ ¸å¿ƒ 3.1.3 ç¼–ç¨‹æ¨¡å‹ â€‹ ä¸‹é¢æ˜¯Pythonç”¨æˆ·ä»£ç åº”ç”¨äºåœ¨å¤šä¸ªTPUä¸Šçš„PATHWAYSç¤ºä¾‹ï¼š def get_devices(n): \"\"\"Allocates `n`virtual TPU devices on an island.\"\"\" device_set = pw.make_virtual_device_set() return device_set.add_slice(tpu_devices=n).tpus a = jax.pmap(lambda x: x * 2., devices=get_devices(2)) // get_devices(2)è¿”å›ä¸¤ä¸ªè™šæ‹ŸTPUï¼Œè¿è¡Œæ—¶å†æ ¹æ®PATHWAYSåšå…·ä½“çš„æ˜ å°„ä¸è°ƒåº¦ b = jax.pmap(lambda x: x + 1., devices=get_devices(2)) c = jax.pmap(lambda x: x / 2., devices=get_devices(2)) @pw.program # Program tracing (optional) def f(v): x = a(v) y = b(x) z = a(c(x)) return (y, z) print(f(numpy.array([1., 2.]))) # output: (array([3., 5.]), array([2., 4.])) â€‹ ç®€è¦åˆ†æä¸‹ç¨‹åºï¼ša(),b(),c()ä¸‰ä¸ªå‡½æ•°é¦–å…ˆå£°æ˜åœ¨ä»€ä¹ˆç¡¬ä»¶ä¸Šè¿è¡Œï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯JAXçš„pmap()å‡½æ•°ï¼Œpmap() å®ç°å¹¶è¡Œçš„æ˜ å°„ï¼Œå°†å‡½æ•°æ˜ å°„åˆ°ä¸¤ä¸ªTPUè®¾å¤‡ä¸Šã€‚get_devices()æ˜¯PATHWAYSçš„å‡½æ•°ï¼ŒPATHWAYSç”¨æˆ·å¯ä»¥é€šè¿‡get_devices()è¯·æ±‚ä¸¤ä¸ªè™šæ‹Ÿçš„TPUï¼Œå¾…è¿è¡Œæ—¶å†åšå…·ä½“çš„æ˜ å°„ç‰©ç†TPUå’Œä¼˜åŒ–ã€‚ç³»ç»Ÿå°†è‡ªåŠ¨å¤„ç†æ‰€æœ‰ç›¸å…³è®¡ç®—ä¹‹é—´çš„æ•°æ®ç§»åŠ¨å’Œé‡åˆ†ç‰‡ã€‚ 3.1.3.1 æ— Program tracingä¸‹çš„PATHWAYSï¼ˆé»˜è®¤æƒ…å†µï¼‰ â€‹ å‡å¦‚ç¨‹åºä¸­line 11@pw.program # Program tracing (optional)ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆï¼Œå³å¦‚ä¸‹ç¨‹åºï¼š def get_devices(n): \"\"\"Allocates `n`virtual TPU devices on an island.\"\"\" device_set = pw.make_virtual_device_set() return device_set.add_slice(tpu_devices=n).tpus a = jax.pmap(lambda x: x * 2., devices=get_devices(2)) b = jax.pmap(lambda x: x + 1., devices=get_devices(2)) c = jax.pmap(lambda x: x / 2., devices=get_devices(2)) def f(v): x = a(v) y = b(x) z = a(c(x)) return (y, z) print(f(numpy.array([1., 2.]))) # output: (array([3., 5.]), array([2., 4.])) â€‹ åœ¨ä¸Šè¿°ç¨‹åºä¸­ï¼Œf()å‡½æ•°ä¼šè§¦å‘4æ¬¡ç¼–è¯‘ï¼Œ4æ¬¡è°ƒåº¦ï¼šæ¯ä¸ªç¼–è¯‘åçš„å‡½æ•°a()ï¼Œb()æˆ–c()éƒ½ä¼šè½¬æ¢ä¸ºä¸€ä¸ªç‹¬ç«‹çš„ï¼Œä»…åŒ…å«ä¸€ä¸ªåˆ†ç‰‡è®¡ç®—çš„PATHWAYSå‡½æ•°ã€‚åœ¨è°ƒåº¦æ—¶ï¼Œç¼–è¯‘å¥½çš„å‡½æ•°å‘é€åˆ°å…·ä½“çš„ç‰©ç†TPUä¸Šè¿è¡Œï¼Œå¹¶è¿”å›ç»“æœã€‚é‰´äºa()ï¼Œb()ï¼Œc()ä¸‰ä¸ªå‡½æ•°è¾ƒä¸ºç®€å•ï¼Œè‹¥æ˜¯é‡‡ç”¨ç¼–è¯‘ä¸ºå•ä¸ªåˆ†ç‰‡çš„PATHWAYSå‡½æ•°å†å‘é€çš„ç­–ç•¥ï¼Œå¦‚ä¸‹å›¾ï¼Œä¼šåœ¨RPCä¸Šè€—è´¹è¾ƒå¤§çš„ä»£ä»·ã€‚ å› æ­¤ï¼ŒPATHWAYSä½¿ç”¨äº†Program tracingã€‚ 3.1.3.2 å«Program tracingä¸‹çš„PATHWAYS â€‹ åœ¨ä¸Šè¿°ä»£ç ä¸­å¢åŠ @pw.programã€‚ @è¡¨ç¤ºpythonä¸­çš„è£…é¥°å™¨ â€‹ å¢åŠ åï¼ŒPATHWAYSä¼šæŠŠf()ç¼–è¯‘ç§°ä¸ºä¸€ä¸ªå•ç‹¬çš„å‡½æ•°ï¼Œåªéœ€è¦ç¼–è¯‘ä¸€æ¬¡ï¼Œè°ƒç”¨æ—¶å°†æ•´ä¸ªå®Œæ•´çš„å‡½æ•°å‘é€ï¼Œä»¥ä¸€ä¸ªæ›´å¤§çš„ä»»åŠ¡å½¢å¼å»æ‰§è¡Œã€‚ 3.2 PATHWAYSæ”¯æŒçš„ç¼–ç¨‹æ¨¡å‹æˆæœ ç¡¬ä»¶çš„æŠ½è±¡ä¸æ˜ å°„ devices=get_devices() é¢å¤–çš„æ¥å£å‡½æ•°ï¼Œæ‰“åŒ…æ›´å¤§ä»»åŠ¡å»æ‰§è¡Œ @pw.program â€‹ PATHWAYSå…¶å®ä¸æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ªåç«¯ï¼Œé€šè¿‡è¿™æ ·ç¼–ç¨‹æ¥å£çš„æ–¹å¼åµŒå…¥åˆ°å‰ç«¯ä¸Šã€‚è¿™é‡Œçš„å‰ç«¯æ˜¯JAXï¼Œä½†ä¹Ÿå¯ä»¥ç”¨åˆ°TensorFlowä¸Šã€‚ å››ã€PATHWAYS ç³»ç»Ÿæ¶æ„ â€‹ PATHWAYSå¹¿æ³›å»ºç«‹åœ¨ä»¥å‰çš„MLç³»ç»Ÿçš„åŸºç¡€ä¸Šï¼ŒåŸºç¡€åŒ…æ‹¬ï¼š XLAè¡¨ç¤ºå’Œæ‰§è¡ŒTPUè¿ç®— TensorFlowå›¾æ¥è¡¨ç¤ºå’Œæ‰§è¡Œåˆ†å¸ƒå¼CPUè®¡ç®— Pythonç¼–ç¨‹æ¡†æ¶ï¼ŒJAXç­‰ â€‹ PATHWAYSèƒ½æ›´å…³æ³¨ä¸€äº›æ–°é¢–çš„åè°ƒæ–¹é¢çš„ä»»åŠ¡ï¼Œä½¿ç”¨æ›´å°‘çš„ä»£ç ä¼˜åŒ–MLæ¨¡å‹ã€‚ 4.1 èµ„æºç®¡ç†å™¨ï¼šå®ç°è™šæ‹Ÿè®¾å¤‡æ˜ å°„ â€‹ ä¸€ç»„åŠ é€Ÿå™¨ç»„æˆäº†PATHWAYSçš„åç«¯ï¼Œè¿™äº›åŠ é€Ÿå™¨è¢«åˆ†ç»„ä¸ºç´§å¯†è€¦åˆçš„å­¤å²›ï¼ˆtightly-coupled islandï¼‰ï¼Œå­¤å²›ä¹‹é—´é€šè¿‡DCNç›¸äº’è¿æ¥ã€‚å²›å†…çš„TPUè¿æ¥æ˜¯é«˜å¸¦å®½çš„ï¼Œè€Œå²›ä¸å²›ä¹‹é—´çš„è¿æ¥éœ€è¦ä½¿ç”¨å…±äº«çš„æ•°æ®ä¸­å¿ƒç½‘ç»œï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚å¦å¤–ä¸€ä¸ªæ¦‚å¿µä¸ºPODSï¼Œä¸€ä¸ªPODSæœ€å¤šæœ‰2048ä¸ªTPUæ ¸ï¼Œåœ¨æ¨¡å‹è¾ƒå°çš„æƒ…å†µä¸‹ä¸éœ€è¦è·¨PODè®¡ç®—ï¼Œè€Œåœ¨æ¨¡å‹è¾ƒå¤§æ—¶ï¼Œå•ä¸ªçš„PODä¸èƒ½æ”¯æŒè¾ƒå¤§æ¨¡å‹ã€‚ â€‹ PATHWAYSå³æ˜¯ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜æå‡ºçš„ï¼Œå…¶ç›®æ ‡åˆ™æ˜¯é’ˆå¯¹åœ¨ä¸€ä¸ªPODæ— æ³•æ”¯æŒè¾ƒå¤§æ¨¡å‹çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å¤šä¸ªPODï¼Œç±»æ¯”å•æœºæ¥è¯´ï¼Œå³æ˜¯ä¸€ç§å¤šæœºå¤šå¡çš„è®­ç»ƒå½¢å¼ã€‚ â€‹ PATHWAYSèµ„æºç®¡ç†å™¨ï¼ˆResource Managerï¼‰è´Ÿè´£é›†ä¸­ç®¡ç†å²›å±¿ä¸Šçš„æ‰€æœ‰è®¾å¤‡ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚è¿›è¡ŒåŠ é€Ÿå™¨çš„åˆ†é…ã€‚å°†è™šæ‹Ÿçš„TPUæ˜ å°„åˆ°ç‰©ç†çš„TPUä¸Šã€‚ ç›®å‰ï¼šä¸€å¯¹ä¸€çš„æ˜ å°„ï¼ŒæŒ‰éœ€åˆ†é… æœªæ¥ï¼šæ”¯æŒåŠ¨æ€çš„ç»“ç‚¹åŠ ä¸å‡ 4.2 å®¢æˆ·ç«¯ Clientï¼šä»»åŠ¡æ‰§è¡Œçš„è¿‡ç¨‹ â€‹ è®ºæ–‡è¿™éƒ¨åˆ†æè¿°äº†ç”¨æˆ·ä»»åŠ¡æ‰§è¡Œçš„ç»†èŠ‚è¿‡ç¨‹ï¼Œå³PATHWAYSæ˜¯å¦‚ä½•å°†ç”¨æˆ·çš„ä»»åŠ¡ç¼–è¯‘å¹¶è¿è¡Œçš„ï¼š step1ï¼šç”¨æˆ·è¿è¡Œtraced program step2ï¼šè°ƒç”¨PATHWAYSå®¢æˆ·ç«¯ç¨‹åºåº“ï¼Œæœªä¹‹å‰æ²¡æœ‰è¿è¡Œè¿‡çš„è®¡ç®—åˆ†é…ç‰©ç†è®¾å¤‡ï¼Œå¹¶åœ¨èµ„æºç®¡ç†å™¨ä¸­æ³¨å†Œï¼Œè§¦å‘æœåŠ¡å™¨åå°ç¼–è¯‘è®¡ç®— step3ï¼šJAXå°†ç”¨æˆ·ç¨‹åºï¼ˆä»»åŠ¡ï¼‰ç¼–è¯‘æˆä¸ºMILR MILRï¼šå¯ä»¥è®¤ä¸ºæ˜¯XLAçš„ä¸€ä¸ªä¸Šå±‚çš„è¯­è¨€ï¼Œç”¨äºæ”¯æŒåŠ¨æ€çš„æ•°æ®æµä¸åŠ¨æ€å½¢çŠ¶çš„è¾“å…¥å’Œè¾“å‡ºï¼Œæ˜¯ä¸€ä¸ªé«˜å±‚çš„IR step4ï¼šIRé€šè¿‡ä¸€ç³»åˆ—æ ‡å‡†çš„ç¼–è¯‘å™¨ä¼ é€’é€æ¸â€œé™ä½â€ï¼Œæœ€ç»ˆè¾“å‡ºä¸€ä¸ªåŒ…å«ç‰©ç†è®¾å¤‡ä½ç½®çš„ä½çº§è¡¨ç¤ºã€‚ â€‹ åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è€ƒè™‘ä¸€äº›åˆ†å¸ƒå¼é€šè®¯çš„é—®é¢˜ï¼Œä¼šæ˜ å°„åˆ°ä¸€äº›ç½‘ç»œé€šè®¯æ¶æ„ã€‚ PATHWAYSä½¿ç”¨RDMAå®ç°å¯¹è¿œç«¯ä¸»æœºå†…å­˜è®¿é—®ï¼Œç”±äºä½¿ç”¨äº†RDMAï¼Œæ‰€ä»¥ä¸»æœºä¸Šçš„ä¸€å—å†…å­˜å¯èƒ½è™½ç„¶ä¸è¢«æœ¬æœºä½¿ç”¨ï¼Œä½†æ˜¯è¿œç«¯æœºå™¨å¯èƒ½ä¼šä½¿ç”¨ã€‚ä»¥å‰çš„single-controllerå’Œç°åœ¨çš„PATHWAYSé’ˆå¯¹äºè¿™æ–¹é¢çš„å¤„ç†æœ‰æ‰€ä¸åŒï¼š older single-controllerï¼šåè°ƒæ•°åƒä¸ªæ•°æ®ç¼“å†²åŒºï¼Œæ¯”å¦‚è¯´æ¯ä¸ªå°å—ç»´æŠ¤ä¸€ä¸ªcounterï¼Œç»´æŠ¤æ•°åƒä¸ªcounterå»è®¡æ•°å¼•ç”¨ã€‚ PATHWAYSï¼šä½¿ç”¨shared bufferæŠ½è±¡ä¸€ä¸ªå¯ä»¥åˆ†å¸ƒåœ¨å¤šä¸ªè®¾å¤‡ä¸Šçš„é€»è¾‘ç¼“å†²åŒºï¼Œé€šè¿‡shared bufferåˆ†æ‘Šå¼•ç”¨è®¡æ•°çš„æˆæœ¬ï¼Œå¸®åŠ©å®¢æˆ·æ‰©å±•ã€‚ 4.3 Coordination implementationï¼šæ•°æ®çš„æ”¶å‘ â€‹ è¿™éƒ¨åˆ†è¯´æ˜çš„æ˜¯å¦‚ä½•åœ¨æ•°æ®ä¸­å¿ƒçš„ç½‘ç»œä¸Šé«˜æ•ˆåœ°æ”¶å‘æ•°æ®ã€‚ â€‹ æ•°æ®ä¸­å¿ƒçš„ç½‘ç»œæ˜¯æœ‰ä¸€å®šçš„ç»“æ„çš„ï¼Œå¦‚ä½•é€‰æ‹©å‘é€çš„è·¯å¾„ï¼Œå‘é€çš„æ–¹å¼ï¼ˆåŒæ—¶å‘ï¼Ÿï¼‰ç­‰æ˜¯éœ€è¦åŠ¨æ€è°ƒæ•´çš„ã€‚PATHWAYSä½¿ç”¨PLAQUEè¿›è¡Œä¼˜åŒ–ï¼Œå°†ä½å±‚æ¬¡çš„IRè¡¨ç¤ºä¸ºplaqueçš„è¡¨ç¤ºï¼Œå¯ä»¥æ»¡è¶³å…·ä½“çš„éœ€è¦ã€‚ â€‹ PLAQUEä¼˜åŒ–æ”¯æŒç¨€ç–é€šä¿¡ï¼Œè¿™æ˜¯PATHWAYSå¸Œæœ›å¯ç”¨çš„é‡è¦åŠŸèƒ½ä¹‹ä¸€ã€‚åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨Rayåšä»¥ä¼˜åŒ–ã€‚ 4.4 Gang-Scheduled dynamic dispatchï¼šæ­»é”çš„é¢„é˜² â€‹ TPUåªæ”¯æŒå•çº¿ç¨‹ï¼Œå¤šä¸ªTPUä¹‹é—´å¯èƒ½å‘ç”Ÿæ­»é”ã€‚è§£å†³æ–¹æ³•ï¼š å¼•å…¥å¤šçº¿ç¨‹ Gang-Schedule â€‹ æ‰€è°“çš„Gang-ScheduledæŒ‡çš„æ˜¯åœ¨æ¯ä¸ªå²›ä¸Šéƒ½æœ‰ä¸€ä¸ªé›†ä¸­çš„è°ƒåº¦å™¨ï¼Œè°ƒåº¦å™¨è´Ÿè´£å°†ä»»åŠ¡è¿›è¡Œåˆç†çš„æ’åºï¼Œé¿å…æ­»é”çš„å‘ç”Ÿã€‚ç›®å‰æ˜¯æŒ‰ç…§FIFOçš„é¡ºåºå·¥ä½œã€‚ 4.5 Parallel asynchronous dispatch å¹¶è¡Œå¼‚æ­¥åˆ†å‘ â€‹ å½“åœ¨åŠ é€Ÿå™¨ä¸Šè¿è¡Œæ—¶ï¼Œç³»ç»Ÿå¯ä»¥ç”¨å¼‚æ­¥APIå°†è®¡ç®—ä¸åè°ƒé‡å ã€‚ 4.5.1 é¡ºåºåˆ†å‘ Sequencial dispatch â€‹ å¦‚ä¸‹å›¾ï¼Œå…¶ä¸­çš„æ­£æ–¹å½¢å¯¹åº”ä¸‰ä¸ªèŠ‚ç‚¹Aã€Bå’ŒCï¼Œå®ƒä»¬è¿è¡Œåœ¨ä¸»æœºAã€Bå’ŒCæ‰€è¿æ¥çš„åŠ é€Ÿå™¨ä¸Šã€‚æ‰€æœ‰èŠ‚ç‚¹è®¡ç®—éƒ½æ˜¯å¸¸è§„çš„ç¼–è¯‘å‡½æ•°ã€‚ XLAåœ¨ç¼–è¯‘ä¸€æ®µä»£ç æ—¶å¿…é¡»çŸ¥é“è¿™æ®µä»£ç çš„è¾“å…¥å’Œè¾“å‡ºå½¢çŠ¶ï¼ŒçŸ¥é“å½¢çŠ¶åå¯ä»¥åœ¨åŠ é€Ÿå™¨ä¸Šåˆ›å»ºå†…å­˜ã€‚ â€‹ ä¸Šå›¾æè¿°äº†ä¸€ä¸ªè¿™æ ·çš„é¡ºåºå¤„ç†è¿‡ç¨‹ï¼š ä¸»æœºAæ’é˜Ÿç­‰å¾…èŠ‚ç‚¹Aï¼Œæ¥æ”¶åˆ°Aè¾“å‡ºçš„futureï¼Œå¹¶å°†futureå‘é€ç»™ä¸»æœºBã€‚ï¼ˆæ£•è‰²ç®­å¤´ï¼‰ ä¸»æœºBåˆ†é…Bçš„è¾“å…¥ï¼Œå°†è¾“å…¥çš„ç¼“å†²åŒºåœ°å€å‘é€ç»™ä¸»æœºAï¼Œå®Œæˆå¯åŠ¨èŠ‚ç‚¹BåŠŸèƒ½çš„å¤§éƒ¨åˆ†å‡†å¤‡å·¥ä½œã€‚ï¼ˆçº¢æ£•è‰²ç®­å¤´ï¼‰ å½“èŠ‚ç‚¹Aå®Œæˆæ—¶ï¼Œå®ƒçš„è¾“å‡ºé€šè¿‡åŠ é€Ÿå™¨äº’è¿ç›´æ¥å‘é€åˆ°èŠ‚ç‚¹Bçš„è¾“å…¥ç¼“å†²åŒºï¼Œç„¶åä¸»æœºBå¯åŠ¨èŠ‚ç‚¹Bã€‚ â€‹ ä¸€ä¸ªèŠ‚ç‚¹å®Œæˆå’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹å¯åŠ¨ä¹‹é—´çš„å»¶è¿Ÿå¯ä»¥æ¯”æ•°æ®ä¼ è¾“æ—¶é—´å¤šä¸€ç‚¹ã€‚ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ¥ï¼Œè¿™æ ·çš„é¡ºåºåˆ†é…çš„æ–¹å¼å­˜åœ¨å¤§é‡çš„stallï¼Œæ•ˆç‡è¾ƒä½ã€‚ â€‹ å³è¿™æ ·çš„å¤„ç†å›åˆ°äº†ä¹‹å‰æå‡ºçš„å­˜åœ¨çš„é—®é¢˜ï¼šå½“ç¨‹åºçš„è®¡ç®—å›¾å¾ˆå¤§ï¼Œç»“ç‚¹ä¹‹é—´çš„ä¾èµ–å¾ˆå¤æ‚ï¼ŒåŒæ—¶æ¯ä¸ªç»“ç‚¹çš„è®¡ç®—é‡ä¸æ˜¯å¾ˆå¤§æ—¶ï¼Œé‚£ä¹ˆå¾ˆå¤§ä¸€éƒ¨åˆ†çš„æ—¶é—´éƒ½æ¶ˆè€—åœ¨stallä¸Šäº†ã€‚ â€‹ å¹¶ä¸”å¦‚æœç¼–è¯‘çš„å‡½æ•°éƒ½æ˜¯è§„åˆ™çš„ï¼Œé‚£ä¹ˆå®é™…ä¸Šç”šè‡³å¯ä»¥åœ¨å‰ä¸€ä¸ªèŠ‚ç‚¹çš„è®¡ç®—è¿›å…¥é˜Ÿåˆ—ä¹‹å‰è®¡ç®—åç»§èŠ‚ç‚¹çš„è¾“å…¥å½¢çŠ¶ã€‚ 4.5.2 å¹¶è¡Œåˆ†å‘ Parallel dispatch â€‹ å¯¹äºå‡½æ•°æ˜¯è§„åˆ™çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥è¿›è¡Œä¼˜åŒ–çš„ï¼šå®¢æˆ·ç«¯ç¼–è¯‘ä¹‹åçŸ¥é“è¦å‘é€çš„å½¢çŠ¶ï¼Œæ”¶åˆ°çš„å½¢çŠ¶ã€‚åœ¨é€šçŸ¥ç»“ç‚¹Aæ—¶ä¼šåŒæ—¶é€šçŸ¥ç»“ç‚¹Bå’Œç»“ç‚¹Cå®ƒä»¬å°†ä¼šåˆ†åˆ«ä»ç»“ç‚¹Aå’Œç»“ç‚¹Bæ”¶åˆ°çš„è¾“å…¥çš„å½¢çŠ¶ã€‚äºæ˜¯ç­‰å¾…æ—¶é—´å¾—åˆ°äº†ç¼©å‡ã€‚ â€‹ ç”±äºå·¥ä½œåªèƒ½åœ¨å‡½æ•°æ˜¯è§„åˆ™ï¼ˆregularï¼‰çš„æƒ…å†µä¸‹è¿›è¡Œå¹¶è¡Œè°ƒåº¦ï¼Œæ‰€ä»¥PATHWAYSå°†å¹¶è¡Œè°ƒåº¦è§†ä¸ºä¸€ç§ä¼˜åŒ–ï¼Œå¹¶åœ¨ä¸€ä¸ªèŠ‚ç‚¹çš„èµ„æºéœ€æ±‚ç›´åˆ°å‰ä¸€ä¸ªè®¡ç®—å®Œæˆåæ‰çŸ¥é“çš„æƒ…å†µä¸‹(ä¾‹å¦‚ï¼Œç”±äºä¾èµ–æ•°æ®çš„æ§åˆ¶æµ)ï¼Œé€€å›åˆ°ä¼ ç»Ÿæ¨¡å‹ã€‚ 4.6 æ•°æ®ç®¡ç† Data management â€‹ æ¯ä¸ªä¸»æœºç®¡ç†ä¸€ä¸ªåˆ†ç‰‡çš„å¯¹è±¡å­˜å‚¨ï¼Œç±»ä¼¼äºRayçš„å¯¹è±¡å­˜å‚¨ï¼Œä½†æ‰©å±•åˆ°è·Ÿè¸ªæ¯ä¸ªåˆ†ç‰‡ä¸Šçš„åŠ é€Ÿå™¨HBMä¸­æŒæœ‰çš„ç¼“å†²åŒºã€‚ äº”ã€è¯„ä¼° 5.1 å®éªŒ â€‹ ä½¿ç”¨çš„ä»»åŠ¡è¾ƒå°ï¼Œä¸»è¦è¿˜æ˜¯æ¢è®¨ä¸åŒçš„å†³ç­–å¸¦æ¥çš„ç»“æœã€‚ 5.2 ä¸€äº›è®¨è®º æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨åœ¨GPUä¸Šï¼Ÿ GPUè®¾è®¡ç†å¿µä¸TPUä¸åŒï¼ŒGPUçš„ç¼–è¯‘ä¸Šä¸ä¼šä¼˜åŒ–è¿‡å¤šã€‚æ–‡ç« æåˆ°çš„ä¼˜åŒ–å¤§éƒ¨åˆ†å·²ç»åœ¨GPUä¸Šåšåˆ°äº†ã€‚ èµ„æºçš„ç®¡ç† ä½•å¦‚å»åšåˆ°åŠ¨æ€çš„èµ„æºçš„ç®¡ç†ï¼Œè€Œæ•´ä¸ªç³»ç»Ÿä¸»è¦å…³å¿ƒçš„æ˜¯å¤§æ¨¡å‹çš„è¿è¡Œï¼ŒåŠ¨æ€èµ„æºç®¡ç†ä½œä¸ºæœªæ¥å·¥ä½œã€‚ ç¨€ç–æ¨¡å‹ ä½œä¸ºæœªæ¥çš„å·¥ä½œ 5.3 è¯„ä»· â€‹ å¸®åŠ©JAXå¦‚ä½•çªç ´åœ¨ä¸€ä¸ªTPU Podsä¸Šè¿›è¡Œè®¡ç®—çš„å±€é™ï¼šä¸ä»…å¯ä»¥åœ¨2048ä¸ªæ ¸ä¸Šè®­ç»ƒã€‚ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®ºæ–‡é˜…è¯»/Alpaé˜…è¯»ç¬”è®°.html":{"url":"è®ºæ–‡é˜…è¯»/Alpaé˜…è¯»ç¬”è®°.html","title":"Alpaé˜…è¯»ç¬”è®°-2022-OSDI-éƒ‘æ€œæ‚¯","keywords":"","body":"Alpa: Automating Inter- and Intra-Operator Parallelism for Distributed Deep Learning Alpaé˜…è¯»ç¬”è®° ä¸€ã€è®ºæ–‡çš„ç ”ç©¶èƒŒæ™¯ã€åŠ¨æœºå’Œä¸»è¦è´¡çŒ® èƒŒæ™¯ï¼šå¤§æ¨¡å‹å’Œåˆ†å¸ƒå¼è®­ç»ƒ â€‹ æ·±åº¦å­¦ä¹ æœ€è¿‘çš„è¿›å±•ç›´æ¥å¯¼è‡´äº†æ¨¡å‹å¤§å°çš„å˜åŒ–ï¼Œå¦‚ï¼šGPD3äº¿ä¸‡çº§åˆ«çš„å‚æ•°ï¼ŒåŒæ—¶åœ¨æ›´å¤§æ•°æ®é›†ä¸Šè¿›è¡Œä¿®æ”¹ä»¥æ”¯æŒå…¼å®¹æ€§ã€‚æœ€æ–°çš„æ¨¡å‹ä¸Šå‚æ•°çš„æ•°é‡ä»¥æŒ‡æ•°çš„å½¢å¼å¢é•¿ã€‚ â€‹ è®­ç»ƒè¿™æ ·å¤§çš„æ¨¡å‹æ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚å› ä¸ºæ¨¡å‹çš„å‚æ•°ä¼—å¤šï¼Œå—é™äºå†…å­˜å¤§å°ï¼Œæ— æ³•åœ¨ä¸€ä¸ªå•ä¸€çš„åŠ é€Ÿå™¨ä¸Šè¿›è¡Œè®­ç»ƒã€‚åŒæ—¶ï¼Œè¿™ä¼šèŠ±è´¹å‡ ç™¾å¹´å»åœ¨ä¸€ä¸ªå•ç‹¬çš„åŠ é€Ÿå™¨ä¸Šè®­ç»ƒè¿™æ ·çš„æ¨¡å‹ã€‚å› æ­¤åˆ†å¸ƒå¼è®­ç»ƒæ˜¯å¿…é¡»çš„ã€‚ â€‹ è¿„ä»Šä¸ºæ­¢ï¼Œåˆ†å¸ƒå¼è®­ç»ƒå¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ï¼Œä¸ºäº†è®­ç»ƒç‰¹å®šçš„æ¨¡å‹äººä»¬å¿…é¡»å»å»ºç«‹ç‰¹å®šçš„ç³»ç»Ÿã€‚æœ‰ä¸€äº›æ¯”è¾ƒæµè¡Œçš„æŠ€æœ¯ï¼Œæ¯”å¦‚æ•°æ®å¹¶è¡Œï¼ˆdata parallelï¼‰ï¼Œå¼ é‡å¹¶è¡Œï¼ˆtensor parallelï¼‰å’Œæµæ°´çº¿å¹¶è¡Œï¼ˆpipeline parallelï¼‰ã€‚ [ç»†è¯»ç»å…¸]ä¸‰ç§å¹¶è¡ŒçŸ¥è¯† â€‹ ä¸‰ç§å¹¶è¡Œä¹‹é—´æœ‰ç€ä¸åŒçš„æƒè¡¡ï¼ˆtrade offï¼‰ï¼Œå¦‚æœè¦è®­ç»ƒä¸€ä¸ªè¾ƒå¤§çš„æ¨¡å‹ï¼Œä½ å¿…é¡»å»æ‰¾åˆ°ä¸€ä¸ªæ–¹æ³•å»ç»¼åˆè¿ç”¨è¿™ä¸‰ç§å¹¶è¡Œï¼Œä»è€Œä½ å¯ä»¥è¾¾åˆ°ä¸€ä¸ªå¥½çš„è®­ç»ƒååé‡ã€‚ä»¥ä¸‹æ˜¯ä¸“å®¶è®¾è®¡ç­–ç•¥çš„ä¸¤ä¸ªä¾‹å­ï¼š Megatron-LMç­–ç•¥ï¼šåœ¨transformerå±‚å¹¶è¡ŒåŒ–self-attentionæ¨¡å‹ â€‹ å¯¹äºå¤§å‹çš„transformeræ¨¡å‹ï¼Œæƒé‡çš„æ•°é‡éå¸¸å¤§ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨æ•°æ®å¹¶è¡Œã€‚æ‰€ä»¥éœ€è¦å¯¹æƒé‡è¿›è¡Œåˆ†ç‰‡ã€‚åœ¨è¿™ä¸ªæ¨¡å‹é‡Œé¢ï¼Œç¬¬ä¸€ä¸ªæƒé‡çŸ©é˜µå·²ç»è¢«æŒ‰åˆ—åˆ†ç‰‡ï¼Œç¬¬äºŒä¸ªçŸ©é˜µå·²ç»è¢«æŒ‰è¡Œåˆ†ç‰‡ï¼Œä»è€Œå‡å°‘é€šä¿¡ä»£ä»·ã€‚ GShard Mixture-of-Expert â€‹ ä¸“å®¶å±‚ï¼ˆçº¢è‰²éƒ¨åˆ†ï¼‰ä»¥ä¸“å®¶ç»´åˆ†ç‰‡ï¼Œéä¸“å®¶å±‚ä»¥æ‰¹å¤„ç†ç»´åº¦åˆ†ç‰‡åšæ•°æ®å¹¶è¡Œ â€‹ ä¸ºäº†åº”ç”¨è¿™æ ·çš„å¹¶è¡Œç­–ç•¥ï¼Œæ¨¡å‹å¼€å‘è€…ä¸å¾—ä¸å»é‡å†™ä»–ä»¬çš„æ¨¡å‹å®šä¹‰ï¼Œç‰¹å®šåŒ–åˆ†ç‰‡ç­–ç•¥ï¼Œå¹¶ä¸”æ’å…¥å¿…è¦çš„é€šä¿¡åŸè¯­ï¼Œæ¯”å¦‚è¿™é‡Œçš„all-to-allã€‚è¿™ä½¿å¾—å¼€å‘ä¸€ä¸ªæ–°çš„æ¨¡å‹æˆ–è€…å¯»æ‰¾å¼‚è´¨æ¨¡å‹å˜å¾—å›°éš¾ã€‚ â€‹ åœ¨æˆ‘ä»¬çš„è®ºæ–‡ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ç»Ÿä¸€æ‰€æœ‰çš„è¿™æ ·çš„å¹¶è¡ŒåŒ–ç­–ç•¥ï¼Œå¹¶ä¸”å»ºç«‹ä¸€ä¸ªç¼–è¯‘å™¨å»è‡ªåŠ¨äº§ç”Ÿæœ€ä¼˜çš„ç»¼åˆçš„å¹¶è¡ŒåŒ–ç­–ç•¥ã€‚æ‰€ä»¥ï¼Œé¦–å…ˆæˆ‘ä»¬æ€»ç»“äº†ç°æœ‰çš„å¹¶è¡ŒåŒ–ç­–ç•¥ï¼ŒæŠŠä»–ä»¬åˆ†æˆä¸¤ç§ï¼š Type1ï¼šIntra-operator Parallelism â€‹ æˆ‘ä»¬åˆ©ç”¨äº†å•ä¸ªæ“ä½œä¸­å›ºæœ‰çš„å¹¶è¡Œæ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°å®ƒä¸ºIntra-operator parallelism Type2ï¼šInter-operator Parallelism â€‹ æˆ‘ä»¬åˆ©ç”¨äº†åœ¨æ•´ä¸ªå›¾ä¸­çš„æ›´é«˜å±‚æ¬¡çš„å¹¶è¡Œï¼Œä½†ç”±äºæ•°æ®ä¾èµ–ï¼Œè®¾å¤‡2ä¸å¾—ä¸å»ç­‰å¾…è®¾å¤‡1ï¼Œç­‰å¾…å®ƒçš„è¾“å…¥æ•°æ®ã€‚æ‰€ä»¥ä¸€äº›è®¾å¤‡å¯èƒ½åœ¨ä¸€äº›æ—¶é—´å†…æ˜¯ç©ºé—²çš„ã€‚å»è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå…¸å‹çš„æµæ°´çº¿æŠ€æœ¯è¢«åº”ç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥å‘é€å¤šä¸ªå¾®å°çš„æ‰¹åˆ°æµæ°´çº¿ä¸­å»å®ç°å¹¶è¡ŒåŒ–ã€‚ â€‹ æœ‰äº†è¿™ä¸¤ç§å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¼ ç»Ÿçš„å¹¶è¡ŒæŠ€æœ¯å…¨éƒ¨å½’ç±»åˆ°è¿™ä¸¤ç§åˆ†ç±»ä¸­ï¼Œä¸‹å›¾å±•ç¤ºäº†ä¸€äº›æ¯”è¾ƒæµè¡Œçš„è®­ç»ƒä¸¤å±‚MLPçš„å¹¶è¡ŒåŒ–æŠ€æœ¯ï¼š Intra-operator Parallismä¾‹å­ï¼š Inter-operator Parallismä¾‹å­ï¼š â€‹ ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œåœ¨Device Placementçš„å›¾ä¸­ï¼Œå¦‚æœä¸å­˜åœ¨å¤šä¸ªå¹¶è¡Œçš„è®¾å¤‡åˆ†æ”¯ï¼Œé‚£ä¹ˆä¼šé€ æˆæ—¶é—´çš„ç©ºé—²ï¼›è€Œåœ¨Pipeline Parallelismä¸­é€šè¿‡å°†è¾“å…¥çš„æ•°æ®åˆ†å‰²ä¸ºè‹¥å¹²çš„å¾®å°çš„æ‰¹æ¬¡ï¼Œä»è€Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ â€‹ åœ¨è¿™ä¸¤ç§åˆ†ç±»ä¹‹é—´æœ‰ç€å“åº”çš„æƒè¡¡ï¼ˆtrade-offï¼‰ï¼š Intra-operator Parallisméœ€è¦å¤§é‡çš„é€šä¿¡ï¼Œæ¯”å¦‚all reduceå’Œall-to-allï¼Œæ•…é«˜å¸¦å®½çš„è®¾å¤‡è¿æ¥æ˜¯å¿…è¦çš„ã€‚ Inter-operator Parallismé€šå¸¸éœ€è¦çš„æ˜¯ç‚¹åˆ°ç‚¹çš„é€šä¿¡ï¼Œé€šä¿¡å‘ç”Ÿåœ¨å­å›¾çš„è¾¹ç•Œå†…ï¼Œéœ€è¦æ›´å°‘çš„é€šä¿¡ã€‚ä½†æ˜¯ä¸ºäº†è§£å†³è®¾å¤‡çš„ç©ºé—²ï¼Œä»”ç»†çš„è°ƒåº¦å’Œåˆ†ç‰‡æ˜¯éœ€è¦çš„ã€‚ Prior Auto-Parallelization Work â€‹ æœ‰æ•ˆçš„è®­ç»ƒä¸€ä¸ªå¤§æ¨¡å‹é€šå¸¸éœ€è¦ä¸Šè¿°çš„å¾ˆå¤šæŠ€æœ¯çš„ç»¼åˆã€‚å¦‚æœä¾èµ–äºäººå·¥çš„è®¾è®¡ç­–ç•¥ï¼Œè¿™éœ€è¦å¾ˆå¤§çš„å·¥ç¨‹ä¸Šçš„åŠªåŠ›ã€‚æ‰€ä»¥ç ”ç©¶è€…å€¾å‘äºå»å¯»æ‰¾ä¸€ç§åŸºäºè‡ªåŠ¨å¹¶è¡Œã€‚åœ¨ä»¥å‰çš„å·¥ä½œä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ç§è‡ªåŠ¨å¹¶è¡ŒåŒ–ç³»ç»Ÿï¼š Flexflow/Tofu Pipedream/Dapple â€‹ ä½†æ˜¯ä»–ä»¬éƒ½æœ‰å¾ˆå¤šçš„é™åˆ¶ï¼Œå¹¶ä¸”ä¸èƒ½è®­ç»ƒæœ€å…ˆè¿›çš„æ¨¡å‹ï¼š æœç´¢ç©ºé—´æœ‰é™ ç”±äºè¿™äº›æ¨¡å‹ä»…è€ƒè™‘äº†æœ‰é™çš„å¹¶è¡ŒåŒ–æŠ€æœ¯ï¼Œå¹¶æ²¡æœ‰å¯¹æ‰€æœ‰çš„å¹¶è¡ŒåŒ–æŠ€æœ¯äºˆä»¥æ”¯æŒã€‚ æœç´¢ç®—æ³•é™åˆ¶ æœç´¢ç®—æ³•çš„æœç´¢æ˜¯åŸºäºå¯¹æ¨¡å‹çš„éšæœºæœç´¢æˆ–è€…å¼ºå‡è®¾çš„ã€‚ Our Approach â€‹ æœ¬ç¯‡çš„è®ºæ–‡è§£å†³æ–¹æ¡ˆé‡‡å–äº†ä¸€ä¸ªä¸åŒçš„å¹¶è¡ŒåŒ–è§†è§’ï¼Œå°†ä¸Šè¿°çš„ä¸¤ç§å¹¶è¡ŒåŒ–æŠ€æœ¯åˆ†ç±»ä½œä¸ºä¸€ä¸ªä¸¤å±‚å±‚æ¬¡åŒ–ç©ºé—´ã€‚è¿™ä¸ªå±‚æ¬¡åŒ–çš„ç©ºé—´è‡ªç„¶åœ°ä¸å±‚æ¬¡åŒ–å¸¸è§çš„GPUé›†ç¾¤ç»“æ„æ˜ å°„èµ·æ¥ï¼Œåœ¨GPUå†…éƒ¨ç»“ç‚¹ä¸­æ˜¯é«˜å¸¦å®½çš„NVLinké“¾æ¥ï¼Œè€Œåœ¨ç»“ç‚¹ä¹‹é—´æ˜¯è¾ƒæ…¢çš„è¿æ¥ï¼Œæ¯”å¦‚ä»¥å¤ªç½‘ã€‚æœ¬ç¯‡è®ºæ–‡å»ºç«‹äº†ä¸€ä¸ªä¸¤å±‚çš„å±‚æ¬¡åŒ–æœç´¢ç©ºé—´ï¼Œç„¶åè®¾è®¡å“åº”çš„ç®—æ³•å»è·å¾—æ¯ä¸ªå±‚æ¬¡çš„æœ€ä¼˜è§£ã€‚ â€‹ æ¥ä¸‹æ¥æ˜¯æ–¹æ³•çš„è¯¦ç»†è¯´æ˜ã€‚ äºŒã€Automating Intra and Inter Operator Parallelism â€‹ è‡ªåŠ¨å¹¶è¡ŒåŒ–ï¼ˆAuto Parallelismï¼‰æ„å‘³ç€ç”¨æˆ·ä¸ç”¨ç‰¹æ„åœ°å»ä¿®æ”¹ä»–ä»¬çš„æ¨¡å‹ï¼Œè®ºæ–‡ä¸­æåˆ°çš„æ¨¡å‹å°†ä¼šå°†ç”¨æˆ·çš„æ¨¡å‹ä»ä¸€ä¸ªå•è®¾å¤‡çš„ç¨‹åºè½¬å˜ä¸ºä¸€ä¸ªå¤šè®¾å¤‡çš„ç¨‹åºã€‚Alpaéµå¾ªç¼–è¯‘å™¨çš„æ¶æ„ï¼Œæˆ‘ä»¬ä»runtimeéƒ¨åˆ†å¼€å§‹è¯´æ˜ï¼š ä¸¤ç§å¹¶è¡ŒåŒ–çš„runtimeæ”¯æŒ â€‹ ç°åœ¨çš„GPUé›†ç¾¤ä¸­ï¼ŒGPUè¢«å…¸å‹çš„ç»„ç»‡æˆä¸ºä¸€ä¸ªä¸¤å±‚çš„æ‹“æ‰‘ç»“æ„ï¼Œæ•…åœ¨ç»“ç‚¹å†…æœ‰é«˜é€Ÿçš„é“¾æ¥ï¼Œä½†åœ¨ç»“ç‚¹é—´æœ‰ç€ç›¸å¯¹æ…¢é€Ÿçš„è¿æ¥ã€‚è®ºæ–‡ä½¿ç”¨äº†ä¸€ä¸ªäºŒç»´è®¾å¤‡ç½‘ç»œå»æŒ‡ä»£è¿™ä¸ªæ‹“æ‰‘ç»“æ„ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œåœ¨è¿™ä¸ªè®¾å¤‡ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬æœ‰2ä¸ªWorkerï¼Œæ¯ä¸ªè®¾å¤‡ä¸­æœ‰4ä¸ªåŠ é€Ÿå™¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å‡è®¾ï¼Œåœ¨Workerå†…éƒ¨ï¼ŒåŠ é€Ÿå™¨ç»“ç‚¹ä¹‹é—´é€šä¿¡é€Ÿåº¦è¾ƒå¿«ï¼Œè€Œåœ¨Workerä¹‹é—´ï¼Œé€šä¿¡é€Ÿåº¦è¾ƒæ…¢ã€‚åœ¨ç»„ç»‡æ—¶ï¼Œè®¾å¤‡ä¹‹é—´é‡‡ç”¨Inter-op Parallesimæ¨¡å¼ï¼Œè€Œåœ¨è®¾å¤‡å†…éƒ¨é‡‡ç”¨Intra-op Parallelismçš„å½¢å¼ã€‚ ç¼–è¯‘å™¨ç«¯ â€‹ å¯¹äºç¼–è¯‘å™¨ç«¯ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªè®¡ç®—å›¾å’Œä¸€ä¸ªç‰¹å®šçš„è®¾å¤‡é›†ç¾¤ã€‚ â€‹ æˆ‘ä»¬é¦–å…ˆè¿è¡Œä¸€ä¸ªInter-op Passå°†è®¡ç®—å›¾åˆ†ç‰‡ä¸ºå¤šä¸ªé˜¶æ®µï¼Œå¯¹äºæ¯ä¸ªé˜¶æ®µæˆ‘ä»¬å¯¹å…¶åˆ†é…ä¸€ä¸ªè®¾å¤‡ç½‘ï¼Œæ•…ä¸€ä¸ªè®¾å¤‡ç½‘è´Ÿè´£ä¸€ä¸ªé˜¶æ®µï¼ˆstageï¼‰çš„è®¡ç®—ã€‚å¯¹äºæ¯ä¸ªé˜¶æ®µä¹‹é—´ï¼Œæˆ‘ä»¬è¿è¡Œä¸€ä¸ªIntra-op Passå»åˆ†ç‰‡æ‰€æœ‰çš„æ“ä½œï¼Œå³ä½¿æ˜¯åœ¨è®¾å¤‡ç½‘çš„å¤šä¸ªGPUé›†ç¾¤ä¹‹é—´ã€‚ â€‹ åœ¨è¿è¡Œæ—¶ç¼–æ’ï¼ˆruntime orchestrationï¼‰é˜¶æ®µï¼Œç¼–è¯‘å™¨ä½¿ç”¨æµæ°´çº¿çš„æŒ‡ä»¤å»è°ƒåº¦è¿™äº›é˜¶æ®µï¼Œå¹¶ä¸”æ‰€æœ‰çš„æŒ‡ä»¤è¢«é™æ€ç¼–è¯‘ä¸ºç½‘ç»œå¯æ‰§è¡Œï¼ˆmesh executableï¼‰ï¼Œè¿™ä¸ªç½‘ç»œå¯æ‰§è¡Œè¢«å‘é€åˆ°ç›¸åº”çš„è®¾å¤‡ç½‘ç»œï¼Œç„¶åæˆ‘ä»¬åœ¨æ‰€æœ‰çš„è®¾å¤‡ä¸Šå»æ‰§è¡Œç›¸åº”çš„mesh executableã€‚ æ•…åœ¨æ•´ä¸ªé˜¶æ®µä¸­ï¼Œæœ€é‡è¦çš„æ˜¯Inter-op Passå’ŒIntra-op Passä¸¤ä¸ªéƒ¨åˆ†ï¼š Inter-op Passå¯ä»¥é€šè¿‡åŠ¨æ€è§„åˆ’ä¸ºInter-op Parallismæä¾›ä¸€ä¸ªå±€éƒ¨çš„æœ€ä¼˜è§£ï¼› Intra-op Passå¯ä»¥é€šè¿‡æ•´æ•°çº¿æ€§è§„åˆ’ä¸ºIntra-op Parallismæä¾›ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ â€‹ ä¸‹é¢å¯¹äºè¿™ä¸¤ä¸ªé‡è¦çš„é˜¶æ®µè¿›è¡Œè¯¦ç»†çš„åˆ†æï¼š Intra-op Pass â€‹ Intra-op Passä½¿ç”¨çš„æ˜¯SPMDé£æ ¼ï¼Œè¿™æ„å‘³ç€å°†ä¼šå¯¹æ¯ä¸ªæ“ä½œè¿›è¡Œåˆ†ç‰‡ï¼Œå³æ˜¯æ˜¯åœ¨è®¾å¤‡ç½‘ç»œä¸­çš„æ‰€æœ‰GPUä¸­ã€‚SPMDé£æ ¼ç®€åŒ–äº†è®¸å¤šä¸œè¥¿ï¼Œä½†æ˜¯ç”±äºå…¶ä¾ç„¶å¯ä»¥è¦†ç›–å¾ˆå¤šä¼ ç»Ÿçš„æŠ€æœ¯ï¼Œæ¯”å¦‚æ•°æ®å¹¶è¡Œï¼ˆData Prallelismï¼‰ã€æ“ä½œå¹¶è¡Œï¼ˆOperator Parallelismï¼‰å’Œé›¶ä¼˜åŒ–å™¨ï¼ˆZero Optimizerï¼‰ï¼ŒSPMDæ˜¯è¶³å¤Ÿå¼ºå¤§çš„ã€‚å¯¹äºIntra-op Passæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å¯¹äºæ¯ä¸ªæ“ä½œæ‰¾åˆ°ä¸€ä¸ªåˆ†ç‰‡ç­–ç•¥ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸¤å±‚MLPçš„å‘å‰è®¡ç®—å›¾ã€‚ â€‹ å¯¹äºå¼ é‡çš„æƒé‡ï¼Œå®ƒå¯ä»¥è¢«æŒ‰è¡Œåˆ†ç‰‡ã€æŒ‰åˆ—åˆ†ç‰‡ã€å…¨å¤åˆ¶æˆ–è€…æ˜¯éƒ¨åˆ†å¤åˆ¶ï¼Œæ•…æ¯ä¸ªç»“ç‚¹çš„å¼ é‡éƒ½æœ‰ä¸€ä¸ªåŒ…å«å¤šç§å¯èƒ½çš„åˆ†ç‰‡ç­–ç•¥çš„åˆ†ç‰‡ç­–ç•¥é›†ï¼ˆpartition strategy setï¼‰ã€‚æ¯”å¦‚çŸ©é˜µä¹˜æ³•æœ‰å¾ˆå¤šç§å¹¶è¡Œè®¡ç®—çš„æ–¹æ³•å»è§£å†³è¯¥é—®é¢˜ã€‚ä¸åŒçš„ç®—æ³•å¯¹è¾“å…¥å±‚æœ‰ç€ä¸åŒçš„è¦æ±‚ï¼Œå¦‚æŸä¸ªç®—æ³•å¯èƒ½è¦æ±‚æƒé‡æ˜¯æŒ‰åˆ—åˆ†ç‰‡çš„ï¼Œå¦ä¸€ä¸ªç®—æ³•å¯èƒ½è¦æ±‚æƒé‡æ˜¯æŒ‰è¡Œåˆ†ç‰‡çš„ã€‚åŒæ—¶ä¸åŒçš„ç®—æ³•ä¹Ÿæœ‰ç€ä¸åŒçš„è¾“å‡ºå¸ƒå±€ã€‚å¦‚æœè¾“å…¥ä¸æ»¡è¶³ç®—æ³•çš„è¾“å…¥è¦æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨è¾¹ç¼˜åšä¸€ä¸ªå¸ƒå±€è½¬åŒ–ï¼Œè¿™ä¼šé€ æˆç›¸åº”çš„é€šä¿¡ä»£ä»·ã€‚ â€‹ æ€»ä¹‹ï¼Œå»æ‰§è¡Œè®¡ç®—å›¾ï¼Œæ€»æ—¶é—´ä»£ä»·å…¬å¼å¦‚ä¸‹ï¼š \\text{Total time cost = node cost(compute cost) + edge-cost(communication cost)} â€‹ æˆ‘ä»¬çš„ç›®æ ‡å³å»å¯¹æ¯ä¸ªæ“ä½œï¼ˆoperatorï¼‰é€‰æ‹©ä¸€ä¸ªåˆ†ç‰‡çš„ç­–ç•¥ï¼Œå¹¶ä¸”æœ€å°åŒ–æ€»æ—¶é—´ä»£ä»·ï¼ˆTotal time costï¼‰ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªæ›´åŠ å…·ä½“çš„ä¾‹å­ï¼Œåˆ†æä¸åŒç»“ç‚¹å¯èƒ½çš„åˆ†ç‰‡ç­–ç•¥å’Œè¾¹ç¼˜ä»£ä»·ï¼š â€‹ è¾“å…¥çŸ©é˜µå’Œæƒé‡çŸ©é˜µå¯ä»¥æ˜¯å®Œæ•´å‰¯æœ¬ã€éƒ¨åˆ†å‰¯æœ¬ã€åˆ—åˆ†ç‰‡æˆ–è€…è¡Œåˆ†ç‰‡çš„å½¢å¼ã€‚çŸ©é˜µä¹˜æ³•éœ€è¦ä¸‰å±‚çš„å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€å±‚å¾ªç¯æˆ–è€…ç¬¬äºŒæ¬¡å¾ªç¯æˆ–è€…è¿™äº›å¾ªç¯çš„ç»“åˆåšå¹¶è¡Œå¤„ç†ï¼Œè¿™æ ·ä¼šæœ‰å¤šä¸ªä¸åŒçš„ç­–ç•¥ï¼š Strategy 1ï¼šçŸ©é˜µAä¸ºåˆ—åˆ†ç‰‡ï¼ŒçŸ©é˜µBä¸ºè¡Œåˆ†ç‰‡ï¼Œæœ€ç»ˆäº§ç”Ÿä¸€ä¸ªç»“æœçš„å®Œæ•´å‰¯æœ¬ï¼›åŒæ—¶éœ€è¦è¿›è¡Œall-reduce(c)å»ç´¯è®¡éƒ¨åˆ†ç»“æœã€‚ Strategy 2ï¼šçŸ©é˜µAä¸ºè¡Œåˆ†ç‰‡ï¼ŒçŸ©é˜µBåœ¨ä¸¤ä¸ªè®¾å¤‡ä¸Šå­˜æœ‰å®Œæ•´çš„å‰¯æœ¬ï¼Œæœ€ç»ˆäº§ç”Ÿçš„ç»“æœä¸éœ€è¦è¿›è¡Œç´¯è®¡ï¼Œåˆ†åˆ«å­˜å‚¨åœ¨ä¸¤ä¸ªè®¾å¤‡ä¸Šã€‚ Strategy 3ï¼šçŸ©é˜µAåœ¨ä¸¤ä¸ªè®¾å¤‡ä¸Šå­˜æœ‰å®Œæ•´å‰¯æœ¬ï¼ŒçŸ©é˜µBä¸ºåˆ—åˆ†ç‰‡ï¼Œæœ€ç»ˆäº§ç”Ÿçš„ç»“æœåˆ†åˆ«å­˜å‚¨åœ¨ä¸¤ä¸ªè®¾å¤‡ä¸Šã€‚ â€‹ è‹¥å¸ƒå±€ä¸åŒ¹é…ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨é›†ä¸­å¼é€šä¿¡åŸè¯­è¿›è¡Œå¸ƒå±€è½¬æ¢ï¼š â€‹ ä¾‹å¦‚ï¼šè‹¥éœ€å¾—åˆ°å¼ é‡å¹¶æœªåˆ—æˆ–è¡Œåˆ†ç‰‡çš„å‰¯æœ¬æ—¶ï¼Œéœ€è¦ä½¿ç”¨all-gatheråŸè¯­å»è¿›è¡Œç»“æœçš„åˆå¹¶ï¼›è‹¥è¿›è¡Œåˆ—åˆ†ç‰‡æˆ–è€…è¡Œåˆ†ç‰‡çš„è½¬æ¢æ—¶ï¼Œéœ€è¦ä½¿ç”¨all-to-allåŸè¯­è½¬æ¢ï¼›è‹¥å°†ä¸€ä¸ªå®Œæ•´çš„å‰¯æœ¬è¿›è¡Œåˆ†ç‰‡ï¼Œå¹¶ä¸éœ€è¦è¿›è¡Œé€šä¿¡ï¼Œåœ¨æœ¬åœ°è¿›è¡Œåˆ†ç‰‡å³å¯ã€‚ â€‹ ä¸Šè¿°çš„ä¼˜åŒ–é—®é¢˜å¯ä»¥ä½¿ç”¨æ•´æ•°çº¿æ€§è§„åˆ’æ±‚è§£ï¼Œä»¥ä¸‹å›¾æ‰€ç¤ºçš„ä¾èµ–å…³ç³»ä¸ºä¾‹ï¼šä¾èµ–å…³ç³»åªæ˜¯åœ¨ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´å­˜åœ¨ï¼Œè¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªäºŒæ¬¡ç›®æ ‡è§„åˆ’ï¼Œå°†å…¶çº¿æ€§åŒ–å³å¯å¾—åˆ°ä¸€ä¸ªçº¿æ€§è§„åˆ’ã€‚ ==æ•´æ•°è§„åˆ’ï¼Ÿå¦‚ä½•è¿›è¡Œï¼Ÿ== â€‹ ä¸ºå»ºæ¨¡æ­¤é—®é¢˜ï¼Œéœ€è¦æšä¸¾æ‰€æœ‰æ“ä½œï¼ˆoperatorï¼‰çš„æ‰€æœ‰å¯èƒ½çš„åˆ†ç‰‡ç­–ç•¥ï¼Œå¹¶ä¸”è®¡ç®—åœ¨æ‰€æœ‰è¾¹ä¸Šçš„ç­–ç•¥å¯¹çš„é€šä¿¡ä»£ä»·ï¼Œæœ€åä»¥æœ€å°åŒ–ä»£ä»·ä¸ºç›®æ ‡ï¼Œè¿›è¡Œæ•´æ•°çº¿æ€§è§„åˆ’ã€‚ â€‹ ä¸ä¹‹å‰çš„å·¥ä½œå¯¹æ¯”ï¼š Comparison Advantages vs. Tofu Support general graphs. Support 2-D device mesh vs. FlexFlow Optimality guarantee. Support additional partition strategies. Note: å¦‚æœè€ƒè™‘é€šä¿¡è®¡ç®—é‡å ï¼Œç”±äºå­˜åœ¨å¤æ‚çš„ä¾èµ–å…³ç³»ï¼Œå°†ä¸å†èƒ½å»ºæ¨¡æˆä¸ºä¸€ä¸ªæ•´æ•°çº¿æ€§è§„åˆ’çš„é—®é¢˜ã€‚å®é™…ä¸­ï¼Œå¯ä»¥å…ˆè¿›è¡Œæ•´æ•°è§„åˆ’ï¼Œå¾—åˆ°ä¸€ä¸ªè¾ƒä¼˜çš„è§£åè¿›è¡Œé€šä¿¡è®¡ç®—é‡å ä¼˜åŒ–ã€‚é€šä¿¡è®¡ç®—é‡å ï¼ˆcommunication computation overlappingï¼‰ Inter-op Pass â€‹ åœ¨è¿™éƒ¨åˆ†å°†ä¼šé’ˆå¯¹æµæ°´çº¿å¹¶è¡Œè¿›è¡Œé˜è¿°ï¼Œç›®å‰æµæ°´çº¿ä¹Ÿæ˜¯é’ˆå¯¹äºå¤§æ¨¡å‹è®­ç»ƒçš„è¾ƒä¸ºæœ‰æ•ˆçš„æ–¹å¼ã€‚Inter-op Passçš„ç›®çš„æ˜¯åˆ†ç‰‡è®¡ç®—å›¾ä¸ºå¤šä¸ªå­å›¾ï¼Œä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œåˆ†ç‰‡å®Œæ•´çš„è®¡ç®—å›¾å¾—åˆ°äº†4ä¸ªå­å›¾ã€‚åŒæ—¶ï¼Œè¿˜éœ€å°†è¾“å…¥é›†ç¾¤åˆ†ç‰‡ä¸º4ä¸ªå­ç½‘ï¼Œå°†ä¸€ä¸ªé˜¶æ®µä¸ä¸€ä¸ªå­ç½‘åŒ¹é…ã€‚æœ€ç»ˆä½¿ç”¨Pipelineçš„å½¢å¼å°†å„ä¸ªå­ç½‘ä¹‹é—´è¿æ¥ï¼Œå®ç°Inter-op Passã€‚ â€‹ Inter-op Passçš„ç›®æ ‡æ˜¯æœ€å°åŒ–æµæ°´å»¶è¿Ÿã€‚æµæ°´çº¿å»¶è¿Ÿç”±ä¸¤é¡¹ç»„æˆï¼Œé¦–å…ˆæ˜¯é¢„çƒ­é˜¶æ®µï¼Œåç»­æ˜¯ç¨³å®šé˜¶æ®µï¼Œç¨³å®šé˜¶æ®µç”±æœ€é•¿çš„æµæ°´æ®µå†³å®šã€‚ â€‹ å‡å°‘æµæ°´çº¿å»¶è¿Ÿæ˜¯é€šè¿‡åŠ¨æ€è§„åˆ’ç®—æ³•å®ç°çš„ï¼ŒåŠ¨æ€è§„åˆ’çš„è¾“å‡ºå°†æ˜¯ä¸€ä¸ªè®¡ç®—å›¾çš„åˆ’åˆ†å’Œè®¾å¤‡ç½‘åˆ†ç‰‡ç­–ç•¥çš„ç»“æœï¼Œå³æµæ°´çº¿çš„å„ä¸ªæ®µã€‚ä¸‹é¢æ˜¯åŠ¨æ€è§„åˆ’çš„ç»†èŠ‚è¯´æ˜ï¼š Minimize\\ Pipeline\\ latency\\quad T=\\sum_{i}^St_i+(B-1)Â·\\max_{1\\leq j\\leq S}\\{t_j\\} Inputï¼š è¿è¡Œintra-op Passï¼Œåˆ†æè·å¾—æ¯ä¸ªé˜¶æ®µçš„ç”¨æ—¶$ti=t{intra}((o_p,...,o_q), submesh(n,m))$ã€‚ Constraintï¼š ï¼ˆ1ï¼‰å°†åŒä¸€é˜¶æ®µçš„å‘å‰ä¼ é€’å’Œå‘åä¼ é€’åˆ†é…åˆ°ç›¸åŒçš„å­ç½‘ä¸­ã€‚ â€‹ åŸºäºè¿™ä¸ªçº¦æŸï¼Œæˆ‘ä»¬å‡è®¾å‘åä¼ é€’çš„éƒ¨åˆ†æ˜¯å¯¹ç§°çš„ï¼Œæ•…åªéœ€ä¼˜åŒ–å›¾çš„å‘å‰ä¼ é€’éƒ¨åˆ†ã€‚ ï¼ˆ2ï¼‰æ¯ä¸ªå­ç½‘å¯ä»¥å®Œå…¨è¦†ç›–åŸå§‹çš„å®Œæ•´ç½‘ç»œã€‚ â€‹ åŸå§‹çš„ç½‘ç»œæ˜¯ç»è¿‡åˆ†ç‰‡çš„ï¼Œéœ€è¦ä»”ç»†é€‰æ‹©å­ç½‘çš„å½¢çŠ¶ã€‚æœ‰äº›å­ç½‘çš„å½¢çŠ¶å¯ä»¥ä¿è¯æˆ‘ä»¬ çš„é›†ç¾¤åˆ†ç‰‡ç­–ç•¥æ˜¯å§‹ç»ˆæœ‰æ•ˆçš„ï¼Œå¹¶ä¸”å¯ä»¥å®Œæ•´è¦†ç›–åŸå§‹çš„ç½‘ç»œã€‚ Solutionï¼š â€‹ æšä¸¾$\\max{t_j}$å¹¶ä¸”å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªä¼ ç»Ÿçš„åŠ¨æ€è§„åˆ’é—®é¢˜â€”â€”2ç»´èƒŒåŒ…é—®é¢˜ã€‚ Complexityï¼š O(k^5NM(N+log(M))) â€‹ ç”±äºæ—¶é—´å¤æ‚åº¦ä¸­æ¶‰åŠåˆ°$k^5$è¿™æ ·çš„é«˜é˜¶é¡¹ï¼Œæ•…æ­¤åŠ¨æ€è§„åˆ’çš„ç®—æ³•ä¸èƒ½åº”ç”¨äºå¤§è§„æ¨¡çš„å›¾ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè®ºæ–‡è¿›è¡Œäº†ä¸€ä¸ªé¢„å¤„ç†çš„è¿‡ç¨‹â€”â€”è¿è¡Œå›¾é›†ç¾¤ç®—æ³•ï¼Œä»¥é›†ç¾¤ç›¸ä¼¼çš„å›¾ä¸ºä¸€ä¸ªå¤§çš„å±‚æ¬¡ã€‚æ•…å¯å‡å°‘å›¾ä¸­çš„æ“ä½œçš„æ•°é‡ã€‚ â€‹ ä»¥ä¸Šçš„è¯´æ˜è¦†ç›–äº†æˆ‘ä»¬å»æ„ä»¶Alpaçš„æ‰€æœ‰æ ¸å¿ƒçš„æŠ€æœ¯ã€‚ Alpa å®ç° â€‹ å®ç°æ—¶ä½¿ç”¨JAXä½œä¸ºå‰ç«¯ï¼ŒJAXçš„ä¸€äº›ç‰¹ç‚¹ä½¿å¾—èƒ½å¤Ÿæ›´ç®€å•åœ°æ„å»ºç¼–è¯‘å™¨ã€‚ä¾‹å¦‚ï¼Œå¯è·Ÿè¸ªé™æ€çš„åŒ…æ‹¬å‘å‰ä¼ é€’å’Œå‘åä¼ é€’çš„è®¡ç®—å›¾ï¼Œä¼˜åŒ–å™¨æ›´æ–°ç­‰ï¼Œå›¾çš„æä¾›å¯¹äºè®ºæ–‡çš„ä¼˜åŒ–æ˜¯éå¸¸å¿…è¦çš„ã€‚ ç¼–ç¨‹API è®ºæ–‡æä¾›äº†ä¸€ä¸ªOne-Line Auto-ParallelizationAPIï¼ŒJAXç¨‹åºå¦‚ä¸‹ï¼š # One-line auto-parallelization: # Put @parallelize decorator on top of the Jax functions @parallelize def train_step(state, batch): def loss_func(params): out = state.forward(params, batch[\"x\"]) return jax.numpy.mean((out - batch[\"y\"]) ** 2) grads = grad(loss_func)(state.params) new_state = state.apply_gradient(grads) return new_state # A typical training loop state = create_train_state() # æ¨¡å‹çš„åˆ›å»º for batch in data_loader: # ä»data loaderä¸­åŠ è½½æ‰¹ state = train_step(state, batch) # æ¢¯åº¦ä¸‹é™è®¡ç®— â€‹ åŸå§‹çš„JAXåªæ˜¯åœ¨ä¸€ä¸ªåŠ é€Ÿå™¨ä¸Šè®¡ç®—ï¼ŒAlpaçªç ´äº†è¿™ä¸€é™åˆ¶ï¼Œå¯ä»¥åœ¨åŠ é€Ÿå™¨é›†ç¾¤ä¸Šè¿›è¡Œè®¡ç®—ã€‚ Note: Alpaçš„å¹¶è¡ŒåŒ–æ˜¯åŸºäºRayåŠ è½½å¤„ç†å™¨å’Œåˆ†å¸ƒå¼é›†ç¾¤ï¼Œå¹¶ä¸”ä½¿ç”¨Rayå»æ£€æµ‹æ‰€æœ‰çš„GPUæˆ–è€…æ˜¯é›†ç¾¤ä¸­å¯ç”¨çš„GPUã€‚ å®ç°ç»†èŠ‚ Inter-op Pass åŸºäºJAXä¸­é—´å±‚JAX PRå®ç°ã€‚ç”±äºåœ¨æ­¤å¤„æˆ‘ä»¬ä»ç„¶éœ€è¦ä¸€äº›æœºå™¨å­¦ä¹ çš„è¯­ä¹‰ï¼Œä¾‹å¦‚å‘å‰ä¼ é€’ï¼Œå‘åä¼ é€’ï¼Œæ¢¯åº¦ç­‰ã€‚ Intra-op Pass åŸºäºXLA HLOå®ç°ã€‚åœ¨è¯¥éƒ¨åˆ†ï¼Œä¸å¯¹forward passå’Œbackword passè¿›è¡ŒåŒºåˆ†ã€‚åœ¨ä¸€ä¸ªé€šç”¨çš„è®¡ç®—å›¾ä¸Šè¿è¡ŒILPç®—æ³•ã€‚ç„¶åä½¿ç”¨XLAå°†ç­–ç•¥lowerä¸ºå¯æ‰§è¡Œç¨‹åºã€‚ Pipeline Excecution æµæ°´çº¿åœ¨XLAä¸­æ˜¯ä¸æ”¯æŒçš„ï¼Œæ•…å®ç°æ—¶ä½¿ç”¨è‡ªè®¾è®¡çš„æµæ°´æŒ‡ä»¤ã€‚ â€‹ å¯¹äºè¿è¡Œæ—¶çš„ä½“ç³»æ¶æ„ï¼Œå®ç°æ—¶ä½¿ç”¨XLAç»¼åˆRayã€‚å¯¹äºé€šä¿¡éƒ¨åˆ†ï¼Œä½¿ç”¨Nicoæ„å»ºäº†ä¸€ä¸ªé€šä¿¡åº“ã€‚ ä¸‰ã€è¯„ä¼°ä¸æ€»ç»“ è¯„ä¼° Clusterï¼š$8\\times AWS\\ p3.13$ä¸ªç»“ç‚¹ã€‚æ¯ä¸ªç»“ç‚¹æ€»å…±æœ‰8 V100 GPUSã€‚ Modelsï¼šGPT-3ï¼ˆé«˜è¾¾39Bï¼‰ï¼ŒGShard MoEï¼ˆé«˜è¾¾70Bï¼‰ï¼ŒWide-ResNetï¼ˆé«˜è¾¾13Bï¼‰ Settingï¼šWeak scaling on model sizes æ„ä¸ºå¯ç”¨GPUçš„æ•°é‡è¶Šå¤šï¼Œé‚£ä¹ˆè®­ç»ƒçš„æ¨¡å‹è¶Šå¤§ï¼›ä½†æ˜¯è®ºæ–‡å›ºå®šäº†æ‰¹å¤„ç†çš„å¤§å°ï¼Œè¾“å…¥çš„æ•°æ®å¤§å°æ˜¯å›ºå®šçš„ã€‚å³ï¼Œæ¨¡å‹å¹¶è¡ŒåŒ–çš„è¯„ä¼°ä¸é€šå¸¸çš„æ•°æ®å¹¶è¡ŒåŒ–çš„è¯„ä¼°æ˜¯æœ‰æ‰€ä¸åŒçš„ã€‚ GPT-3 GPT-3è¢«å¾ˆå¤šçš„ç³»ç»Ÿè¿›è¡Œäº†ç›¸å…³çš„ä¼˜åŒ–ã€‚Megatron-LMæ˜¯ä¸€ä¸ªé’ˆå¯¹GPT-3è®­ç»ƒçš„ç³»ç»Ÿï¼ŒåŒæ—¶åˆå¹¶äº†Intraå’ŒInterçš„å¹¶è¡Œã€‚Alpaå¯ä»¥è‡ªåŠ¨æ‰¾åˆ°Megatronçš„æ‰€æœ‰çš„ç­–ç•¥å¹¶ä¸”è¾¾åˆ°Megatronçš„æ€§èƒ½ã€‚åŒæ—¶ç¼–è¯‘çš„æ—¶é—´ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚ MoE Megatronæ˜¯é’ˆå¯¹äºGPT-3çš„ï¼Œæ•…æ— æ³•ç”¨å…¶è®­ç»ƒMoEã€‚å¯¹äºMoEç›®å‰æœ€ä¼˜ä¸”å¯è¡Œçš„GPUå®ç°æ˜¯ç”±Deep Speedå®ç°çš„ã€‚Deep Speedé’ˆå¯¹MoEåšäº†Intraå’ŒInterçš„å¹¶è¡Œï¼Œä½†æ˜¯ä»–çš„æ€§èƒ½æ˜¯æ— æ³•ä¸æµæ°´çº¿å¹¶è¡Œå¼•æ“æ¯”æ‹Ÿçš„ã€‚ W-ResNet W-ResNetæ˜¯ä¸€ä¸ªå¼‚è´¨æ¨¡å‹ï¼Œå› ä¸ºåœ¨å·ç§¯ç¥ç»ç½‘ç»œä¸­ï¼Œæ´»åŒ–çš„é€Ÿåº¦å˜å¾—æ›´æ…¢ï¼ŒåŒæ—¶æƒé‡çš„å¤§å°å˜å¾—æ›´å¤§ï¼Œå¯¹äºä¸åŒçš„å±‚æ¬¡ï¼Œæƒé‡ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥é’ˆå¯¹W-ResNetå»äººå·¥è®¾è®¡ä¸€ä¸ªç­–ç•¥æ˜¯æ¯”è¾ƒå›°éš¾çš„ï¼Œç›®å‰ä¹Ÿæ²¡æœ‰è¿™æ ·çš„å¯è¡Œçš„äººå·¥ç­–ç•¥ã€‚ä½†æ˜¯Alpaä»å¯ä»¥åº”ç”¨åœ¨è¿™ç§ç±»å‹çš„æ¨¡å‹ä¸Šï¼ŒåŒæ—¶è¾¾åˆ°ä¸€ä¸ªä¸é”™çš„æ€§èƒ½ã€‚ æ€»ç»“ Alpaæ˜¯ä¸€ä¸ªé’ˆå¯¹è‡ªåŠ¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ–°çš„ç³»ç»Ÿè®¾è®¡ Alpaæ„å»ºäº†ä¸€ä¸ªä¸¤å±‚çš„å±‚æ¬¡åŒ–æœç´¢ç©ºé—´å¹¶ä¸”åœ¨æ¯ä¸ªå±‚æ¬¡ä¸Šå¯»æ±‚æœ€ä¼˜è§£ Alpaå¯ä»¥åŒ¹é…æˆ–è€…è¶…è¶Šä¸“é—¨çš„ç³»ç»Ÿï¼Œæ³›åŒ–åˆ°æ–°çš„æ¨¡å‹ä¸Š var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®ºæ–‡é˜…è¯»/FasterMoEé˜…è¯»ç¬”è®°.html":{"url":"è®ºæ–‡é˜…è¯»/FasterMoEé˜…è¯»ç¬”è®°.html","title":"FasterMoEé˜…è¯»ç¬”è®°-2022-PPoPP-ä½•å®¶å‚²","keywords":"","body":"FasterMoEï¼šModeling and Optimizing Training of Large-Scale Dynamic Pre-Trained Models FasterMoEé˜…è¯»ç¬”è®° ä¸€ã€è®ºæ–‡èƒŒæ™¯ã€åŠ¨æœºã€ä¸»è¦è´¡çŒ® è®ºæ–‡èƒŒæ™¯ Noteï¼šä¹‹å‰é˜…è¯»çš„ä¸¤ç¯‡è®ºæ–‡ï¼šAlpaå’ŒPathwayséƒ½è¯´æ˜äº†ç›®å‰æ·±åº¦å­¦ä¹ æ¨¡å‹è§„æ¨¡é€æ¸å˜å¤§çš„èƒŒæ™¯ï¼›å‚è€ƒRNNç›¸å…³èƒŒæ™¯çŸ¥è¯†ï¼šå¤§æ¨¡å‹æ„å‘³ç€æœ‰æ›´å¤šçš„å‚æ•°ï¼Œæ›´å¤šçš„å‚æ•°èƒ½å¤Ÿç»™æ¨¡å‹å¸¦æ¥å‡†ç¡®æ€§çš„æé«˜ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆAIæ¨¡å‹è¶Šæ¥è¶Šå¤§çš„åŸå› ã€‚ â€‹ æ··åˆä¸“å®¶ï¼ˆMixture-of-Expertï¼ŒMoEï¼‰ï¼šç›®å‰æœ€æµè¡Œçš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œä½¿è®­ç»ƒä¸‡äº¿çº§åˆ«ä»¥ä¸Šçš„å‚æ•°æ¨¡å‹å˜å¾—å¯èƒ½ã€‚MoEç”±è®¸å¤šå°æ¨¡å‹ç»„æˆï¼Œå³ä¸“å®¶æ¨¡å‹ã€‚ å°æ¨¡å‹ï¼šè®¡ç®—åŠ›æœ‰é™ï¼›å¤§æ¨¡å‹ï¼šè®¡ç®—é‡æ˜‚è´µ MoEï¼šé‡‡ç”¨äº†å¦ä¸€ç§æ€è·¯ï¼Œä½¿ç”¨é—¨æ¨¡å—ï¼ˆGate Moduleï¼‰é€‰æ‹©ä¸“å®¶ï¼Œè¾¾åˆ°ä»¥ä¸‹æ•ˆæœï¼š æ¨¡å‹å¤§å°è¢«æ‰©å¤§ï¼Œæ¨¡å‹èƒ½åŠ›å¢å¼º ä¸“å®¶æ˜¯ç¨€ç–æ¿€æ´»çš„ï¼ŒèŠ‚çœäº†é¢å¤–çš„è®¡ç®—é‡ Noteï¼š MoEè®ºæ–‡é“¾æ¥ï¼šMoEè®ºæ–‡æœ¬åœ°é“¾æ¥ å…³äºé¢„è®­ç»ƒæ¨¡å‹ï¼ˆPre-Trained Modelï¼‰ï¼šé¢„è®­ç»ƒæ¨¡å‹æ˜¯ä¸€ç±»å·²åœ¨è¾ƒå¤§çš„æ•°æ®é›†ä¸Šè®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè¿™ç±»æ¨¡å‹å¾€å¾€æ¯”è¾ƒå¤§ï¼Œè®­ç»ƒéœ€è¦è€—è´¹å¤§é‡çš„å†…å­˜èµ„æºã€‚æ¯”å¦‚NLPä¸­å¸¸è§çš„é¢„è®­ç»ƒæ¨¡å‹Bertå’ŒGPTã€‚é¢„è®­ç»ƒæ¨¡å‹è®­ç»ƒç»“æŸæ—¶çš„ç»“æœè¾ƒå¥½çš„ä¸€ç»„å‚æ•°å€¼å¯ä»¥è¿ç§»åˆ°å…¶ä»–çš„ç½‘ç»œä¸­ï¼Œå…¶ä»–çš„ç½‘ç»œä¾¿å­¦ä¹ äº†è¿™ä¸ªç½‘ç»œçš„ç‰¹å¾å’Œå…¶æ‹¥æœ‰çš„çŸ¥è¯†ã€‚ è¯¦è§£é¢„è®­ç»ƒæ¨¡å‹) é¢„è®­ç»ƒæ¨¡å‹Superbçš„åšå®¢ â€‹ ä¸ç»å…¸çš„å¯†é›†é¢„è®­ç»ƒæ¨¡å‹ç›¸æ¯”ï¼ŒMoEå¯ä»¥æ˜¾è‘—å¢åŠ åŒä¸€æ—¶é—´æ®µå†…è®­ç»ƒçš„æ ·æœ¬æ•°é‡ï¼Œæé«˜æ¨¡å‹çš„ç²¾åº¦ã€‚å› æ­¤ï¼Œè¿™ç§åŠ¨æ€æ¨¡å‹å¯¹äºè®­ç»ƒä¸€ä¸ªå·¨å‹æ¨¡å‹è¶Šæ¥è¶Šé‡è¦ã€‚ è®ºæ–‡åŠ¨æœº â€‹ è™½ç„¶ä¸Šè¿°çš„MoEä½¿å¾—è®­ç»ƒä¸‡äº¿è§„æ¨¡çš„å·¨å‹æ¨¡å‹å˜å¾—å¯è¡Œï¼Œä½†æ˜¯æˆæœ¬ä¾ç„¶å¾ˆé«˜ï¼šGShardä¸­ä¸€ä¸ª6000äº¿çš„MoEæ¨¡å‹éœ€è¦2048 ä¸ªtpuèŠ±è´¹4å¤©çš„æ—¶é—´æ¥è®­ç»ƒã€‚ä¸ºäº†å‡å°‘è®­ç»ƒæ—¶é—´ï¼Œå¼•å…¥äº†ä¸“å®¶å¹¶è¡Œï¼ˆexpert parallelismï¼‰ï¼šä¸“å®¶åˆ†å¸ƒåœ¨ä¸åŒçš„å·¥ä½œèŠ‚ç‚¹ï¼ˆworkerï¼‰ä¸Šï¼Œæ¯ä¸ªå·¥ä½œèŠ‚ç‚¹ï¼ˆworkerï¼‰å¤„ç†ä¸åŒæ‰¹æ¬¡çš„è®­ç»ƒæ ·æœ¬ã€‚ â€‹ å¦‚ä¸‹å›¾ï¼ŒMoEé‡‡å–ä¸“å®¶å¹¶è¡Œçš„æ¨¡å¼ï¼Œæ‰€æœ‰çš„ä¸“å®¶è¢«æ”¾åˆ°å„ä¸ªworkerä¸Šï¼Œè®­ç»ƒçš„æ•°æ®ï¼ˆdata, tokensï¼‰ç±»ä¼¼äºæ•°æ®å¹¶è¡Œï¼Œä¹Ÿè¢«åˆ†å¸ƒå¼åœ°åˆ†å¸ƒåœ¨å„ä¸ªworkerä¸Šã€‚å›¾ä¸­å‡ºç°äº†ä¸¤æ¬¡çš„all-to-allé€šä¿¡ï¼šè¾“å…¥ç«¯çš„all-to-allå°†æ•°æ®ï¼ˆtokensï¼‰å‘é€åˆ°æœŸæœ›çš„ä¸“å®¶å¤„ï¼Œç»è¿‡ä¸“å®¶åœ¨å„ä¸ªworkerä¸Šåˆ†å¸ƒå¼åœ°è®­ç»ƒæ•°æ®åï¼Œåœ¨è¾“å‡ºç«¯é€šè¿‡all-to-allé€å›åŸæ¥çš„åºåˆ—ä½ç½®ã€‚ â€‹ ä½†MoEä¹Ÿç»™è®­ç»ƒçš„ç³»ç»Ÿå¸¦æ¥äº†æŒ‘æˆ˜ï¼š åŠ¨æ€è´Ÿè½½ä¸å¹³è¡¡ï¼ˆdynamic load imbalanceï¼‰ å­˜åœ¨æŸä¸ªä¸“å®¶æ›´â€œå—æ¬¢è¿â€ï¼Œall-to-allæ“ä½œåï¼Œè¾ƒå¤šçš„æ•°æ®ä¼šè¢«å‘é€åˆ°è¯¥ä¸“å®¶å¤„ï¼Œé€ æˆè´Ÿè½½ä¸å‡è¡¡ã€‚æ­¤å¤–ï¼Œåœ¨ä¸åŒçš„è¿­ä»£è½®æ¬¡ä¸­ï¼Œè¿™ç§æ¨¡å¼ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿›ä¸€æ­¥å½±å“äº†ç¡¬ä»¶çš„åˆ©ç”¨ç‡å’Œè®­ç»ƒæ•ˆç‡ã€‚ ä½æ•ˆçš„åŒæ­¥æ‰§è¡Œæ¨¡å¼ï¼ˆinefficient synchronous execution modeï¼‰ ç²—ç²’åº¦çš„è®¡ç®—æ˜¯ä½æ•ˆçš„ï¼Œè®¡ç®—å’Œé€šä¿¡äºŒè€…ä¹‹ä¸€å§‹ç»ˆå­˜åœ¨ç©ºé—²ã€‚è€ƒè™‘åˆ°ä¸ç»Ÿä¸€çš„ä¸“å®¶é€‰æ‹©ä¼šå¯¼è‡´è®¡ç®—å’Œé€šä¿¡çš„ä¸¥é‡ä¸å¹³è¡¡ï¼Œè¿™ç§å¯åŠ¨åŒæ­¥æ“ä½œçš„æ–¹æ³•ä¼šå¯¼è‡´æ›´å¤šçš„å¼€é”€ã€‚ æ‹¥å¡çš„all-to-allé€šä¿¡ ç»“ç‚¹ï¼ˆNodeï¼‰å†…éƒ¨çš„workerä¹‹é—´é€šä¿¡è¾ƒä¸ºé«˜é€Ÿï¼Œç»“ç‚¹ä¹‹é—´çš„é€šä¿¡å¸¸ä½¿ç”¨ä»¥å¤ªç½‘ç­‰ï¼Œå¸¦å®½æœ‰é™ã€‚åœ¨tokenåˆ†å¸ƒå‡åŒ€çš„æƒ…å†µä¸‹ï¼Œç»“ç‚¹ä¹‹é—´çš„é€šä¿¡å°†ä¼šååˆ†å¯†é›†ï¼Œé€ æˆæ‹¥å¡ã€‚ è®ºæ–‡è´¡çŒ® â€‹ é’ˆå¯¹ä¸Šè¿°çš„é—®é¢˜ï¼Œåˆ†åˆ«ç»™å‡ºäº†é’ˆå¯¹æ€§è§£å†³æ–¹æ³•ï¼š ï¼ˆ1ï¼‰æ€§èƒ½æ¨¡å‹ â€‹ è¯¥æ¨¡å‹èƒ½å¤Ÿå‡†ç¡®é¢„æµ‹ç‰¹å®šçš„è®­ç»ƒä»»åŠ¡çš„ä¸åŒæ“ä½œçš„å»¶è¿Ÿï¼Œä¹Ÿèƒ½ä½¿ç”¨ä¸€ä¸ªå±‹é¡¶çº¿å‹æ¨¡å‹ï¼ˆroofline-like modelï¼‰ç›´è§‚åˆ†æç«¯åˆ°ç«¯çš„æ€§èƒ½ã€‚ ï¼ˆ2ï¼‰å½±å­ä¸“å®¶ï¼ˆExpert shadowingï¼‰ â€‹ å¤„ç†åŠ¨æ€è´Ÿè½½ä¸å¹³è¡¡çš„é—®é¢˜ã€‚ ï¼ˆ3ï¼‰æ™ºèƒ½ç»†ç²’åº¦è°ƒåº¦ï¼ˆSmart fine-grained scheduleï¼‰ â€‹ å°†ä¸åŒçš„æ“ä½œåˆ†éš”å¹¶å¹¶å‘æ‰§è¡Œã€‚ ï¼ˆ4ï¼‰æ‹¥å¡é¿å…ä¸“å®¶é€‰æ‹©ç­–ç•¥ â€‹ åœ¨å…è®¸ä¿®æ”¹ä¸“å®¶é€‰æ‹©çš„æƒ…å†µä¸‹ï¼Œä»¥è¾ƒä½çš„è¿­ä»£å»¶è¿Ÿç¼“è§£ç½‘ç»œæ‹¥å¡ã€‚ â€‹ å°†ä»¥ä¸Šçš„æ–¹æ³•é›†æˆä½œä¸ºä¸€ä¸ªé€šç”¨çš„ç³»ç»Ÿï¼šFasterMoEã€‚è¯¥ç³»ç»Ÿåœ¨ä¸åŒçš„é›†ç¾¤ç³»ç»Ÿä¸Šè¿›è¡Œè¯„ä¼°ï¼Œæœ€å¤šä½¿ç”¨äº† 64 ä¸ªGPUã€‚ä¸å¤§å‹æ¨¡å‹çš„æœ€å…ˆè¿›ç³»ç»Ÿ(åŒ…æ‹¬ZeROã€GShardå’ŒåŸºç¡€å±‚)ç›¸æ¯”ï¼Œå®ƒå®ç°äº†1.37 - 17.87çš„åŠ é€Ÿã€‚ Noteï¼šSource code of FasterMoE is now available at https://github.com/thu-pacman/FasterMoE. äºŒã€é—®é¢˜å®šä¹‰å’Œæè¿° Transformerï¼šä½¿ç”¨MoEæ‰©å±•MLP â€‹ Transformeræ˜¯å¤„ç†åºåˆ—çš„æœ€å…ˆè¿›ç»“æ„ã€‚ä¸€ä¸ªTransformer Block ç”±Attentionå±‚å’Œå¤šå±‚æ„ŸçŸ¥æœº(MLP)ä¸¤ç»„æˆã€‚Attentionå±‚çš„ç»“æœè¢«é€å…¥MLPå±‚åï¼Œè¯¥å±‚ç”±ä¸¤ä¸ªå·¨å¤§çš„å…¨è¿æ¥ï¼ˆFCï¼‰å±‚ç»„æˆã€‚Transformer Block ä¸­æœ€è€—æ—¶çš„è®¡ç®—æ˜¯å‘ç”Ÿåœ¨MLPå±‚çš„ä¸€èˆ¬çŸ©é˜µä¹˜æ³•(GeMM)ã€‚åœ¨ Transformer ä¸­ï¼ŒMLPå±‚é€šå¸¸ç”¨MoEæ‰©å±•ã€‚ â€‹ åœ¨non-MoE Transformeræ¨¡å‹ä¸­ï¼ŒMLPä¸­æœ‰ä¸¤ä¸ªç›¸é‚»çš„FCå±‚ã€‚å½“æ¨¡å‹è§„æ¨¡æ‰©å¤§æ—¶ï¼Œè¿™äº›å¯†é›†çš„å±‚å˜å¾—å·¨å¤§ï¼Œä½¿å¾—GeMMçš„è®¡ç®—é‡è¿‡å¤§ã€‚åœ¨MoEæ¨¡å‹ä¸­ï¼ŒGeMMçš„æƒé‡çŸ©é˜µæ²¿ç€ä¸€å®šçš„ç»´æ•°åˆ†å‰²ï¼Œä½¿å¾—æ¯ä¸ªéƒ¨åˆ†ä»ç„¶äº§ç”Ÿç›¸åŒå¤§å°çš„è¾“å‡ºï¼Œè€ŒGeMMçš„è®¡ç®—é‡ä»ç„¶å¾ˆå°ã€‚æ¢å¥è¯è¯´ï¼ŒMoEå…è®¸åœ¨ä¸å¢åŠ è®¡ç®—é‡çš„æƒ…å†µä¸‹å¢åŠ æ¨¡å‹å‚æ•°ï¼Œè¿™ä½¿å¾—å®ƒæˆä¸ºç›®å‰ç”Ÿäº§ä¸‡äº¿çº§ä»¥ä¸Šé¢„è®­ç»ƒæ¨¡å‹çš„æœ€å¯è¡Œæ–¹æ³•ã€‚ â€‹ å¯¹äºä¸€ä¸ªç»™å®šçš„è¾“å…¥ï¼Œä¸€ä¸ªé¢å¤–çš„æ¨¡å—ï¼Œé—¨ï¼Œè¢«å¼•å…¥æ¥å†³å®šå“ªäº›ä¸“å®¶åº”è¯¥è¢«æ¿€æ´»ã€‚gateé€šå¸¸æ˜¯ä¸€ä¸ªå°çš„FCå±‚ï¼Œç”¨äºè®¡ç®—æ¯ä¸ªä¸“å®¶çš„åŒ¹é…åˆ†æ•°ï¼Œå¹¶é€‰æ‹©åŒ¹é…åˆ†æ•°æœ€é«˜çš„å‰ k ä¸ªä¸“å®¶ã€‚ å¹¶è¡Œç­–ç•¥ â€‹ æ•°æ®å¹¶è¡Œã€æ¨¡å‹å¹¶è¡Œå’Œä¸“å®¶å¹¶è¡Œæ˜¯åˆ†å¸ƒå¼è®­ç»ƒä¸­å¸¸è§çš„ä¸‰ç§å¹¶è¡Œç­–ç•¥ã€‚ æ•°æ®å¹¶è¡Œï¼ˆData Parallelismï¼‰ åœ¨æ‰€æœ‰çš„workerä¸Šå¤åˆ¶æ•°æ®ï¼Œç»™æ¯ä¸ªworkerä¸åŒæ‰¹æ¬¡çš„è®­ç»ƒæ ·æœ¬ã€‚workeråœ¨æ¯ä¸€æ¬¡è¿­ä»£åå…¨å±€åŒæ­¥å˜åŒ–å¹¶æ›´æ–°æ¨¡å‹ã€‚å°½ç®¡åœ¨æ¯è½®è¿­ä»£ä¸­æ²¡æœ‰é€šä¿¡ï¼Œä½†æ˜¯æ¨¡å‹çš„å¤§å°ä¸èƒ½è¶…è¿‡å•ä¸ªworkerçš„èƒ½åŠ›èŒƒå›´ï¼Œè¿™ä½¿æ¨¡å‹çš„å¤§å°å—é™ã€‚ æ¨¡å‹å¹¶è¡Œï¼ˆModel Parallelismï¼‰ æŒ‰ç…§ä¸€å®šçš„ç»´åº¦åˆ†å‰²æƒé‡å‘é‡ï¼Œå³æ¨¡å‹è¢«åˆ†åŒºå¹¶æ”¾ç½®åœ¨ä¸åŒçš„workerä¸Šã€‚æ‰€æœ‰çš„workerä¸€èµ·å¤„ç†å…¨å±€æ‰¹å¤„ç†ï¼Œä½¿ç”¨ç›¸åº”éƒ¨åˆ†çš„æƒé‡åˆ’åˆ†è¿›è¡Œè®¡ç®—ã€‚åœ¨æ¯ä¸€å±‚åï¼Œå¯¹åµŒå…¥çš„å‘é‡è¿›è¡Œèšåˆå’Œå†åˆ†å¸ƒã€‚ä½†æ˜¯ï¼Œæ¨¡å‹çš„å¹¶è¡Œæ€§å—é™äºåˆ†åŒºç»´åº¦å’Œå±‚ä¸å±‚ä¹‹é—´é€šä¿¡å¼€é”€å¤§çš„é™åˆ¶ï¼Œæ— æ³•é«˜æ•ˆåœ°æ‰©å±•åˆ°éå¸¸å¤§çš„æ¨¡å‹ã€‚ ä¸“å®¶å¹¶è¡Œï¼ˆExpert Parallelismï¼‰ é¦–å…ˆè¢«GShardæå‡ºï¼Œæ˜¯ä¸€ç§é’ˆå¯¹MoEçš„ç‰¹æ®Šå¹¶è¡Œæ–¹å¼ã€‚ä¸“å®¶åˆ†å¸ƒåœ¨ä¸åŒçš„workerä¸Šï¼Œå¹¶ä¸”æ¯ä¸ªworkeræ‰¿æ‹…ä¸åŒæ‰¹æ¬¡çš„è®­ç»ƒæ•°æ®ã€‚å¯¹äºéMoEå±‚æ¥è¯´ï¼Œä¸“å®¶å¹¶è¡Œå’Œæ•°æ®å¹¶è¡Œä¸€æ ·ã€‚åœ¨MoEå±‚ä¸­ï¼Œåºåˆ—ä¸­çš„tokenè¢«å‘é€åˆ°å®ƒä»¬æ¸´æœ›çš„ä¸“å®¶å¤„ã€‚ä¸æ¨¡å‹å¹¶è¡Œç›¸ä¼¼ï¼Œæ¯ä¸ªMoEå±‚çš„è¾“å‡ºè¢«å†æ¬¡äº¤æ¢ï¼Œé‡æ–°ç»„ç»‡æˆåŸå§‹åºåˆ—ï¼Œç”¨äºä¸‹ä¸€å±‚çš„è®¡ç®—ã€‚ç”±äºMoEæ¨¡å‹é€šå¸¸æœ‰å¤§é‡çš„ä¸“å®¶ï¼Œä¸“å®¶å¹¶è¡Œåº¦æ¯”æ¨¡å‹å¹¶è¡Œåº¦æ›´èƒ½éšæ¨¡å‹è§„æ¨¡çš„å¢å¤§è€Œå¢å¤§ã€‚ MoEç­–ç•¥çš„æŒ‘æˆ˜ â€‹ ä¸»è¦å¯¹ä¸‰ä¸ªå½±å“MoEæ€§èƒ½çš„æŒ‘æˆ˜è¿›è¡Œè¯¦ç»†æè¿°ã€‚ å€¾æ–œçš„ä¸“å®¶é€‰æ‹©ï¼ˆSkewed expert selectionï¼‰ â€‹ ä»¥Figure3ä¸ºä¾‹ï¼Œä¸“å®¶0æ”¶åˆ°3ä¸ªtokenï¼Œæ¯”ä¸“å®¶2å¤š3ä¸ªå·¥ä½œè´Ÿè½½ã€‚ç»“æœï¼Œworker 2åœ¨ä¸‹ä¸€æ¬¡é€šä¿¡å¼€å§‹ä¹‹å‰å¾ˆé•¿ä¸€æ®µæ—¶é—´å¤„äºç©ºé—²çŠ¶æ€ï¼Œæ²¡æœ‰å……åˆ†åˆ©ç”¨å…¶å¯ç”¨çš„è®¡ç®—èƒ½åŠ›ã€‚è€ƒè™‘åˆ°è®­ç»ƒæ•°æ®è‡ªç„¶éµå¾ªå€¾æ–œåˆ†å¸ƒï¼Œä¸€äº›ä¸“å®¶æ¯”å…¶ä»–äººæ›´æœ‰å¯èƒ½è¢«é€‰ä¸­ã€‚ â€‹ å¦å¤–ï¼Œå¦‚Figure 4(a)æ‰€ç¤ºçš„MoEå±‚ä¸­ï¼Œä¸“å®¶çš„å—æ¬¢è¿ç¨‹åº¦åœ¨æ•´ä¸ªåŸ¹è®­è¿‡ç¨‹ä¸­éƒ½åœ¨ä¸æ–­å˜åŒ–ã€‚å›¾4bå±•ç¤ºäº†ä¸åŒæ¨¡å‹ä¸­çš„å¦ä¸€å±‚ï¼Œåœ¨è¿™ä¸€å±‚ä¸­ï¼Œå—æ¬¢è¿ç¨‹åº¦æ›´ç¨³å®šï¼Œä½†ä»ç„¶æœ‰å¾ˆå¤šä¸å—æ¬¢è¿çš„ä¸“å®¶ï¼Œç‰¹åˆ«çš„ï¼Œæ”¾å¤§å›¾ï¼Œå¯ä»¥çœ‹åˆ°è™½ç„¶è¿™äº›ä¸“å®¶ä¸å—æ¬¢è¿ï¼Œä½†ä»å¿ å¿ƒçš„å¤„ç†ç€ç›¸åº”é¢†åŸŸçš„æ•°æ®ã€‚ â€‹ æ›´å—æ¬¢è¿çš„ä¸“å®¶æ¯”ä¸å—æ¬¢è¿çš„ä¸“å®¶æ”¶åˆ°çš„ token æ›´å¤šï¼Œè¿™è®©å®ƒä»¬æ‰€åœ¨çš„workerè´Ÿæ‹…æ›´é‡ã€‚å› æ­¤ï¼ŒMoEç»­è”ç³»ç»Ÿé¢ä¸´çš„ç¬¬ä¸€ä¸ªæŒ‘æˆ˜æ˜¯å¦‚ä½•å¤„ç†å€¾æ–œä¸“å®¶é€‰æ‹©é€ æˆçš„åŠ¨æ€è´Ÿè½½ä¸å¹³è¡¡ã€‚ åŒæ­¥æ‰§è¡Œæ¨¡å¼æ•ˆç‡ä½ï¼ˆSynchronous execution mode of operationsï¼‰ â€‹ è€ƒè™‘åˆ°ä¸ç»Ÿä¸€çš„ä¸“å®¶é€‰æ‹©ä¼šå¯¼è‡´è®¡ç®—å’Œé€šä¿¡çš„ä¸å¹³è¡¡ï¼Œè¿™ç§åŒæ­¥æ‰§è¡Œæ–¹æ³•ä¼šé€ æˆæ›´é«˜çš„èµ„æºæµªè´¹ã€‚å½“æ‰§è¡Œé€šä¿¡æˆ–è®¡ç®—æ—¶ï¼Œå…¶ä»–ç¡¬ä»¶æœ€ç»ˆæ²¡æœ‰å¾—åˆ°å……åˆ†åˆ©ç”¨ï¼Œè€Œå®ƒä»¬å¯ä»¥ç”¨äºå¤„ç†å…¶ä»–æ“ä½œã€‚ â€‹ ä½†æ˜¯ï¼Œç”±äºé€šä¿¡å’Œè®¡ç®—ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œå› æ­¤å¾ˆéš¾åˆ†å‰²åˆ°æ‰€æœ‰çš„é€šä¿¡ã€‚å¦‚æœä¼ è¾“çš„é¡ºåºä¸åˆç†ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“é€ æˆæ­»é”ã€‚å› æ­¤ï¼Œç¬¬äºŒä¸ªæŒ‘æˆ˜æ˜¯å¦‚ä½•æœ‰æ•ˆåœ°ç»„ç»‡é€šä¿¡å’Œè®¡ç®—ä»»åŠ¡å¹¶è¡Œæ‰§è¡Œã€‚ ç½‘ç»œæ‹¥å¡ä¸ç«äº‰ï¼ˆsevere network contentionï¼‰ â€‹ æœ€åæ˜¯ä¸“å®¶ä»»åŠ¡ä¸ç½‘ç»œæ‹“æ‰‘ä¹‹é—´çš„ä¸åè°ƒæ€§ã€‚æ¯ä¸ªNodeå†…éƒ¨Workerä¹‹é—´è¿æ¥æ˜¯é«˜å¸¦å®½çš„ï¼Œä½†æ˜¯Workerä¸Workerä¹‹é—´ç”±äºä½¿ç”¨çš„æ˜¯ä»¥å¤ªç½‘ç­‰é€šä¿¡æ–¹å¼ï¼Œå¦‚æœä¸å¯¹ä¸“å®¶é€‰æ‹©è¿›è¡Œçº¦æŸï¼Œé‚£ä¹ˆåœ¨æ•°æ®åˆ†å¸ƒè¾ƒå¹³è¡¡çš„æƒ…å†µä¸‹Workerä¸Workerä¹‹é—´çš„é€šä¿¡æ›´å¯†é›†ï¼Œé€ æˆæ‹¥å¡ã€‚å› æ­¤ï¼Œç¬¬ä¸‰ä¸ªæŒ‘æˆ˜æ˜¯å¦‚ä½•è®¾è®¡ä¸€ç§ç½‘ç»œæ‹“æ‰‘æ„ŸçŸ¥tokenåˆ†é…ç­–ç•¥ï¼Œä»¥é¿å…ä¸¥é‡çš„ç½‘ç»œäº‰ç”¨ã€‚ æ€§èƒ½å»ºæ¨¡ â€‹ ä¸ºäº†è¯„ä¼°å’Œåˆ†æè®­ç»ƒä»»åŠ¡çš„æ€§èƒ½ï¼Œé¦–å…ˆåˆ†åˆ«å¼•å…¥å»ºç«‹çš„è®¡ç®—æ¨¡å‹å’Œé€šä¿¡æ¨¡å‹ã€‚ç„¶åï¼Œè¿›ä¸€æ­¥å»ºç«‹ä¸€ä¸ªç±»ä¼¼å±‹é¡¶çº¿çš„æ¨¡å‹æ¥ç ”ç©¶é€šä¿¡å»¶è¿Ÿå’Œè®¡ç®—å»¶è¿Ÿæ˜¯å¦‚ä½•å…±åŒå½±å“æ•´ä½“è®­ç»ƒæ•ˆç‡çš„ã€‚ç¬¦å·æ ‡è®°ï¼š Load-awareè®¡ç®—å»ºæ¨¡ â€‹ GeMMæ˜¯è®­ç»ƒTransformeræ—¶çš„ä¸»è¦è®¡ç®—ã€‚ç°ä»£å¤§è§„æ¨¡çš„è®¡ç®—è®¾å¤‡å¯¹å¸¸è§„çš„è®¡ç®—ï¼Œå¦‚GeMMè¿è¡Œè¿›è¡Œäº†å¤§é‡ä¼˜åŒ–ï¼Œç”šè‡³å®ç°äº†å³°å€¼ååé‡çš„90%ä»¥ä¸Šã€‚ä½¿ç”¨ä¸‹é¢å…¬å¼é¢„æµ‹Transformerä¸­MLPå±‚æ­£å‘è®¡ç®—çš„æ—¶å»¶ï¼š L a t_{\\text {comp }}=\\max _{w \\in \\text { workers }}\\left\\{\\frac{4 B_{w} \\alpha H^{2}}{P_{w}}\\right\\} $B_w$ï¼šworker wçš„æ‰¹å¤§å° $H$ï¼šè¾“å…¥çš„tokenå‘é‡çš„é•¿åº¦ $\\alpha H$ï¼šMLPä¸­ä¸¤ä¸ªFCå±‚ä¹‹é—´çš„å‘é‡çš„é•¿åº¦ $P_w$ï¼šwä¸ªworkerè¿›è¡ŒGeMMçš„å¹³å‡ååé‡ â€‹ ç”±äºå•ä¸ªFMAæ“ä½œï¼ˆæ··åˆä¹˜åŠ è¿ç®—ï¼‰å ç”¨ä¸¤ä¸ªæ“ä½œï¼Œå› æ­¤æ¯æ¬¡FCæ‰§è¡Œå°†å æ®$2B_w\\alpha H^2$ä¸ªæ“ä½œã€‚ç”±äºæœ‰ä¸¤ä¸ªFCå±‚ï¼Œæ•…ç³»æ•°ä¸º4ã€‚ç«¯åˆ°ç«¯å»¶è¿Ÿæ˜¯æ¯ä¸ªworkerçš„æœ€å¤§å»¶è¿Ÿï¼Œå› æ­¤è¯¥å…¬å¼åæ˜ è®¡ç®—ä¸­çš„è´Ÿè½½ä¸å‡è¡¡ã€‚ Topology-awareé€šä¿¡å»ºæ¨¡ â€‹ é€šä¿¡çš„æ•´ä½“å»¶è¿Ÿç”±é€šä¿¡å¼€é”€å’Œå»¶è¿Ÿç»„æˆã€‚ Noteï¼šLogPæ¨¡å‹æè¿°è®¡ç®—æœºç³»ç»Ÿçš„å¹¶è¡Œè®¡ç®—æ¨¡å‹ Latencyï¼ˆä¿¡æ¯ä»æºåˆ°ç›®çš„åœ°æ‰€éœ€çš„æ—¶é—´ï¼‰ Overheadï¼ˆå¤„ç†å™¨æ¥å—æˆ–å‘é€ä¸€æ¡æ¶ˆæ¯æ‰€éœ€é¢å¤–å¼€é”€ï¼Œå¹¶ä¸”åœ¨æ­¤æœŸé—´å¤„ç†å™¨ä¸èƒ½åšä½œä»»ä½•æ“ä½œï¼‰ Gapï¼ˆå¤„ç†å™¨è¿ç»­è¿›è¡Œä¸¤æ¬¡å‘é€æˆ–æ¥æ”¶æ¶ˆæ¯ä¹‹é—´å¿…é¡»æœ‰çš„æ—¶é—´é—´éš”ï¼‰ Processorï¼ˆå¤„ç†å™¨çš„æ•°ç›®ï¼‰ LogPæ¨¡å‹ä¸­ï¼Œç½‘ç»œçš„å®¹é‡æ˜¯æœ‰é™åº¦çš„ , åœ¨ä»»ä½•æ—¶åˆ»çš„ç½‘ä¸Š , ä»ä»»ä½•å¤„ç†å™¨å‘å‡ºæˆ–å‘ä»»ä½•å¤„ç†å™¨å‘å»çš„æ¶ˆæ¯ä¸ªæ•°ä¸å¾—è¶…è¿‡ [L /g ]ä¸ª , å¦åˆ™ä¾¿ä¼šå‘ç”Ÿé˜»å¡ã€‚ LogPæ˜¯ä¸ªå¼‚æ­¥æ¨¡å‹ ,é€šä¿¡ä¸è®¡ç®—å¯ä»¥é‡å  , å¹¶å®Œå…¨é‡‡ç”¨æ¶ˆæ¯ä¼ é€’çš„æ–¹å¼è¿›è¡Œé€šä¿¡å’ŒåŒæ­¥ã€‚ â€‹ å‡è®¾åœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸­é€šå¸¸æœ‰å¤šä¸ªåŠ é€Ÿå™¨ï¼Œæ¯ä¸ªåŠ é€Ÿå™¨éƒ½æ˜¯ä¸€ä¸ªworkerï¼Œä¸ä»…åº”è¯¥è€ƒè™‘èŠ‚ç‚¹é—´çš„è¿æ¥ï¼Œè¿˜åº”è¯¥è€ƒè™‘èŠ‚ç‚¹å†…çš„è¿æ¥ï¼Œå¦‚PCIeã€UPIå’ŒNVLinkã€‚ â€‹ è®ºæ–‡é‡‡ç”¨ä¸€ç§æ‹“æ‰‘æ„ŸçŸ¥æ¨¡å‹æ¥é¢„æµ‹é›†ä½“é€šä¿¡æ“ä½œçš„å»¶è¿Ÿã€‚å‡è®¾é“¾æ¥$l$åœ¨å•ä¸ªæ–¹å‘ä¸Šçš„å¸¦å®½ä¸º$W{l}$ï¼Œæµé‡å¤§å°ä¸º$T{l}$ã€‚é€šä¿¡çš„ç«¯åˆ°ç«¯å»¶è¿Ÿè®¡ç®—å¦‚ä¸‹ã€‚å¹¶ä¸”åˆ†åˆ«è€ƒè™‘é“¾è·¯ä¸¤ä¸ªæ–¹å‘çš„æµé‡ï¼ˆä¸¤ä¸ªæ–¹å‘æµé‡å¯èƒ½åœ¨è´Ÿè½½ä¸å¹³è¡¡æ—¶å·®è·å¾ˆå¤§ï¼‰ L a t_{\\mathrm{comm}}=\\max _{l \\in \\operatorname{links}}\\left\\{\\frac{T_{l}}{W_{l}}\\right\\} â€‹ æ¯æ¡é“¾è·¯ä¸Šçš„æµé‡å–å†³äºç®—æ³•å’Œè·¯ç”±ç­–ç•¥ã€‚åœ¨æ¯ä¸ªè¾¹ç¼˜ä¸Šï¼Œå¯¹ä¸åŒçš„æ“ä½œé‡‡ç”¨ä¸åŒçš„æ–¹æ³•æ¥è®¡ç®—æµé‡ã€‚ All-to-all-v ç”¨äºå°†tokenä»åºåˆ—ä¸­çš„ä½ç½®è·¯ç”±åˆ°å®ƒä»¬æ‰€éœ€çš„ä¸“å®¶ã€‚ç”±äºä¸“å®¶é€‰æ‹©çš„çµæ´»æ€§ï¼Œæ¯å¯¹workerä¹‹é—´çš„æµé‡æ˜¯é«˜åº¦å¯å˜çš„ã€‚æˆ‘ä»¬å‡è®¾all-to-allæ“ä½œåªæ˜¯åœ¨æ‰€æœ‰workerå¯¹ä¹‹é—´åˆ›å»ºé“¾æ¥ï¼Œå¹¶æ¨¡æ‹Ÿåœ°ä¼ è¾“æ•°æ®ã€‚æ ¹æ®æ‹“æ‰‘ç±»å‹çš„ä¸åŒï¼Œé‡‡ç”¨ä¸€ç§ç®—æ³•æ¥è®¡ç®—æ¯ä¸ªå·¥ä½œå¯¹ä¹‹é—´çš„è·¯å¾„ã€‚å¯¹äºæ¯å¯¹workerï¼Œä»–ä»¬ä¹‹é—´çš„æµé‡åœ¨è·¯å¾„ä¸Šçš„æ‰€æœ‰æœ‰å‘è¾¹ä¸Šç´¯ç§¯ã€‚ All-reduceç®—å­å¹¿æ³›åº”ç”¨äºæ•°æ®åŒæ­¥ä¸­ï¼Œå¦‚æ•°æ®å¹¶è¡Œåº¦ä¸­é‡å¤æ¨¡å‹å‚æ•°çš„æ¢¯åº¦ï¼Œæ¨¡å‹å¹¶è¡Œä¸­åµŒå…¥å‘é‡ç­‰ã€‚åœ¨æ¯ä¸ªworkerä¸Šå¯¹ä¸€ä¸ªå¤§å°ä¸º$S$çš„å¼ é‡åº”ç”¨ring all-reduceï¼Œç»“æœæ˜¯æ¯ä¸ªworkeråœ¨ç®¡é“ä¸­æ€»å…±å‘é€$2\\frac{n-1}{n}$ç»™å®ƒçš„é‚»å±…ã€‚ Broadcast and reduceä¸all-reduceä¸€æ ·å…·æœ‰è§„å¾‹æ€§ï¼Œåˆ©ç”¨ç¯å½¢è¿æ¥å’Œæµæ°´çº¿æ¥é™ä½å…¶å»¶è¿Ÿã€‚ä½†ä¸all-reduceä¸åŒçš„æ˜¯ï¼Œå®ƒä»¬åªé€šè¿‡æ¯ä¸ªé“¾æ¥å‘é€æ€»å¤§å°ä¸º$S$çš„æ¶ˆæ¯ã€‚ Noteï¼š åˆ†å¸ƒå¼è®­ç»ƒç¡¬æ ¸æŠ€æœ¯â€”â€”é€šè®¯åŸè¯­ DDL-Roofline Model â€‹ ä½¿ç”¨DDL-Roofline Modelæè¿°ç»™å®šé›†ç¾¤ä¸Šç‰¹å®šè®­ç»ƒä»»åŠ¡çš„æ€§èƒ½ã€‚ xè½´ï¼š$R_{CC}$ â€‹ è®¡ç®—å’Œé€šä¿¡æ˜¯å¹¶è¡ŒMoEæ¨¡å‹çš„ä¸¤ä¸ªå…³é”®å› ç´ ã€‚å› æ­¤ï¼Œå®šä¹‰è®¡ç®—-é€šä¿¡çš„æ¯”ç‡$R{CC}$ï¼Œè¡¨ç¤ºåœ¨DDL- Rooflineçš„Xè½´ä¸Šï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š R_{C C}=\\frac{L a t_{\\mathrm{comp}}}{L a t_{\\mathrm{comm}}} â€‹ $L a t{\\mathrm{comp}}$å’Œ$L a t{\\mathrm{comm}}$åˆ†åˆ«è¡¨ç¤ºç”±é¢„æµ‹å™¨ä¼°è®¡çš„è®¡ç®—å’Œé€šä¿¡å»¶è¿Ÿã€‚$R{CC}$è¡¨ç¤ºä»»åŠ¡æ˜¯å—è®¡ç®—é™åˆ¶è¿˜æ˜¯å—é€šä¿¡é™åˆ¶ã€‚å½“$R_{CC}$>1æ—¶ï¼Œè®¡ç®—æ—¶é—´å ç”¨ç«¯åˆ°ç«¯å»¶è¿Ÿæ—¶é—´ï¼Œå¦åˆ™é€šä¿¡å ç”¨å¤§éƒ¨åˆ†å»¶è¿Ÿæ—¶é—´ã€‚è¿™ä¸ªæ¯”ç‡è¡¨æ˜äº†åº”ç”¨ä¸åŒä¼˜åŒ–çš„æ–¹å‘ã€‚ yè½´ï¼šå¹³å‡è®¡ç®—ååé‡ â€‹ Yè½´çš„å˜é‡ä¸º$\\bar{P}$ï¼Œè¡¨ç¤ºæ‰€æœ‰workerçš„å¹³å‡è®¡ç®—ååé‡ã€‚è®­ç»ƒä¸€ä¸ªMoE MLPå±‚æ—¶ï¼Œè®¡ç®—å¦‚ä¸‹ã€‚ \\bar{P}=\\frac{12 \\alpha H^{2} \\sum_{w} B_{w}}{N L a t_{\\mathrm{e} 2 \\mathrm{e}}} å›¾åƒç»¼åˆåˆ†æ â€‹ ç†æƒ³æƒ…å†µä¸‹ï¼šé€šä¿¡å’Œè®¡ç®—åŒæ—¶è¿›è¡Œï¼Œå¾—åˆ°äº†ä¸€ä¸ªç±»ä¼¼å±‹é¡¶çº¿çš„æŠ˜çº¿ï¼Œå¦‚å›¾5ä¸­å®çº¿æ‰€ç¤ºçš„ç†è®ºä¸Šé™ã€‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š \\bar{P}_{\\text {ideal }}=P_{w} \\min \\left\\{1, R_{C C}\\right\\} â€‹ åŠç†æƒ³æƒ…å†µï¼šä»¥åŒæ­¥æ–¹å¼è¿›è¡Œè®­ç»ƒæ—¶ï¼Œç¡¬ä»¶çš„å……åˆ†åˆ©ç”¨ \\begin{aligned} \\bar{P}_{\\text {semi-ideal }} &=P_{w} \\frac{L a t_{\\mathrm{comp}}}{L a t_{\\mathrm{comp}}+L a t_{\\mathrm{comm}}} \\\\ &=P_{w} \\frac{R_{C C}}{R_{C C}+1} \\end{aligned} â€‹ åœ¨åŠç†æƒ³æƒ…å†µä¸‹ï¼Œç«¯åˆ°ç«¯å»¶è¿Ÿæ˜¯é€šä¿¡å»¶è¿Ÿå’Œè®¡ç®—å»¶è¿Ÿçš„æ€»å’Œã€‚æœ€åˆçš„rooflineæ¨¡å‹æè¿°çš„æ˜¯åœ¨å•ä¸ªè®¾å¤‡ä¸Šçš„ç¨‹åºï¼Œå†…å­˜è®¿é—®å’Œè®¡ç®—è‡ªç„¶æ˜¯åŒæ—¶æ‰§è¡Œçš„ï¼Œä¸æ­¤ä¸åŒçš„æ˜¯ï¼Œåˆ†å¸ƒå¼è®­ç»ƒç¨‹åºé€šå¸¸éœ€è¦å¯¹ç³»ç»Ÿè¿›è¡Œæ˜¾è‘—çš„ä¼˜åŒ–ï¼Œä»¥ä¾¿åŒæ—¶æ‰§è¡Œå®ƒä»¬ã€‚ ä¸‰ã€è®ºæ–‡æå‡ºçš„è§£å†³æ–¹æ¡ˆï¼šModel-Guidedä¼˜åŒ–æ–¹æ³• è½»é‡çº§åŠ¨æ€è·Ÿè¸ªç­–ç•¥ ç­–ç•¥æ¦‚è¿° â€‹ ç­–ç•¥é©±åŠ¨ï¼šMoEä¸­ä¸“å®¶é€‰æ‹©å¯èƒ½å­˜åœ¨ä¸å¹³è¡¡çš„æƒ…å†µã€‚ä¼ è¾“å•ä¸ªæ•°æ®çš„æ•°æ®é‡å¯èƒ½æ¯”æ¨¡å‹å‚æ•°æ•°é‡çº§è¦å°ï¼Œä½†æ˜¯æ¥è‡ªæ‰€æœ‰workerçš„æ‰¹é‡è¾“å‡ºå¯èƒ½ç­‰äºç”šè‡³å¤§äºæ¨¡å‹å‚æ•°ã€‚ â€‹ æƒè¡¡ç‚¹ï¼šä¼ è¾“å‘é‡çš„å»¶è¿Ÿæ˜¯å¦å¯ä»¥ç”¨ä¼ è¾“ä¸“å®¶æ¥ä»£æ›¿ã€‚ â€‹ å¦‚å›¾6æ‰€ç¤ºï¼Œä¸€äº›expertè¢«å¤åˆ¶åˆ°æ‰€æœ‰çš„workerä¸Šï¼Œå³shadow expertï¼Œå®ƒä»¬çš„å‚æ•°ï¼Œè€Œä¸æ˜¯è¾“å…¥tokenï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“ã€‚å®ƒä»¬çš„ç›¸å…³è®¡ç®—æ˜¯åœ¨æœ¬åœ°æ‰§è¡Œçš„ï¼Œç›´è§‚åœ°å‡å°‘äº†åŒ…å«çƒ­é—¨ä¸“å®¶çš„å·¥ä½œäººå‘˜çš„è´Ÿè½½ã€‚ åŠ¨æ€shadowçš„å®ç° â€‹ ç”±å›¾4çŸ¥ï¼Œexpertçš„popularityéšç€è®­ç»ƒè¿‡ç¨‹çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæ¯æ¬¡è¿­ä»£å¯èƒ½åšçš„å†³ç­–ä¸åŒã€‚æ­¤å¤–ï¼Œå‚æ•°ä¸èƒ½åƒæ™®é€šçš„åˆ†å¸ƒå¼å†…å­˜ç³»ç»Ÿé‚£æ ·ç¼“å­˜ï¼Œå› ä¸ºå®ƒä»¬åœ¨æ¯æ¬¡è¿­ä»£ä¸­éƒ½è¦æ›´æ–°ï¼Œå¹¶ä¸”éœ€è¦åœ¨æ›´æ–°è¿‡ç¨‹ä¸­å…¨å±€æ”¶é›†æ¢¯åº¦ã€‚å¦‚æœå®ƒä»¬ç¼“å­˜åœ¨æ¯ä¸ªworkerä¸Šï¼Œé‚£ä¹ˆå®ƒä»¬åº”è¯¥åœ¨æ¯æ¬¡è¿­ä»£ä¸­è¿›è¡Œæ›´æ–°ï¼Œä»è€Œå¼•å…¥å¤§é‡çš„é¢å¤–å¼€é”€ã€‚å³ï¼Œè·Ÿè¸ªæœ‰ä¸¤å¤§ç“¶é¢ˆï¼š Expertçš„popularityéšç€è®­ç»ƒè¿‡ç¨‹çš„å˜åŒ–è€Œå˜åŒ–ï¼Œéå›ºå®š æ— æ³•ç®€å•çš„è¿›è¡Œç¼“å­˜ï¼šå‚æ•°åœ¨è¿­ä»£ä¸­ä¼šæ›´æ–° â€‹ è§£å†³æ–¹æ³•é¢„æµ‹è®­ç»ƒè¿­ä»£çš„ç«¯åˆ°ç«¯å»¶è¿Ÿï¼Œä»¥æ£€æŸ¥æ€§èƒ½å¢ç›Šï¼Œå¹¶æ®æ­¤åˆ†ææ˜¯å¦åº”è¯¥åœ¨è¿è¡Œæ—¶è·Ÿè¸ªä¸“å®¶ã€‚ æœªä½¿ç”¨å½±å­ä¸“å®¶å‰çš„æ—¶å»¶è®¡ç®— â€‹ è®­ç»ƒMLPå±‚çš„ä¸€æ¬¡è¿­ä»£åŒ…å«1ä¸ªæ­£å‘GeMMå’Œ2ä¸ªåå‘GeMMï¼Œç”¨äºè®¡ç®—è¾“å…¥çš„æ¢¯åº¦ã€‚all-to-allçš„é€šä¿¡æœ‰4è½®ï¼ŒåŒ…æ‹¬ä¸¤æ¬¡å‘å‰ä¼ é€’çš„all-to-allå’Œä¸¤æ¬¡å‘åä¼ é€’çš„all-to-allã€‚åœ¨ç½‘ç»œå¸¦å®½å›ºå®šçš„ç®€åŒ–æƒ…å†µä¸‹ï¼Œè®­ç»ƒæ—¶å»¶çš„è®¡ç®—å¦‚ä¸‹ï¼š L a t_{\\mathrm{imbl}}(B)=\\max _{w}\\left\\{3 \\frac{4 B_{w} \\alpha H^{2}}{P}+4 \\frac{B_{w} H}{W_{\\text {net }}}\\right\\} ä½¿ç”¨å½±å­ä¸“å®¶åçš„æ—¶å»¶è®¡ç®— â€‹ å¯¹äºä¸€ä¸ªshadowä¸“å®¶ï¼Œå¿…é¡»é¦–å…ˆå°†å…¶å‚æ•°ä¼ æ’­ç»™æ‰€æœ‰çš„workerï¼Œç„¶åä½¿ç”¨è·å–çš„æ¨¡å‹åœ¨æœ¬åœ°tokenä¸Šè¿è¡Œè®¡ç®—ã€‚åœ¨åå‘é˜¶æ®µï¼Œæ¯ä¸ªworkeråˆ†åˆ«è®¡ç®—å…¶æå–çš„ä¸“å®¶çš„æ¢¯åº¦ï¼Œç„¶åè¿›è¡Œall-reduceæ“ä½œã€‚æœ€åï¼Œå‚æ•°æ›´æ–°æ“ä½œåœ¨æœ€å—æ¬¢è¿çš„ä¸“å®¶æœ€åˆæ‰€åœ¨çš„workerä¸Šæ‰§è¡Œã€‚ â€‹ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‰§è¡Œä¸å¹³è¡¡è®¡ç®—çš„å¼€é”€è¢«2ä¸ªé›†åˆé€šä¿¡æ“ä½œç¬¦æ‰€å–ä»£ï¼Œæ¯ä¸ªé€šä¿¡æ“ä½œç¬¦çš„å¤§å°ä¸º$\\alpha H^2$ã€‚ç”±äºå¤šä¸ªå—æ¬¢è¿çš„ä¸“å®¶è¢«æ´¾å¾€è®¸å¤šå…¶ä»–å·¥ä½œäººå‘˜ï¼Œè´Ÿè½½ä¸å¹³è¡¡çš„æƒ…å†µä¸å¤ªå¯èƒ½å‘ç”Ÿã€‚æŠ•å½±$r$æ¨¡å‹çš„å»¶è¿Ÿè®¡ç®—å¦‚ä¸‹ï¼š L a t_{\\text {shadow }}\\left(r, B^{\\prime}\\right)=\\max _{w}\\left\\{3 \\frac{4 B_{w}^{\\prime} \\alpha H^{2}}{P}\\right\\}+2 r \\frac{2 \\alpha H^{2}}{W_{\\text {net }}} å…¶ä¸­B'è¡¨ç¤ºä¿®æ”¹åçš„æ‰¹æ¬¡å¤§å°ã€‚ æƒè¡¡ç»“æœæ€»ç»“ æ¨å¯¼åï¼Œè¿›è¡Œæ¨¡å‹äº¤æ¢è€Œéæ•°æ®äº¤æ¢çš„æ¡ä»¶ä¸ºï¼š ä¼ è¾“è¾“å…¥çš„æ€»å¼€é”€é«˜äºä¼ è¾“æ¨¡å‹ B_{\\max }>r \\alpha H å‡å°‘çš„è®¡ç®—å»¶è¿Ÿå¤§äºå¢åŠ çš„é€šä¿¡å¼€é”€ \\frac{3\\left(B_{\\max }-B_{\\max }^{\\prime}\\right) \\alpha H}{r \\alpha H-B_{\\max }}>\\frac{P}{W_{\\text {net }}} â€‹ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œéƒ½å¯ç”¨äº†åŠ¨æ€é˜´å½±æ¥å‡å°‘ç«¯åˆ°ç«¯å»¶è¿Ÿã€‚å¦åˆ™ï¼Œé€šä¿¡å¼€é”€å¤ªå¤§ï¼Œè€Œä¸”æ¨¡å‹äº¤æ¢ä¸èƒ½ä¸ºå‡å°‘å»¶è¿Ÿå¸¦æ¥å¥½å¤„ï¼Œå› æ­¤ä¸èƒ½æ‰§è¡Œã€‚è¿™ç§æƒ…å†µé€šå¸¸å‘ç”Ÿåœ¨ä¸åŒworkerçš„å·¥ä½œé‡å¹³è¡¡æ—¶ã€‚å›¾5ä¸­çš„ç®­å¤´(1)è¡¨ç¤ºï¼Œç”±äºå‡å°‘äº†ç©ºè½¬ï¼Œè®¡ç®—çš„å»¶è¿Ÿç¼©çŸ­äº†ï¼Œå¯¼è‡´äº†æ›´ä½çš„$R_{CC}$å’Œæ›´é«˜çš„$\\hat{P}$. ç®—æ³•å®ç°[è´ªå¿ƒ] åœ¨æ¯ä¸ªè¿­ä»£çš„è¿è¡Œæ—¶é€‰æ‹©ä¸“å®¶è¿›è¡Œè·Ÿè¸ªã€‚åœ¨æ¯ä¸ªworkerä¸Šæ‰§è¡Œä¸€ä¸ªè½»é‡çº§ç®—æ³•ï¼Œå¦‚ç®—æ³•1æ‰€ç¤ºã€‚æ ¹æ®ä¸Šé¢çš„å…¬å¼ï¼Œå®ƒè¿”å›ä¸€ç»„éœ€è¦å¯¹å…¶è¿›è¡Œè·Ÿè¸ªçš„ä¸“å®¶ã€‚ Noteï¼šæ ¸å¿ƒè¿˜æ˜¯ä¸€ç§è´ªå¿ƒçš„æ€æƒ³ å¼‚æ­¥ç»†ç²’åº¦æ™ºèƒ½è°ƒåº¦ ç»†ç²’åº¦ä»»åŠ¡çš„åˆ’åˆ† é—®é¢˜ï¼šå½“é€šä¿¡å’Œè®¡ç®—åˆ†å¼€æ‰§è¡Œæ—¶ï¼Œç¨‹åºä¸èƒ½è¶…å‡ºåŠç†æƒ³æ›²çº¿ã€‚ è§£å†³æ–¹æ¡ˆï¼šå°†ä»»åŠ¡åˆ’åˆ†ä¸ºæ›´å°çš„éƒ¨åˆ†ï¼Œå¹¶é‡æ–°è°ƒåº¦ç»†ç²’åº¦çš„é€šä¿¡å’Œè®¡ç®—æ“ä½œï¼Œä»¥æé«˜æ•ˆç‡ã€‚ç»†ç²’åº¦è°ƒåº¦å…è®¸è®¡ç®—å’Œé€šä¿¡å¼‚æ­¥æ‰§è¡Œï¼Œä»è€Œæ›´å¥½åœ°åˆ©ç”¨ç¡¬ä»¶ï¼Œä½¿å…¶èƒ½å¤Ÿè¶…è¶Šå›¾5ä¸­ç®­å¤´(2)æ‰€ç¤ºçš„åŠç†æƒ³æ›²çº¿ã€‚ åˆ’åˆ†é€šä¿¡ï¼šä¸“å®¶å¹¶è¡Œä¸­ï¼Œé€šä¿¡éµå¾ªall-to-allçš„æ¨¡å¼ï¼Œä½¿ç”¨å¯å‘å¼ç®—æ³•å°†workeråˆ’åˆ†æ›´ç»†ç²’åº¦çš„ç»„ï¼Œåˆ†å‰²æ‰€æœ‰äººçš„é€šä¿¡ã€‚ä½¿ç”¨åˆ†ç»„çš„pairwiseäº¤æ¢ç®—æ³•å»æ‰§è¡Œall-to-allã€‚ åˆ†ç»„åˆ’åˆ†ä¸ç¯å½¢é€šä¿¡ group pair-wiseç®—æ³•ï¼šnä¸ªç”±workeræ„æˆçš„ç»„ç»„æˆä¸€ä¸ªå¤§å°ä¸ºnçš„ç¯ï¼Œä»¥0åˆ°n-1é€’å¢çš„æ­¥é•¿å‘å…¶ä»–çš„ç»„å‘é€æ•°æ®ã€‚ç¬¬kæ­¥çš„å‘é€æ­¥éª¤å¦‚ä¸‹æè¿°ï¼š åœ¨$step_i$æ—¶ï¼š $wj$å‘$w{j-i}$å‘é€æ•°æ® $wj$ä»$w{j+i}$æ¥æ”¶æ•°æ® å…·æœ‰ä¾èµ–å…³ç³»çš„è®¡ç®—å’Œé€šä¿¡çš„è¿›è¡Œï¼šåœ¨ä¸€ä¸ªMoEå±‚çš„å‰å‘æˆ–åå‘é˜¶æ®µï¼Œæ¶‰åŠä¸¤ä¸ªå¯¹ç§°çš„all-to-allï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´è¿›è¡Œè®¡ç®—ã€‚æŒ‰ç…§ä¸¤ä¸¤äº¤æ¢çš„æ–¹å¼åˆ†å‰²è®¡ç®—ï¼Œä¸ºé‡æ–°ç»„ç»‡å®ƒä»¬ç•™å‡ºç©ºé—´ã€‚3nä¸ªæ“ä½œç”±nä¸ªç»„ä¸­çš„æ‰€æœ‰workeråˆ†nä¸ªæ­¥éª¤æ‰§è¡Œã€‚åœ¨æ­¥éª¤jä¸­ï¼Œç»„iä¸­çš„workeræ‰§è¡Œä»¥ä¸‹3ä¸ªæ“ä½œï¼Œç”±å›¾7ä¸­çš„ç¤ºä¾‹å®ä¾‹åŒ–ã€‚ $S{i,j}$ï¼šå‘é€åˆ°ç»„$t{i, j}=(i-j)$å¹¶ä»$f_{i, j}=(i+j)$æ¥æ”¶token(éƒ½å¯¹nå–æ¨¡)ã€‚ $C{i,j}$ï¼šä½¿ç”¨æœ¬åœ°ä¸“å®¶ä»$f{i,j}$ï¼Œåœ¨tokenä¸Šè¿›è¡Œè®¡ç®—ã€‚ $R{i,j}$ï¼šä»$t{i,j}$æ¥æ”¶æœ¬åœ° token çš„è¾“å‡ºå¹¶æŠŠè®¡ç®—ç»“æœé€å›åˆ°$f_{i,j}$ â€‹ è°ƒåº¦çš„ç›®æ ‡æ˜¯å¹¶è¡Œåœ°æ‰§è¡Œè®¡ç®—å’Œé€šä¿¡ã€‚ä¸ºæ¯ä¸ªworkeråˆ›å»ºä¸€ä¸ªé€šä¿¡æµå’Œä¸€ä¸ªè®¡ç®—æµï¼Œä»¥æ‰§è¡Œä¸åŒç±»å‹çš„æ“ä½œç¬¦ã€‚ä½†æ‰€æœ‰æ“ä½œéƒ½å¿…é¡»éµå¾ªå®ƒä»¬çš„æ•°æ®ä¾èµ–å…³ç³»ï¼Œå¹¶åœ¨å¯åŠ¨è‡ªå·±ä¹‹å‰ç­‰å¾…ä¹‹å‰çš„ä»»åŠ¡æ‰§è¡Œã€‚ Noteï¼šæ•°æ®ä¾èµ–å…³ç³»å¯ä»¥ç”±ä¸‹å›¾è¡¨ç¤º â€‹ ä¸åŒçš„éµå¾ªæ•°æ®ä¾èµ–å…³ç³»çš„è°ƒåº¦æ–¹å¼å¦‚ä¸‹ï¼š â€‹ å¯ä»¥çœ‹å‡ºï¼Œåœ¨è®¡ç®—æµå§‹ç»ˆç¹å¿™çš„æƒ…å†µä¸‹å¦‚å›¾8(b),(c)ï¼Œèƒ½å¤Ÿä¼˜åŒ–æ—¶é—´çš„ä¸»è¦æœºä¼šæ˜¯ç¬¬ä¸€ä¸ªSå’Œæœ€åä¸€ä¸ªRã€‚pairwiseè°ƒåº¦èƒ½ä¿è¯å¯¹äºä»»ä½•ä¸€ä¸ªworkeræ¥è¯´ï¼Œæœ€å¿«çš„ä¸¤ä¸ªæ“ä½œ$S{i,0}$ä¸ºç¬¬ä¸€ä¸ªï¼Œ$R{i,n-1}$ä¸ºæœ€åä¸€ä¸ªï¼Œæœ€å¤§é™åº¦çš„å‡å°‘å¼€é”€ã€‚ é¿å…ç«äº‰çš„ä¸“å®¶é€‰æ‹©ç­–ç•¥ â€‹ MoEæ¨¡å‹ä¸­ï¼Œæœ€ç»ˆç›®æ ‡æ˜¯ç”¨è¶³å¤Ÿå¤šçš„æ ·æœ¬æ¥è®­ç»ƒä¸“å®¶ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæ ·æœ¬éƒ½è¢«æœŸæœ›çš„ä¸“å®¶å¤„ç†ã€‚å¹¶ä¸”ç”±äºé‡‡ç”¨æ‹Ÿåˆåˆ†æ•°ä½œä¸ºæƒé‡ï¼Œæ”¹å˜ä¸“å®¶çš„é€‰æ‹©å¹¶ä¸ä¼šé€ æˆæ•°å€¼ä¸Šçš„é”™è¯¯ã€‚å¦‚å‰æ–‡æ‰€è¿°ï¼Œåœ¨æ ‘å½¢ç»“æ„çš„æ™®é€šé›†ç¾¤ä¸­ï¼Œä¸Šå±‚è¿æ¥çš„å¸¦å®½é€šå¸¸ä½äºæœ¬åœ°è¿æ¥ã€‚ä¸å…¶ä»–å¸¸è§„çš„é›†ä½“äº¤æµä¸åŒï¼Œall-to-all ä¼šå¯¼è‡´é“¾è·¯ä¸Šæ›´é«˜çš„ç«äº‰ã€‚å› æ­¤å¯ä»¥é€šè¿‡é™åˆ¶é€šè¿‡ä¸Šå±‚é“¾æ¥çš„tokenæ•°é‡å‡å°‘ä¸Šå±‚è¿æ¥çš„ç«äº‰å‹åŠ›ã€‚é™åˆ¶çš„å…·ä½“æ–¹æ³•ï¼š â€‹ å‡è®¾äº¤æ¢æœºè¿æ¥ N ä¸ªèŠ‚ç‚¹å’Œæ¯ä¸ªèŠ‚ç‚¹ä¸Šçš„M ä¸ª workersã€‚workerå’Œä¸»æœºä¹‹é—´çš„æµé‡å¤§è‡´ä¸º$T{w}=\\frac{M N-1}{M N} B H$ã€‚åŒæ—¶ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç½‘å£çš„æµé‡ä¸º$T{n}=\\frac{M(N-1)}{N} B H$ï¼Œå¤§çº¦æ¯”$T_w$å¤§Må€ã€‚ â€‹ ä¸ºäº†å‡å°‘æ‹¥å¡ï¼Œå…è®¸å°†æœ€å¤š $L=\\frac{W{\\text {net }}}{M W{\\text {local }}} B$ ä¸ªtokenå®šå‘åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚è¿™é‡Œï¼Œ$W{net}$å’Œ$W{local}$åˆ†åˆ«è¡¨ç¤ºèŠ‚ç‚¹é—´å’ŒèŠ‚ç‚¹å†…çš„é€šä¿¡å¸¦å®½ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœæœ‰è¶…è¿‡Lä¸ªtokenï¼Œå…¶æœ€ä½³é€‰æ‹©ä½äºå¦ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œåˆ™å…è®¸å…¶ä¸­å¾—åˆ†æœ€é«˜çš„Lä¸ªtokenã€‚å®ƒä»¬çš„å…¶ä½™éƒ¨åˆ†ä¸å…¶ä»–tokenä¸€èµ·ç•™åœ¨æœ¬åœ°èŠ‚ç‚¹ä¸­é‡æ–°é€‰æ‹©å®ƒä»¬æ‰€éœ€çš„ä¸“å®¶ã€‚ å››ã€å®éªŒå’Œè¯„ä¼° å®éªŒè®¾ç½® FastMoEï¼šå®éªŒæ˜¯åŸºäºFastMoEï¼ŒFastMoEæ˜¯å…¨çƒé¦–ä¸ªåŸºäºPyThorchçš„å¯ä»¥ä¸“å®¶å¹¶è¡Œè®­ç»ƒç½‘ç»œçš„æ¡†æ¶ã€‚å®éªŒå®ç°æ—¶ä¿®æ”¹äº†å…¶ä¸­çš„æŸäº›æ“ä½œï¼Œæ·»åŠ äº†è‹¥å¹²çš„é—¨ç½‘ç»œéªŒè¯å®éªŒã€‚ Megatron-$LM^6$ï¼šè®­ç»ƒTransformerçš„æ¡†æ¶ å®éªŒæ¯”è¾ƒå¯¹è±¡ å’Œè‹¥å¹²ä¸åŒçš„ç³»ç»Ÿè¿›è¡Œäº†ç›¸å…³æ¯”è¾ƒï¼š æ”¯æŒkä¸ªä¸“å®¶é€‰æ‹©çš„baseline æœªä¼˜åŒ–çš„FastMoEï¼šä¸“å®¶å¹¶è¡Œbaseline DeepSpeed+ZeROï¼šæ•°æ®å¹¶è¡Œbaseline MoE ä½¿ç”¨ä¸“å®¶é€‰æ‹©ä¿®æ”¹è¾¾åˆ°ä¼˜åŒ–çš„baseline GShardï¼šstate-of-art MoEç³»ç»Ÿï¼ˆby Googleï¼‰ é™åˆ¶äº†æ¯ä¸ªä¸“å®¶çš„èƒ½åŠ›ï¼ˆè¾“å…¥æ•°é‡ï¼‰ï¼Œè¾¾åˆ°è´Ÿè½½å‡è¡¡çš„æƒ…å†µã€‚å»æ‰å¤šä½™çš„è¾“å…¥ã€‚ FairSeq+BASE Layersï¼šå¦ä¸€ä¸ªstate-of-art MoEç³»ç»Ÿï¼ˆby Facebookï¼‰ ä½¿ç”¨åŒ¹é…ç®—æ³•ï¼Œåœ¨å®Œç¾çš„è´Ÿè½½å‡è¡¡çš„æƒ…å†µä¸‹æå‡åˆ†æ•°æ€»å’Œã€‚ ç¡¬ä»¶å’Œå®éªŒæ¨¡å‹ ç¡¬ä»¶ï¼š johnny clusterï¼š16 NVIDIA V100 PCIe GPUs in 2 nodes trevor clusterï¼š64 NVIDIA V100 PCIe GPUs in 16 nodes æ¨¡å‹ï¼š å®éªŒç»“æœ ç¬¬ä¸€ç»„baselineä¸‹çš„å®éªŒç»“æœ æ¯”è¾ƒè®­ç»ƒå•ä¸ªMoEå±‚çš„åŠ é€Ÿï¼š More than 17x speedup over DeepSpeed + ZeRO baseline. More than 5x speedup over FastMoE baseline. ç¬¬äºŒç»„baselineä¸‹çš„å®éªŒç»“æœ å› ä¸ºä¿®æ”¹äº†æ¨¡å‹æœ¬èº«çš„è¡Œä¸ºï¼Œå¯¹æ¯”äº†æ”¶æ•›çš„é€Ÿåº¦ï¼š Both baseline systems take significantly more steps to converge. Convergence speed is 1.37x shorter than GShard, and 2.19x shorter than BASE Layers. The topology-aware gate makes iterations 9. 4% faster. è¯„ä¼°æ€»ç»“ èƒŒæ™¯ï¼šMoEæ¨¡å‹è¾ƒå¤§ä¸”å…·æœ‰åŠ¨æ€æ€§ åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹è®­ç»ƒMoEæå‡ºäº†ä¸‰ä¸ªç­–ç•¥è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼š è§£å†³ä¸“å®¶é€‰æ‹©å€¾æ–œçš„é—®é¢˜ï¼šå½±å­ä¸“å®¶ è§£å†³ç²—ç²’åº¦è®¡ç®—ï¼šè®¡ç®—å’Œé€šä¿¡é‡å  è§£å†³ä¿¡é“ç«äº‰ï¼šé—¨ç½‘ç»œå‡å°‘æ‹¥å¡ æå‡ºDDL-rooflineå¯ä»¥è¯„ä¼°ç³»ç»Ÿçš„æ€§èƒ½ã€‚ å®éªŒï¼šä¸å¤§å‹æ¨¡å‹çš„æœ€å…ˆè¿›ç³»ç»Ÿ(åŒ…æ‹¬ZeROã€GShardå’ŒåŸºç¡€å±‚)è®¾è®¡å®éªŒæ¯”è¾ƒï¼ŒFasterMoEå®ç°äº†1.37 - 17.87çš„åŠ é€Ÿã€‚ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"è®ºæ–‡é˜…è¯»/SEUSSé˜…è¯»ç¬”è®°.html":{"url":"è®ºæ–‡é˜…è¯»/SEUSSé˜…è¯»ç¬”è®°.html","title":"SEUSSé˜…è¯»ç¬”è®°-2020-EuroSys-JamesCadden","keywords":"","body":"SEUSS é˜…è¯»æŠ¥å‘Š ä¸€ã€è®ºæ–‡ç ”ç©¶èƒŒæ™¯ã€åŠ¨æœºä¸ä¸»è¦è´¡çŒ® ç ”ç©¶èƒŒæ™¯ä¸åŠ¨æœº â€‹ é¦–å…ˆè®ºæ–‡å¼•å…¥äº†ä¸€ä¸ªè®¡ç®—æœºé¢†åŸŸæ™®éå­˜åœ¨çš„é—®é¢˜ï¼šè®¡ç®—å†—ä½™ã€‚ â€‹ è®¡ç®—å†—ä½™å…·ä½“åœ¨Serverless ä¸­ï¼Œå¯ä»¥ç”¨Figure1è¯´æ˜ï¼šä¸€æ¬¡å®Œæ•´çš„å‡½æ•°è°ƒç”¨å¯ä»¥ç»†åˆ†ä¸ºå¤šä¸ªé˜¶æ®µï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä¸­é—´æŸä¸ªé˜¶æ®µä¿æœ‰ç¼“å­˜ï¼Œä¸‹æ¬¡å‡½æ•°è°ƒç”¨ä»ç¼“å­˜å¼€å§‹ï¼Œé‚£ä¹ˆä¸€æ¬¡å‡½æ•°çš„å¯åŠ¨é€Ÿåº¦å°†å¤§å¹…åŠ å¿«ï¼ˆå¯åŠ¨æ—¶é—´å¤§å¹…ç¼©çŸ­ï¼‰ã€‚è¿™å°±æ˜¯ç”¨è®¡ç®—ç¼“å­˜çš„æ€æƒ³è§£å†³Serverlessä¸­çš„è®¡ç®—å†—ä½™é—®é¢˜ã€‚ åœ¨ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆé‡Œï¼Œæˆ‘ä»¬å¯¹äºæ¯ä¸€æ¬¡å‡½æ•°è°ƒç”¨å¼€å¯ä¸€ä¸ªä¸“ç”¨çš„å®¹å™¨æˆ–è€…è™šæ‹Ÿæœºï¼Œè¿™æ ·çš„æ–¹æ³•æ˜¯èµ„æºå¯†é›†çš„ï¼Œä¼šè¿›è¡Œå¤§é‡é‡å¤æ­¥éª¤ï¼Œå‡ºç°å¤§é‡é‡å¤çš„çŠ¶æ€ æœ¬è®ºæ–‡æå‡ºäº†ä¸€ä¸ªè½»é‡çº§çš„è§£å†³æ–¹æ³•ï¼šä»å¿«ç…§éƒ¨ç½² ä¸»è¦è´¡çŒ® â€‹ è®ºæ–‡æå‡ºäº†SEUSS(serverless excution using snapshots) æ“ä½œç³»ç»Ÿã€‚SEUSSåœ¨FaaSç¯å¢ƒä¸­å®ç°ï¼Œåœ¨æ€§èƒ½ä¸Šå…·æœ‰å¿«é€Ÿéƒ¨ç½²å’Œé«˜å¯†åº¦ç¼“å­˜çš„ç‰¹ç‚¹ï¼Œé€šè¿‡ä»Unikernelå¿«ç…§éƒ¨ç½²å‡½æ•°æ¥å®ç°è¿™äº›æœŸæœ›çš„å±æ€§ã€‚ â€‹ å…·ä½“å®ç°æ—¶ï¼Œå°†å‡½æ•°é€»è¾‘ã€è¯­è¨€è§£é‡Šå™¨å’ŒSEUSS OSä¸‰è€…æ‰“åŒ…åˆ°unikernelä¸­ï¼Œå¹¶ä¸”åº”ç”¨é¡µé¢çº§å…±äº«çš„æŠ€æœ¯ï¼ˆå¦‚ä¸‹å›¾(a)ï¼‰å®ç°ç¼“å­˜æŠ€æœ¯ã€‚ â€‹ Unikernelçš„å¹³é¢åœ°å€ç©ºé—´æœºåˆ¶ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å°†å‡½æ•°è¿è¡Œçš„æŸä¸ªå…·ä½“çš„çŠ¶æ€æ•è·ï¼Œæˆä¸ºä¸€ä¸ªå†…å­˜ä¸­çš„å¿«ç…§ã€‚è¿™æ ·ä»å¿«ç…§å»å¼€å¯ä¸€ä¸ªunikernelè·³è¿‡äº†ï¼š å¯åŠ¨å•å†…æ ¸ åˆå§‹åŒ–è¯­è¨€ å¯¼å…¥ä»£ç å’Œç¼–è¯‘é¡¹ â€‹ ä¹Ÿå¯ä»¥è¯´ï¼ŒSEUSSçš„æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡unikernelæ•è·åˆ°çš„å¿«ç…§å¯ä¾›åç»­ä½¿ç”¨ï¼šå¯ä»¥ä»unikernelå¿«ç…§éƒ¨ç½²å‡½æ•°ã€‚ 2. SEUSSæ–¹æ³•è®º â€‹ ä¸‹é¢æˆ‘ä»¬è¯¦ç»†åˆ†ææ•´ä¸ªSEUSSçš„è®¾è®¡ã€‚é¦–å…ˆæ˜¯Unikernel Contextï¼š 2.1 Unikernel Context â€‹ Unikernelæä¾›äº†ä¸€ç§æœºåˆ¶ï¼Œç”¨æ¥å°è£…å’Œè§‚å¯Ÿæ— æœåŠ¡å™¨å‡½æ•°çš„æ‰§è¡ŒçŠ¶æ€ã€‚ â€‹ åœ¨SEUSSä¸­ï¼Œæ¯ä¸ªå•å†…æ ¸ä¸Šä¸‹æ–‡(UC)ç”±ä¸€ä¸ªé«˜çº§è¯­è¨€è§£é‡Šå™¨(ä¾‹å¦‚ï¼ŒNode.js, Python)ç»„æˆï¼Œå®ƒå¯ä»¥å¯¼å…¥å’Œæ‰§è¡Œå‡½æ•°ä»£ç ã€‚ 2.2 SnapShots â€‹ å¿«ç…§çš„æ¦‚å¿µï¼Œç±»ä¼¼äºVMWareä¸­æŸä¸ªè™šæ‹Ÿæœºçš„å¿«ç…§ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿä»ä¸€ä¸ªè™šæ‹Ÿæœºå¿«ç…§ï¼Œå¯åŠ¨ä¸€ä¸ªå¤„äºæŸä¸ªçŠ¶æ€çš„è™šæ‹Ÿæœºã€‚åœ¨æœ¬è®ºæ–‡ä¸­ï¼Œå¿«ç…§æ˜¯ä¸€ä¸ªåªè¯»çš„æ•°æ®å¯¹è±¡ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªUCçš„ç¬æ—¶æ‰§è¡ŒçŠ¶æ€ï¼ˆå³å®ƒçš„åœ°å€ç©ºé—´å’Œå¯„å­˜å™¨ï¼‰ã€‚å¿«ç…§å¯ä»¥åœ¨å‡½æ•°æ‰§è¡Œçš„ä»»æ„ä¸€ä¸ªæ—¶é—´ç‚¹ä¿å­˜å¿«ç…§ï¼Œä½†æ˜¯å¦‚æœæ¯æ¬¡éƒ½ä¿å­˜ä¸€ä¸ªå®Œæ•´çš„å¿«ç…§ï¼Œå°±ä¼šå¯¼è‡´å¤šä¸ªå¿«ç…§ä¹‹é—´å­˜åœ¨é‡å¤å†…å®¹ã€‚ â€‹ ä¸ºäº†è§£å†³è¯¥å†—ä½™é—®é¢˜ï¼Œæœ¬è®ºæ–‡å¼•å…¥äº†å¿«ç…§æ ˆçš„æ¦‚å¿µã€‚ 2.3 SnapShots Stack â€‹ å¿«ç…§å †æ ˆè¡¨ç¤ºå¿«ç…§ä¹‹é—´è·¨æ—¶é—´çš„æ²¿è¢­å…³ç³»ï¼Œå°†æ¯ä¸€ä¸ªå¿«ç…§è§†ä¸ºå¿«ç…§å †æ ˆä¸­ä¸Šä¸€ä¸ªå¿«ç…§çš„é¡µé¢çº§å·®å¼‚ã€‚æ€ä¹ˆç†è§£å‘¢ï¼Ÿ â€‹ ç®€å•çš„è¯´ï¼Œå¯ä»¥è®¤ä¸ºä»–åªå­˜å‚¨å·®å¼‚éƒ¨åˆ†ã€‚å¯ä»¥ç±»æ¯”äºå»è®¡ç®—æ±‚è§£ä¸€ä¸ªå¤§è§„æ¨¡é—®é¢˜æ—¶é‡‡ç”¨çš„å¢é‡è®¡ç®—çš„æ¦‚å¿µâ€”â€”æ¯æ¬¡åªåœ¨ä¸Šæ¬¡è®¡ç®—çš„åŸºç¡€ä¸Šè®¡ç®—ä¸€ä¸ª$\\Delta$ã€‚è¿™é‡Œæ˜¯å­˜å‚¨ä¸Šä¸€ä¸ªé¡µé¢åŸºç¡€ä¸Šçš„å·®å¼‚éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å­˜å‚¨ä¸€ä¸ªå¢é‡å¿«ç…§ã€‚ â€‹ ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼šä¸€ä¸ªFaaSå¹³å°æƒ³è¦å¿«ç…§JavaScriptå‡½æ•°Foo()å’ŒBar()çš„å®Œå…¨åˆå§‹åŒ–çŠ¶æ€ã€‚ ç¬¬ä¸€ç§æƒ…å†µï¼šåªä½¿ç”¨å¿«ç…§æœºåˆ¶ï¼š å¹³å°éœ€è¦ä¸¤ä¸ªUCå¿«ç…§ï¼Œæ¯ä¸ªåŠŸèƒ½å¯¹åº”ä¸€ä¸ªã€‚å¦‚æœè§£é‡Šå™¨æ˜¯100MBï¼Œæ¯ä¸ªå‡½æ•°å¢åŠ 1MBï¼Œæˆ‘ä»¬éœ€è¦202mbçš„å­˜å‚¨ç©ºé—´ã€‚ ç¬¬äºŒç§æƒ…å†µæ˜¯æˆ‘ä»¬å¼•å…¥å¿«ç…§æ ˆï¼š æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸‰ä¸ªå¿«ç…§ï¼Œä¸€ä¸ªç¼“å­˜åˆå§‹åŒ–çš„JavaScriptè§£é‡Šå™¨ï¼Œç¬¬äºŒä¸ªç¼“å­˜Foo()å·®å¼‚ï¼Œç¬¬ä¸‰ä¸ªç¼“å­˜Bar()å·®å¼‚ã€‚è¿™éœ€è¦102mbï¼Œå› ä¸ºä¸¤ä¸ªå‡½æ•°å¿«ç…§å…±äº«è§£é‡Šå™¨ â€‹ è¿™å°±æ˜¯SEUSSè§£å†³é‡å¤å’Œå†—ä½™çš„ä¸€ä¸ªé‡è¦æ€æƒ³ã€‚ Anticipatory Optimizations â€‹ æ–¹æ¡ˆçš„æœ€åä¸€ç‚¹æ˜¯é¢„æœŸä¼˜åŒ–ã€‚AO çš„æ€æƒ³æ˜¯æˆ‘ä»¬åœ¨æ•è·å¿«ç…§ä¹‹å‰è¿›è¡Œé¢„ä¼°ï¼Œç¡®å®šåœ¨æ•è·å¿«ç…§çš„åˆç†æ—¶é—´ç‚¹ï¼Œé¿å…è¿‡å¤šæ•è·å¿«ç…§å¯¼è‡´çš„ç©ºé—´å†—ä½™å’Œæ•è·æ—¶é—´ä¸å½“å¯¼è‡´çš„å®‰å…¨æ€§é—®é¢˜å’Œå‡½æ•°è¿è¡Œé”™è¯¯ã€‚ 3.SEUSS å®è·µ â€‹ æˆ‘ä»¬é‡ç‚¹è®²è§£è¿™ä¸ª SEUSS å®è·µçš„æ¡ˆä¾‹ã€‚ è¿‡ç¨‹Cä¸å¿«ç…§B â€‹ ä»æ—¶é—´è½´å‘åçœ‹ï¼Œæœ€å¼€å§‹æ˜¯ä¸€ä¸ªæ„é€ ç¯å¢ƒå’Œè¿è¡Œæ—¶çš„è¿‡ç¨‹ï¼Œè¯­è¨€è§£é‡Šå™¨å’ŒInvocation Driverä¼šè¢«åŠ è½½ã€‚åœ¨è°ƒç”¨é©±åŠ¨ç¨‹åºå¯åŠ¨ä¹‹åï¼Œå°†è·å–è¿è¡Œæ—¶å¿«ç…§Bã€‚å¿«ç…§Bæ˜¯ä¸€ä¸ªåŸºæœ¬å¿«ç…§ï¼ŒåŸºæœ¬å¿«ç…§çš„æ•°é‡å¾ˆå°‘ï¼Œæ¯ä¸ªè¯­è¨€çš„è§£é‡Šå™¨åªæœ‰ä¸€ä¸ªã€‚å¯ä»¥çœ‹åˆ°è¿™ä¸ªå¿«ç…§ä¹Ÿæ˜¯ä½“ç§¯æœ€å¤§çš„ã€‚ä»å¿«ç…§Béƒ¨ç½²UCï¼Œå³ä¸ºcoldest path è¿‡ç¨‹Wä¸å¿«ç…§S â€‹ æ¥ç€å‘åï¼ŒInvocation Driverå°†å‡½æ•°å’Œå‘½ä»¤å‘é€åˆ°å•å†…æ ¸ï¼Œç»è¿‡ç¼–è¯‘åï¼Œæˆ‘ä»¬è‹¥åœ¨è¿™é‡Œè¿›è¡Œä¸€ä¸ªå¿«ç…§å°±æ˜¯å¿«ç…§Sï¼Œè‹¥ä»å¿«ç…§Séƒ¨ç½²UCï¼Œæˆ‘ä»¬ç§°ä½œWarm path è¿‡ç¨‹H â€‹ æœ€åï¼Œæˆ‘ä»¬å‘å…¶ä¸­ä¼ å…¥å‚æ•°ï¼Œå‚æ•°ä¼ å…¥åï¼Œå°±å¯ä»¥è¿è¡Œäº†ã€‚å¯¹äºè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸ºhot pathã€‚ â€‹ ä¸Šè¿°çš„å¿«ç…§Bå’Œå¿«ç…§Så¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ å½“æˆ‘ä»¬ä¸å­˜åœ¨å…·ä½“å‡½æ•°çš„å¿«ç…§æ—¶ï¼Œæˆ‘ä»¬ä»åŸºæœ¬å¿«ç…§ å¿«ç…§B éƒ¨ç½²UC è¿™æ ·å¯ä»¥æœ‰æ•ˆå‡å°‘æ„å»ºç¯å¢ƒå’Œåˆå§‹åŒ–è¿è¡Œæ—¶çš„æ—¶é—´å¼€é”€ è‹¥å­˜åœ¨å‡½æ•°çš„å¿«ç…§æ—¶ï¼Œæˆ‘ä»¬ä»è¯¥å¿«ç…§åˆ›å»ºUCï¼Œè·³è¿‡ä»£ç å¯¼å…¥ï¼Œç¼–è¯‘é˜¶æ®µã€‚ ä»è¿™ä¸ªå¿«ç…§éƒ¨ç½²UCï¼Œé‚£ä¹ˆç›´æ¥å¯¼å…¥å‚æ•°å°±å¯ä»¥è¿è¡Œã€‚ è¿™æ ·é€šè¿‡å¿«ç…§çš„ä½¿ç”¨å®ç°è®¡ç®—ç¼“å­˜ã€‚ 4.å®ç° ä¸‹é¢æ˜¯æ•´ä¸ªå®éªŒå®ç°çš„æ¶æ„ã€‚ EBBRT [35]æ¡†æ¶æ„å»ºçš„SEUSS OSåŸå‹ Rumprun UCSåœ¨ç”¨æˆ·æ¨¡å¼ï¼ˆç¯3ï¼‰ä¸­æ‰§è¡Œï¼Œå¹¶å…·æœ‰åŸºäºé¡µé¢çš„ç¡¬ä»¶ä¿æŠ¤ Seuss OSä¸­çš„ç½‘ç»œå±‚ä¼ªè£…äº†è¿›å…¥UCSçš„æµé‡ï¼Œå…è®¸å¤–éƒ¨TCPè¿æ¥ä»è®¿å®¢åŠŸèƒ½ä¸­åˆå§‹åŒ– â€‹ å¯¹äºå®ç°éƒ¨åˆ†ï¼Œè¿™é‡Œè¯¦ç»†è¯´æ˜çš„æ˜¯å¿«ç…§æŠ€æœ¯çš„å®ç°å’Œå†™æ—¶å¤åˆ¶çš„æ€æƒ³ï¼Œè¿™æ˜¯SEUSSå‡å°‘å†—ä½™çš„æ ¸å¿ƒä¹‹ä¸€ã€‚ â€‹ Seuss OSä½¿ç”¨å¯¹ç¡¬ä»¶é¡µè¡¨çš„ç›´æ¥è®¿é—®æ¥æ•è·å¿«ç…§ï¼Œéƒ¨ç½²UCSï¼Œå¹¶åœ¨å¿«ç…§å †æ ˆå’ŒUCSä¸Šå¯ç”¨é¡µé¢çº§å…±äº«ã€‚æˆ‘ä»¬é’ˆå¯¹ä¸‹é¢ä¸‰ä¸ªæ–¹é¢è¯´æ˜ï¼š ä½•æ—¶è§¦å‘å¿«ç…§çš„æ•è·ï¼Ÿ â€‹ ä½¿ç”¨x86 debugå¯„å­˜å™¨æ¥è§¦å‘å¿«ç…§çš„åˆ›å»ºã€‚åœ¨å¸Œæœ›ä¿å­˜ä½ç½®è®¾ç½®æ–­ç‚¹ï¼Œå½“å‘ç”Ÿå•æ­¥ä¸­æ–­æ—¶ï¼Œå°±ä¼šé™·å…¥åˆ°å†…æ ¸æ¨¡å¼ä¹‹åè·³è½¬åˆ°ä¸­æ–­å¤„ç†ç¨‹åºï¼Œä¸­æ–­å¤„ç†ç¨‹åºå°†UCçŠ¶æ€è¿›è¡Œå¿«ç…§ã€‚ å¿«ç…§çš„ä½¿ç”¨ï¼Ÿ â€‹ ä¸ºäº†ä¿æŒå¿«ç…§çš„è½»é‡ï¼Œæˆ‘ä»¬æ¯ä¸ªå¿«ç…§ä»…å°†è‚®è„çš„é¡µé¢å…‹éš†ï¼Œå³é‡‡ç”¨copy-on-writeçš„æ€æƒ³ã€‚åœ¨è®ºæ–‡å®ç°ä¸­ä½¿ç”¨äº†ç¡¬ä»¶è¯­ä¹‰ï¼Œé€šè¿‡X86 Dirty Bitsè·Ÿè¸ªé¡µé¢ä½¿ç”¨ã€‚ æ€æ ·éƒ¨ç½²å¿«ç…§ï¼Ÿ â€‹ ä»å¿«ç…§éƒ¨ç½²å§‹äºåˆ›å»ºæ–°çš„UCï¼Œè¿›è¡Œçš„æ˜¯é¡µé¢çš„æµ…æ‹·è´ã€‚ 5.æ€»ç»“ è®ºæ–‡çš„ä¼˜ç‚¹ï¼š å¿«ç…§çš„ä¸åŒï¼šåŸºæœ¬å¿«ç…§å’Œç‰¹å®šçŠ¶æ€çš„å¿«ç…§ å‰è€…å…·æœ‰æ¶ˆé™¤å†—ä½™è®¡ç®—çš„é•¿æœŸä»·å€¼ï¼Œåè€…æ˜¯çŸ­æš‚å¯ä¸¢å¼ƒçš„ã€‚åšè¿™æ ·çš„åŒºåˆ†å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ é¡µé¢çº§å…±äº« å‡å°‘å†—ä½™çš„å…³é”®æ€æƒ³ ä½¿ç”¨çš„æŠ€æœ¯è¾ƒä¸ºç®€å• ç”±äºç¼“å­˜å­˜åœ¨èƒ½å¤Ÿå¤„ç†çˆ†å‘å¼çš„è¯·æ±‚ ç¼ºç‚¹ï¼š é¡µé¢çº§çš„å…±äº«ï¼šå®¹æ˜“å—åˆ°ä¾§é€šé“æ”»å‡»å’Œç¡¬ä»¶çº§åˆ«æ¼æ´çš„å½±å“ æœªæ¥è‹¥è€ƒè™‘å¹¶è¡Œç¨‹åº¦å’Œè§„æ¨¡çš„æé«˜ï¼Œéœ€è¦é‡‡ç”¨æ›´åŠ æ–°è¿›çš„å…±äº«æŠ€æœ¯ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/about.html":{"url":"ç¦»æ•£æ•°å­¦/about.html","title":"ç¦»æ•£æ•°å­¦","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/é›†åˆè®ºåŸºç¡€.html":{"url":"ç¦»æ•£æ•°å­¦/é›†åˆè®ºåŸºç¡€.html","title":"é›†åˆè®ºåŸºç¡€","keywords":"","body":"é›†åˆè®ºåŸºç¡€ 1.é›†åˆçš„åˆè§ 1.1 é›†åˆå®šä¹‰ ä»€ä¹ˆæ˜¯é›†åˆï¼š é›†åˆï¼šç”±æŒ‡å®šèŒƒå›´å†…æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„æ‰€æœ‰å¯¹è±¡èšé›†åœ¨ä¸€èµ·æ„æˆï¼Œæ¯ä¸€ä¸ªå¯¹è±¡ç§°ä¸ºè¿™ä¸ªé›†åˆçš„å…ƒç´ ã€‚ å…¬ç†åŒ–é›†åˆè®ºï¼š å¤–å»¶å…¬ç† + ç©ºé›†å­˜åœ¨å…¬ç† + æ— åºå¯¹å…¬ç† + å¹¶é›†å…¬ç† + å¹‚é›†å…¬ç† + æ— ç©·å…¬ç† + æ›¿æ¢å…¬ç† + æ­£åˆ™å…¬ç† + é€‰æ‹©å…¬ç†ã€‚(ZFC å…¬ç†åŒ–é›†åˆè®º) è¿™äº›å…¬ç†æè¿°çš„éƒ½æ˜¯é›†åˆçš„ä¸€äº›å±æ€§ é›†åˆçš„ä¾‹å­ï¼š 1.2 é›†åˆçš„è¡¨ç¤º é›†åˆçš„è¡¨ç¤ºæ³•ï¼š å¤§å†™å­—æ¯$A,B,C...,A_1,A_2,C_1$è¡¨ç¤ºé›†åˆ å°å†™å­—æ¯$a,b,c...,a_1,b_1,c_1,...$è¡¨ç¤ºé›†åˆä¸­çš„å…ƒç´  å±äºå…³ç³»ï¼š aæ˜¯é›†åˆAä¸­çš„å…ƒç´ ï¼Œåˆ™ç§°aå±äºAï¼Œè®°ä¸º$a\\in A$ è‹¥aä¸æ˜¯é›†åˆAä¸­çš„å…ƒç´ ï¼Œåˆ™ç§°aä¸å±äºAï¼Œè®°ä¸º$aâˆ‰ A$ é›†åˆçš„è¡¨ç¤ºæ³•ï¼š æšä¸¾æ³•ï¼š$A={a,b,c,d},B={2,4,6,8,10....}$ å™è¿°æ³•ï¼šåˆ»ç”»é›†åˆä¸­å…ƒç´ çš„ç‰¹æ€§è¡¨ç¤ºé›†åˆ $P={x|P(x)}$ $A={x|xæ˜¯è‹±æ–‡å­—æ¯ä¸­çš„å…ƒéŸ³å­—æ¯}\\ B= {x|xâˆˆZ, x æ–‡è§†å›¾ï¼šç”¨å¹³é¢ä¸Šçš„ç‚¹åšæˆå›¾ç¤º 1.3 åŸºæ•° é›†åˆåŒ…å«çš„å…ƒç´ çš„æ•°é‡ç§°ä¸ºé›†åˆçš„åŸºæ•°ï¼ˆbase numberï¼‰ï¼Œè®°ä¸º$|A|$ è‹¥ä¸€ä¸ªé›†åˆçš„åŸºæ•°æ˜¯æœ‰é™çš„ï¼Œåˆ™ç§°è¯¥é›†åˆä¸ºæœ‰é™é›† è‹¥ä¸€ä¸ªé›†åˆçš„åŸºæ•°æ˜¯æ— é™çš„ï¼Œåˆ™ç§°è¯¥é›†åˆä¸ºæ— é™é›† 2.ç‰¹æ®Šé›†åˆä¸é›†åˆé—´çš„å…³ç³» 2.1 ç©ºé›† ä¸å«ä»»ä½•å…ƒç´ çš„é›†åˆç§°ä¸ºç©ºé›†ï¼Œè®°åš$\\empty$ ç©ºé›†å¯ä»¥ç¬¦å·åŒ–ä¸ºï¼š$\\empty = {x|x\\neq x}$ ç©ºé›†æ˜¯ç»å¯¹å”¯ä¸€çš„ 2.2 å…¨é›† é’ˆå¯¹ä¸€ä¸ªå…·ä½“èŒƒå›´,æˆ‘ä»¬è€ƒè™‘çš„æ‰€æœ‰å¯¹è±¡çš„é›†åˆå«åšå…¨é›†(universal set) ,è®°ä½œUæˆ–E.åœ¨æ–‡æ°å›¾ä¸€èˆ¬ä½¿ç”¨æ–¹å½¢è¡¨ç¤ºå…¨é›†ã€‚ 2.3 ç›¸ç­‰å…³ç³» 2.3.1 å…ƒç´ çš„åŸºæœ¬ç‰¹æ€§ é›†åˆä¸­çš„å…ƒç´ æ˜¯æ— åºçš„ã€‚ é›†åˆä¸­çš„å…ƒç´ æ˜¯ä¸åŒçš„ã€‚ 2.3.2 é›†åˆçš„å¤–å»¶æ€§å…¬ç† ==é›†åˆçš„å¤–å»¶æ€§åŸç†== ä¸¤ä¸ªé›†åˆç›¸ç­‰ï¼Œå½“ä¸”ä»…å½“ä»–ä»¬çš„å…ƒç´ å®Œå…¨ç›¸åŒï¼Œè®°ä¸ºA=Bï¼Œå¦åˆ™Aå’ŒBä¸ç›¸ç­‰ï¼Œè®°ä¸º$A\\neq B$ 2.4 åŒ…å«å…³ç³» 2.4.1 åŒ…å«å…³ç³»çš„å®šä¹‰ Aä¸­å«æœ‰Bä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œè¿™ç§æƒ…å†µç§°ä¸ºAåŒ…å«B \"\\subseteq â€å…³ç³»çš„æ•°å­¦è¯­è¨€æè¿°ä¸ºï¼šB\\subseteq A\\Leftrightarrow å¯¹\\forall xï¼Œå¦‚æœx\\in Bï¼Œé‚£ä¹ˆx\\in A 2.4.2 é›†åˆç›¸ç­‰ä¸åŒ…å«å…³ç³» è¯æ˜é›†åˆç›¸ç­‰ï¼š ==è®¾Aå’ŒBä¸ºä¸¤ä¸ªä»»æ„çš„é›†åˆï¼Œåˆ™$A=B\\Leftrightarrow A\\sube Bå¹¶ä¸”B\\sube A$==ã€importantã€‘ 2.4.3 nå…ƒé›†åˆçš„å­é›† nå…ƒé›†åˆçš„å­é›†ï¼š â˜…æ¨å¹¿:å¯¹äºä»»æ„nå…ƒé›†åˆAï¼Œå®ƒçš„må…ƒ(0â‰¤mâ‰¤n)å­é›†ä¸ªæ•°ä¸º$C_n^m$ä¸ªï¼Œæ‰€ä»¥ä¸åŒçš„å­é›†ä¸ªæ•°ä¸º: $C_n^0+C_n^1 +...+ Cn^n = (1+ 1)^n= 2^n$. 2.5 å¹‚é›† å®šä¹‰ï¼šè®¾Aä¸ºä»»æ„é›†åˆï¼ŒæŠŠAæ‰€æœ‰ä¸åŒçš„å­é›†æ„æˆçš„é›†åˆç§°ä¸ºAçš„å¹‚é›†ï¼Œè®°åš$P(A)$ï¼Œå³ï¼š P(A) = \\{x|x\\sube A\\} å¹‚é›†ä¹Ÿå«ä½œé›†æ—æˆ–é›†åˆçš„é›†åˆï¼Œå¯¹äºé›†æ—çš„ç ”ç©¶åœ¨æ•°å­¦æ–¹é¢ï¼ŒçŸ¥è¯†åº“å’Œè¡¨å¤„ç†è¯­è¨€ä»¥åŠäººå·¥æ™ºèƒ½ç­‰æ–¹é¢éƒ½æœ‰é‡è¦çš„æ„ä¹‰ã€‚ x\\in P(A)\\Leftrightarrow x\\sube A 3. é›†åˆçš„è¿ç®— 3.1 å¹¶é›† 3.2 äº¤é›† 3.3 è¡¥é›† 3.4 å·®é›† 3.5 å¯¹ç§°å·®é›† 4.é›†åˆçš„è¿ç®—å®šå¾‹ 4.1 è¿ç®—å®šå¾‹ å¹‚ç­‰å¾‹ï¼š$A\\cup A=A;A\\cap A=A$ äº¤æ¢å¾‹ï¼š$A\\cup B=B\\cup A; A\\cap B=B\\cap A$ ç»“åˆå¾‹ï¼š$A \\cup(B \\cup C)=(A \\cup B) \\cup C, A \\cap(B \\cap C)=(A \\cap B) \\cap C$ åŒä¸€å¾‹ï¼š$A \\cup \\varnothing=A, A \\cap U=A$. é›¶å¾‹ï¼š$A \\cup U=U, A \\cap \\varnothing=\\varnothing$. åˆ†é…å¾‹ï¼š $A \\cup(B \\cap C)=(A \\cup B) \\cap(A \\cup C), A \\cap(B \\cup C)=(A \\cap B) \\cup(A \\cap C)$.â€”â€”ä¸åŠ å‡æ³•ä¸åŒï¼Œå¹¶ä¹Ÿæ»¡è¶³åˆ†é… å¸æ”¶å¾‹ï¼š $A \\cup(A \\cap B)=A, A \\cap(A \\cup B)=A$. çŸ›ç›¾å¾‹å’Œæ’ç©ºå¾‹ï¼š $\\bar{A} \\cap A=\\varnothing, \\bar{A} \\cup A=U$. åŒé‡å¦å®šå¾‹ï¼š$\\overline{\\overline{A}}=A$ å¾·æ‘©æ ¹å¾‹ï¼š$\\overline{A \\cup B}=\\bar{A} \\cap \\overline{B}, \\overline{A \\cap B}=\\overline{A} \\cup \\overline{B}$. 4.2 è¯æ˜ è¯æ˜æ–¹æ³•ï¼š 5.å¯æ•°é›†åˆå’Œä¸å¯æ•°é›†åˆ 5.1 è‡ªç„¶æ•°é›† 5.1.1 çš®äºšè¯ºå…¬é‡Œ çš®äºšè¯ºå…¬ç†ï¼šåŸºäºåºæ•°çš„è‡ªç„¶æ•°å®šä¹‰å…¬ç†ã€‚å®šç†åŒ…æ‹¬ï¼š 0æ˜¯è‡ªç„¶æ•° æ¯ä¸ªè‡ªç„¶æ•°néƒ½æœ‰ä¸€ä¸ªåç»§ï¼Œè¿™ä¸ªåç»§ä¹Ÿæ˜¯ä¸€ä¸ªè‡ªç„¶æ•°ï¼Œè®°ä¸º$S(n)$ ä¸¤ä¸ªè‡ªç„¶æ•°ç›¸ç­‰ï¼Œå½“ä¸”ä»…å½“ä»–ä»¬æœ‰ç›¸åŒçš„åç»§ï¼Œå³$m=n$ï¼Œå½“ä¸”ä»…å½“$S(m)=S(n)$ æ²¡æœ‰ä»»ä½•è‡ªç„¶æ•°çš„åç»§æ˜¯0 ï¼ˆå½’çº³å…¬ç†ï¼‰è‹¥$Ï†$æ˜¯ä¸€ä¸ªè‡ªç„¶æ•°çš„é¢„æµ‹ å¦‚æœ$Ï†(0)$ä¸ºçœŸ å½“$Ï†(n)$ä¸ºçœŸï¼Œåˆ™æœ‰$Ï†(S(n))$ä¸ºçœŸ åˆ™$Ï†(n)$å¯¹ä»»ä½•è‡ªç„¶æ•°æˆç«‹ 5.1.2 å†¯è¯ºä¾æ›¼çš„è‡ªç„¶æ•°å®šä¹‰ 5.2 ç­‰åŠ¿ å¦‚ä½•æ¯”è¾ƒé›†åˆä¹‹é—´å…ƒç´ çš„å¤šå°‘ï¼Ÿ æœ‰é™é›†åˆï¼šåŸºæ•° æ— é™é›†åˆï¼šçœ‹é›†åˆä¹‹é—´æ˜¯å¦å­˜åœ¨ä¸€ç§ä¸€ä¸€å¯¹åº”å…³ç³»ã€ç­‰åŠ¿ã€‘ è®¾Aï¼ŒBä¸ºä¸¤ä¸ªé›†åˆï¼Œè‹¥Aï¼ŒBä¹‹é—´å­˜åœ¨ä¸€ç§ä¸€ä¸€å¯¹åº”å…³ç³»ï¼š \\Psi:A\\rightarrow B\\\\ åˆ™ç§°Aå’ŒBæ˜¯ç­‰åŠ¿çš„ï¼Œè®°åšï¼š A\\sim B noteï¼šç”±ç­‰åŠ¿çš„å®šä¹‰å¯ä»¥çœ‹å‡ºï¼Œå¦‚æœ A = Bï¼Œé‚£ä¹ˆ$A\\sim B$ï¼Œåä¹‹ä¸æˆç«‹ 5.3 å¯æ•°é›†åˆ å‡¡æ˜¯ä¸è‡ªç„¶æ•°é›†åˆç­‰åŠ¿çš„é›†åˆï¼Œç§°ä¸ºå¯æ•°é›†åˆï¼ˆcountable setï¼‰ï¼Œè¯¥é›†åˆçš„åŸºæ•°è®°ä¸º$\\aleph_0$ï¼ˆè¯»ä½œé˜¿åˆ—å¤«0ï¼‰ ä¸¤ä¸ªæ— é™é›†åˆçš„å¤§å°ä¸èƒ½ç”¨é›†åˆä¸­çš„å…ƒç´ çš„ä¸ªæ•°æ¥è¡¡é‡ï¼Œ$\\aleph_0$è¡¨ç¤ºä¸€åˆ‡å¯æ•°é›†åˆçš„åŸºæ•°ï¼Œæ˜¯ä¸€ç§æŠ½è±¡çš„è¡¨è¾¾ è¡¨é¢ä¸Šä¸ªæ•°å®Œå…¨ä¸ç›¸ç­‰çš„ä¸¤ä¸ªé›†åˆä¹‹é—´ä»ç„¶å¯èƒ½å­˜åœ¨ç­‰åŠ¿å…³ç³»ï¼Œå¦‚é›†åˆä¸å…¶çœŸå­é›†ä¹‹é—´ï¼Œä½“ç°äº†æœ‰é™é›†åˆå’Œæ— é™é›†åˆçš„æ ¹æœ¬å·®åˆ« 5.4 ä¸å¯æ•°é›†åˆ å®šä¹‰ï¼šå¼€åŒºé—´$(0,1)$ç§°ä¸ºä¸å¯æ•°é›†åˆï¼Œå‡¡æ˜¯ä¸å¼€åŒºé—´$(0,1)$ç­‰åŠ¿çš„é›†åˆï¼Œç§°ä¸ºä¸å¯æ•°é›†åˆï¼Œè¯¥é›†åˆçš„åŸºæ•°è®°ä¸º$\\aleph$ï¼ˆè¯»ä½œé˜¿åˆ—å¤«ï¼‰ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/å‘½é¢˜é€»è¾‘.html":{"url":"ç¦»æ•£æ•°å­¦/å‘½é¢˜é€»è¾‘.html","title":"å‘½é¢˜é€»è¾‘","keywords":"","body":"å‘½é¢˜é€»è¾‘ 1.å‘½é¢˜çš„æ¦‚å¿µ 1.1 å‘½é¢˜ æ•°ç†é€»è¾‘ç ”ç©¶çš„ä¸­å¿ƒé—®é¢˜æ˜¯æ¨ç†ï¼Œè€Œæ¨ç†çš„å‰æå’Œç»“è®ºéƒ½æ˜¯å‘½é¢˜ï¼Œå› è€Œå‘½é¢˜æ˜¯åŸºæœ¬çš„æ¨ç†å•å…ƒã€‚ å®šä¹‰ï¼š å…·æœ‰ç¡®åˆ‡çœŸå€¼çš„é™ˆè¿°å¥ç§°ä¸ºå‘½é¢˜ï¼ˆpropositionï¼‰ã€‚è¯¥å‘½é¢˜åªå¯ä»¥å–ä¸€ä¸ªâ€œå€¼â€ï¼Œç§°ä¸ºçœŸå€¼ã€‚çœŸå€¼åªæœ‰â€œçœŸâ€å’Œâ€œå‡â€ä¸¤ç§ï¼Œåˆ†åˆ«ç”¨â€œTâ€ï¼ˆæˆ–â€œ1â€ï¼‰å’Œâ€œFâ€ï¼ˆæˆ–â€œ0â€œï¼‰è¡¨ç¤ºã€‚ ä¸€åˆ‡æ²¡æœ‰åˆ¤æ–­å†…å®¹çš„å¥å­éƒ½ä¸æ˜¯å‘½é¢˜ æœ‰æ—¶éœ€è¦ä¾é ç¯å¢ƒã€æ¡ä»¶ã€æ—¶é—´ã€åœ°ç‚¹åˆ¤æ–­å‘½é¢˜çš„çœŸå€¼ï¼Œè€Œä¸€ä¸ªå¥å­æœ¬èº«æ˜¯å¦èƒ½å¤Ÿåˆ†è¾¨çœŸå‡ä¸æˆ‘ä»¬æ˜¯å¦çŸ¥é“ä»–çš„çœŸå‡æ˜¯ä¸¤å›äº‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªå¥å­ï¼Œæœ‰æ—¶æˆ‘ä»¬å¯èƒ½æ— æ³•åˆ¤æ–­ä»–çš„çœŸå‡ï¼Œä½†è¿™ä¸ªå¥å­æœ¬èº«æ˜¯æœ‰çœŸå‡çš„ã€‚ 1.2 åŸå­å‘½é¢˜ä¸å¤åˆå‘½é¢˜ 1.2.1 æ¦‚å¿µ åŸå­å‘½é¢˜(ç®€å•å‘½é¢˜) :ä¸èƒ½å†åˆ†è§£ä¸ºæ›´ä¸ºç®€å•å‘½é¢˜çš„å‘½é¢˜ã€‚ å¤åˆå‘½é¢˜:å¯ä»¥åˆ†è§£ä¸ºæ›´ä¸ºç®€å•å‘½é¢˜çš„å‘½é¢˜ã€‚è¿™äº›ç®€å•å‘½é¢˜ä¹‹é—´æ˜¯é€šè¿‡å¦‚\"æˆ–è€…\"ã€â€œå¹¶ä¸”â€ã€\"ä¸â€ã€\"å¦‚æœåˆ™....â€œï¼Œ â€œå½“ä¸”ä»…å½“\"ç­‰è¿™æ ·çš„å…³è”è¯å’Œæ ‡ç‚¹ç¬¦å·å¤åˆè€Œæˆã€‚ 1.2.2 è¡¨ç¤ºæ³• é€šå¸¸ä½¿ç”¨å¤§å†™çš„å¸¦æˆ–è€…ä¸å¸¦ä¸‹æ ‡çš„è‹±æ–‡å­—æ¯è¡¨ç¤ºå‘½é¢˜ï¼ˆåŒ…æ‹¬åŸå­å‘½é¢˜å’Œå¤åˆå‘½é¢˜ï¼‰ 1.3 å‘½é¢˜è¿æ¥è¯ ä¸»è¦çš„å‘½é¢˜è¿æ¥è¯æœ‰5ä¸ªï¼š æˆ–è€… å¹¶ä¸” ä¸ å¦‚æœâ€¦â€¦åˆ™â€¦â€¦ å½“ä¸”ä»…å½“ 1.3.1 å¦å®šè¿æ¥è¯ å®šä¹‰ï¼šè®¾Pæ˜¯ä»»æ„ä¸€ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜\"éP\"(æˆ–â€œPçš„å¦å®šâ€)ç§°ä¸ºPçš„å¦å®šå¼(negation) ï¼Œè®°ä½œ$\\urcorner P$ ï¼Œâ€œ$\\urcorner$â€ä¸ºå¦å®šè”ç»“è¯ã€‚Pä¸ºçœŸå½“ä¸”ä»…å½“$\\urcorner$ Pä¸ºå‡ã€‚ 1.3.2 åˆå–è¿æ¥è¯ å®šä¹‰ï¼šè®¾Pã€Qæ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜,å¤åˆå‘½é¢˜\"På¹¶ä¸”Q\"(æˆ–\"På’ŒQ\")ç§°ä¸ºPä¸Qçš„åˆå–å¼(conjunction) ,è®°ä½œ$P\\land Q$,â€œA\"ä¸ºåˆå–è”ç»“è¯ã€‚$P\\land Q$ä¸ºçœŸå½“ä¸”ä»…å½“P, QåŒä¸ºçœŸã€‚ 1.3.3 æå–è¿æ¥è¯ è®¾Pã€Qæ˜¯ä»»æ„ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜â€œPæˆ–Qâ€ç§°ä¸ºPä¸Qçš„æå–å¼(disjunction) ,è®°ä½œ$P\\vee Q$, â€œV\"ä¸ºæå–è”ç»“è¯ã€‚$P\\vee Q$ä¸ºçœŸå½“ä¸”ä»…å½“P, Qè‡³å°‘æœ‰ä¸€ä¸ªä¸ºçœŸã€‚ ä»£è¡¨çš„æ˜¯è‡ªç„¶è¯­è¨€ä¸­çš„â€œå¯å…¼æˆ–â€ï¼Œâ€œä¸å¯å…¼æˆ–â€æ˜¯å¼‚æˆ–ã€‚ 1.3.4 è•´å«è¿æ¥è¯ è®¾Pã€Qæ˜¯ä»»ä¸¤ä¸ªå‘½é¢˜,å¤åˆå‘½é¢˜â€œå¦‚æœPï¼Œåˆ™Qâ€ç§°ä¸ºPä¸Qçš„è•´æ¶µå¼(implication) ï¼Œè®°ä½œPâ†’Q,â€œâ†’\"ä¸ºè•´æ¶µè”ç»“è¯ã€‚Pâ†’Qä¸ºå‡å½“ä¸”ä»…å½“Pä¸ºçœŸä¸”Qä¸ºå‡ã€‚ä¸€èˆ¬æŠŠè•´æ¶µå¼Pâ†’Qä¸­çš„Pç§°ä¸ºè¯¥è•´æ¶µå¼çš„å‰ä»¶, Qç§°ä¸ºè•´æ¶µå¼çš„åä»¶ã€‚ å‰ä»¶ä¸ºå‡ï¼Œé‚£ä¹ˆä¸ç®¡åä»¶çœŸå‡å¦‚ä½•ï¼Œå‘½é¢˜ä¸ºçœŸã€‚ åœ¨è‡ªç„¶è¯­è¨€ä¸­ï¼Œå‰ä»¶ä¸ºå‡ï¼Œä¸ç®¡ç»“è®ºçœŸå‡ï¼Œæ•´ä¸ªè¯­å¥çš„æ„ä¹‰,å¾€å¾€æ— æ³•åˆ¤æ–­ã€‚ä½†å¯¹äºæ•°ç†é€»è¾‘ä¸­çš„è•´æ¶µè”ç»“è¯æ¥è¯´,å½“å‰ä»¶Pä¸ºå‡æ—¶,ä¸ç®¡Qçš„çœŸå‡å¦‚ä½•ï¼Œåˆ™Pâ†’Qéƒ½ä¸ºçœŸã€‚æ­¤æ—¶ç§°ä¸ºâ€œå–„æ„æ¨å®šâ€ã€‚ 1.3.5 ç­‰ä»·è¿æ¥è¯ è®¾Pã€Qæ˜¯ä»»ä¸¤ä¸ªå‘½é¢˜,å¤åˆå‘½é¢˜\"På½“ä¸”ä»…å½“Q\"ç§°ä¸ºPä¸Qçš„ç­‰ä»·å¼(equivalence) ,è®°ä½œâ€œ$P\\leftrightarrow Q$â€œï¼Œ\"$\\leftrightarrow $\"ä¸ºç­‰ä»·è”ç»“è¯(ä¹Ÿç§°ä½œåŒæ¡ä»¶è”ç»“è¯)ã€‚$P\\leftrightarrow Q$ä¸ºçœŸå½“ä¸”ä»…å½“Pã€QåŒä¸ºçœŸå‡ã€‚ 2. å‘½é¢˜ç¬¦å·åŒ–åŠå…¶åº”ç”¨ è”ç»“è¯æ˜¯ä¸¤ä¸ªå‘½é¢˜çœŸå€¼ä¹‹é—´çš„è”ç»“ï¼Œè€Œä¸æ˜¯å‘½é¢˜å†…å®¹ä¹‹é—´çš„è¿æ¥ï¼Œå› æ­¤å¤åˆå‘½é¢˜çš„çœŸå€¼åªå–å†³äºæ„æˆä»–ä»¬çš„å„ç®€å•å‘½é¢˜çš„çœŸå€¼ï¼Œè€Œä¸å®ƒä»¬çš„å†…å®¹æ— å…³ï¼Œä¸äºŒè€…ä¹‹é—´æ˜¯å¦æœ‰å…³ç³»æ— å…³ã€‚ Exampleï¼š å‘½é¢˜1 ï¼šé›ªæ˜¯ç™½çš„å½“ä¸”ä»…å½“åŒ—äº¬æ˜¯ä¸­å›½çš„é¦–éƒ½ã€‚ çœŸå‘½é¢˜ å‘½é¢˜2ï¼šå¦‚æœ2æ˜¯å¶æ•°,åˆ™å¤©ä¸Šå°±å¯ä»¥æ‰é¦…é¥¼ã€‚ å‡å‘½é¢˜ 2.1 è¿æ¥è¯çš„ä¼˜å…ˆçº§ æ‰€æœ‰äº”ä¸ªè¿æ¥è¯çš„ä¼˜å…ˆé¡ºåºä¸ºï¼š å¦å®š > åˆå– > æå– > è•´å« > ç­‰ä»· åŒçº§çš„è¿æ¥è¯ï¼ŒæŒ‰å…¶å‡ºç°çš„é¡ºåºï¼ˆä»å·¦å¾€å³ï¼‰ è‹¥è¿ç®—è¦æ±‚ä¸ä¼˜å…ˆæ¬¡åºä¸ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨æ‹¬å·ï¼›åŒçº§è¿æ¥è¯ç›¸é‚»æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ‹¬å· æ‹¬å·ä¸­çš„ä¼˜å…ˆçº§ä¸ºæœ€é«˜ä¼˜å…ˆçº§ 2.2 å‘½é¢˜çš„ç¬¦å·åŒ– 3. å‘½é¢˜å…¬å¼å’ŒçœŸå€¼è¡¨ 3.1 å‘½é¢˜å˜å…ƒ å®šä¹‰ï¼šä¸€ä¸ªç‰¹å®šçš„å‘½é¢˜æ˜¯ä¸€ä¸ªå¸¸å€¼å‘½é¢˜ ï¼Œå®ƒä¸æ˜¯å…·æœ‰å€¼â€œT\"(\"1\") ï¼Œå°±æ˜¯å…·æœ‰å€¼â€œF\"(â€œ0\")ã€‚ å®šä¹‰ï¼šä¸€ä¸ªä»»æ„çš„æ²¡æœ‰èµ‹äºˆå…·ä½“å†…å®¹çš„åŸå­å‘½é¢˜æ˜¯ä¸€ä¸ªå˜é‡å‘½é¢˜ï¼Œå¸¸ç§°å®ƒä¸ºå‘½é¢˜å˜é‡(æˆ–å‘½é¢˜å˜å…ƒ)(propositional variable)ï¼Œè¯¥å‘½é¢˜å˜é‡æ— å…·ä½“çš„çœŸå€¼,å®ƒçš„å˜åŸŸæ˜¯é›†åˆ{T, F}(æˆ–{0, 1})ã€‚ å¤åˆå‘½é¢˜æ˜¯ç”±åŸå­å‘½é¢˜ä¸è”ç»“è¯æ„æˆçš„å‘½é¢˜ã€‚æ‰€ä»¥ï¼Œå½“å…¶ä¸­çš„åŸå­å‘½é¢˜æ˜¯å‘½é¢˜å˜å…ƒæ—¶ï¼Œæ­¤å¤åˆå‘½é¢˜ä¹Ÿå³ä¸ºå‘½é¢˜å˜å…ƒçš„å‡½æ•°ï¼Œä¸”è¯¥å‡½æ•°çš„å€¼ä»ä¸ºâ€œçœŸâ€æˆ–\"å‡â€å€¼ï¼Œè¿™æ ·çš„å‡½æ•°å¯å½¢è±¡åœ°ç§°ä¸ºâ€œçœŸå€¼å‡½æ•°â€æˆ–â€œå‘½é¢˜å…¬å¼â€ï¼Œæ­¤å‘½é¢˜å…¬å¼æ²¡æœ‰ç¡®åˆ‡çš„çœŸå€¼ã€‚ G=P\\vee Q\\rightarrow \\neg P 3.2 å‘½é¢˜å…¬å¼ 3.2.1 å‘½é¢˜å…¬å¼çš„æ¦‚å¿µ å‘½é¢˜æ¼”ç®—çš„åˆå¼å…¬å¼åˆç§°ä¸ºå‘½é¢˜å…¬å¼ï¼ˆç®€ç§°å…¬å¼ï¼‰ï¼ŒæŒ‰å¦‚ä¸‹è§„åˆ™ç”Ÿæˆï¼š å‘½é¢˜å˜å…ƒæœ¬èº«æ˜¯ä¸€ä¸ªå…¬å¼ï¼ˆå¦‚ï¼š$Pï¼ŒQï¼ŒR$ï¼‰ å¦‚æœGæ˜¯å…¬å¼ï¼Œé‚£ä¹ˆ$\\neg G$ä¹Ÿæ˜¯å…¬å¼ å¦‚æœG, Hæ˜¯å…¬å¼ï¼Œé‚£ä¹ˆ$G\\vee H, G\\land H,G\\rightarrow H,G\\leftrightarrow H$ä¹Ÿæ˜¯å…¬å¼ ä»…ç”±æœ‰é™æ­¥ä½¿ç”¨è§„åˆ™ï¼ˆ1ï¼‰ï¼ˆ2ï¼‰ï¼ˆ3ï¼‰å¾—åˆ°çš„åŒ…å«å‘½é¢˜å˜å…ƒã€è¿æ¥è¯å’Œæ‹¬å·çš„ç¬¦å·ä¸²æ‰æ˜¯å‘½é¢˜å…¬å¼ã€‚ noteï¼š åŸå­å‘½é¢˜å˜å…ƒæ˜¯æœ€ç®€å•çš„åˆå¼å…¬å¼ï¼Œç§°ä¸ºåŸå­åˆå¼å…¬å¼ï¼Œç®€ç§°åŸå­å…¬å¼ å‘½é¢˜å…¬å¼æ²¡æœ‰çœŸå€¼ï¼Œåªæœ‰å¯¹å…¶å‘½é¢˜å˜å…ƒè¿›è¡ŒçœŸå€¼æŒ‡æ´¾åï¼Œæ–¹å¯ç¡®å®šå‘½é¢˜å…¬å¼çš„çœŸå€¼; æ•´ä¸ªå…¬å¼çš„æœ€å¤–å±‚æ‹¬å·å¯ä»¥çœç•¥ï¼›å…¬å¼ä¸­ä¸å½±å“è¿ç®—æ¬¡åºçš„æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥ã€‚ åœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸ºäº†ä¾¿äºå­˜å‚¨å’Œè¿ç®—ï¼Œå‘½é¢˜å…¬å¼å¸¸ç”¨äºŒå…ƒæ ‘çš„æ–¹å¼æ¥è¡¨è¾¾ã€‚ 3.2.2 å…¬å¼çš„è§£é‡Š å®šä¹‰ï¼šè®¾$P_1ã€P_2ã€P_3ã€ ... P_n$æ˜¯å‡ºç°åœ¨å…¬å¼Gä¸­çš„æ‰€æœ‰å‘½é¢˜å˜å…ƒï¼ŒæŒ‡å®š$P_1ã€ P_2ã€P_3ã€ .... P_n$ä¸€ç»„çœŸå€¼ï¼Œåˆ™è¿™ç»„çœŸå€¼ç§°ä¸ºGçš„ä¸€ä¸ªè§£é‡Šï¼Œå¸¸è®°ä¸º$I$ã€‚ å¦‚æœå…¬å¼åœ¨Iä¸‹çš„è§£é‡Šæ˜¯çœŸçš„ï¼Œåˆ™ç§°Iæ»¡è¶³Gï¼Œæ­¤æ—¶Iæ˜¯Gçš„æˆçœŸèµ‹å€¼ï¼›å¦‚æœGåœ¨è§£é‡ŠIä¸‹æ˜¯å‡çš„ï¼Œåˆ™ç§°Iå¼„å‡Gï¼Œæ­¤æ—¶Iæ˜¯Gçš„å¼„å‡èµ‹å€¼ã€‚ 3.2.3 çœŸå€¼è¡¨ ç”±å…¬å¼Gåœ¨å…¶æ‰€æœ‰çš„è§£é‡Šä¸‹æ‰€å–çš„çœŸå€¼æ„æˆçš„è¡¨ï¼Œç§°ä¸ºGçš„çœŸå€¼è¡¨ã€‚ 3.3 å‘½é¢˜å…¬å¼åˆ†ç±»å’Œç­‰ä»· 3.3.1 å‘½é¢˜å…¬å¼çš„åˆ†ç±» å®šä¹‰ï¼š å¦‚æœä¸€ä¸ªå…¬å¼Gåœ¨æ‰€æœ‰è§£é‡Šä¸‹çš„çœŸå€¼éƒ½ä¸ºâ€œçœŸâ€ï¼Œå…¬å¼Gä¸ºæ°¸çœŸå…¬å¼ï¼ˆé‡è¨€å¼ï¼‰ å¦‚æœä¸€ä¸ªå…¬å¼Gåœ¨æ‰€æœ‰è§£é‡Šä¸‹çš„çœŸå€¼éƒ½ä¸ºâ€œå‡â€ï¼Œå…¬å¼Gä¸ºæ°¸å‡å…¬å¼ï¼ˆçŸ›ç›¾å¼ï¼‰ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸å¯æ»¡è¶³å¼ å¦‚æœä¸€ä¸ªå…¬å¼ä¸æ˜¯æ°¸å‡çš„ï¼Œé‚£ä¹ˆä»–æ˜¯å¯æ»¡è¶³å¼ ä¸‰ç§å…¬å¼ç›´æ¥çš„å…³ç³»ï¼š Gæ˜¯æ°¸çœŸçš„ï¼Œå½“ä¸”ä»…å½“$\\urcorner G$æ˜¯æ°¸å‡çš„ Gæ˜¯å¯æ»¡è¶³çš„ï¼Œå½“ä¸”ä»…å½“è‡³å°‘æœ‰ä¸€ä¸ªè§£é‡Š$I$ï¼Œä½¿Gåœ¨$I$ä¸‹ä¸ºçœŸ è‹¥Gæ˜¯æ°¸çœŸå¼ï¼Œåˆ™Gä¸€å®šæ˜¯å¯æ»¡è¶³å¼ï¼Œä½†åä¹‹å¯æ»¡è¶³å…¬å¼ä¸ä¸€å®šæ˜¯æ°¸çœŸå¼ 3.3.2 å…¬å¼çš„ç­‰ä»· å®šä¹‰ï¼šè®¾G, Hæ˜¯ä¸¤ä¸ªå‘½é¢˜å…¬å¼$P_1, P_2, P_3, ... , P_n$.æ˜¯å‡ºç°åœ¨G, Hä¸­æ‰€æœ‰çš„å‘½é¢˜å˜å…ƒï¼Œå¦‚æœå¯¹äº$P_1,P_2,P_3,...,P_n$çš„$2^n$ä¸ªè§£é‡Šï¼ŒGä¸Hçš„çœŸå€¼ç»“æœéƒ½ç›¸åŒï¼Œåˆ™ç§°å…¬å¼Gä¸Hæ˜¯ç­‰ä»·çš„ï¼Œè®°ä½œG = Hã€‚( æˆ–G$\\Leftrightarrow$H) å®šç†ï¼šå¯¹äºä»»æ„ä¸¤ä¸ªå…¬å¼Gå’ŒHï¼Œ==G = Hçš„å……åˆ†å¿…è¦æ¡ä»¶æ˜¯å…¬å¼$G\\leftrightarrow H$æ˜¯æ°¸çœŸå…¬å¼==ã€‚ 3.3.3 å‘½é¢˜å…¬å¼çš„å¯åˆ¤å®šæ€§ å¯åˆ¤å®šæ€§ï¼šèƒ½å¦ç»™å‡ºä¸€ä¸ªå¯è¡Œæ–¹æ³•ï¼Œå®Œæˆå¯¹ä»»æ„å…¬å¼çš„åˆ¤å®šç±»é—®é¢˜ã€‚ï¼ˆç±»å‹æˆ–ç­‰ä»·åˆ¤å®šï¼‰ å‘½é¢˜å…¬å¼æ˜¯å¯åˆ¤å®šçš„ã€‚â€”â€”ä½¿ç”¨çœŸå€¼è¡¨/å…¬å¼æ¨ç†çš„æ–¹æ³•åˆ¤å®šå…¬ç¤º 3.4 åŸºæœ¬ç­‰ä»·å…³ç³»åŠå…¶åº”ç”¨ 3.4.1 åŸºæœ¬ç­‰ä»·å…³ç³» è®¾ $G, H, S$ ä¸ºä»»æ„çš„å‘½é¢˜å…¬å¼ã€‚ (1) $E{1}: G \\vee G=G$; $E{2}: G \\wedge G=G$. å¹‚ç­‰å¾‹ (2) $E{3}: G \\vee H=H \\vee G$; $E{4}: G \\wedge H=H \\wedge G$. äº¤æ¢å¾‹ (3) $E{5}: G \\vee(H \\vee S)=(G \\vee H) \\vee S$; $E{6}: G \\wedge(H \\wedge S)=(G \\wedge H) \\wedge S$. ç»“åˆå¾‹ (4) $E{7}: G \\vee 0=G$; $E{8}: G \\wedge 1=G$. åŒä¸€å¾‹ (5) $E{9}: G \\vee 1=1$; $E{10}: G \\wedge 0=0$. é›¶å¾‹ (0) $E{11}: G \\vee(H \\wedge S)=(G \\vee H) \\wedge(G \\vee S)$; $E{12}: G \\wedge(H \\vee S)=(G \\wedge H) \\vee(G \\wedge S)$. åˆ†é…å¾‹ (1) $E{13}: G \\vee(G \\wedge H)=G$ $E{14}: G \\wedge(G \\vee H)=G$. å¸æ”¶å¾‹ (8) $E{15}: \\neg G \\wedge G=0$. çŸ›ç›¾å¾‹ (9) $E{16}: \\neg G \\vee G=1$. æ’ä¸­å¾‹ (10) $E_{17}: \\neg(-G)=G$. åŒé‡å¦å®šå¾‹ 3.4.2 åŸºæœ¬ç­‰ä»·å…³ç³»çš„åº”ç”¨ Exampleï¼š 4. èŒƒå¼ 4.1 èŒƒå¼çš„æ¦‚å¿µ çœŸå€¼è¡¨èƒ½å¤Ÿæ–¹ä¾¿åœ°ç»™å‡ºå‘½é¢˜å…¬å¼çš„çœŸå€¼æƒ…å†µï¼Œä½†æ˜¯çœŸå€¼è¡¨çš„è§„æ¨¡éšç€å‘½é¢˜å˜å…ƒçš„æ•°é‡å‘ˆæŒ‡æ•°å‹å¢é•¿ï¼Œå› è€Œæˆ‘ä»¬è€ƒè™‘ä¸€ç§çœŸå€¼è¡¨çš„æ›¿ä»£æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•æ˜¯åŸºäºå‘½é¢˜å…¬å¼çš„ä¸€ç§æ ‡å‡†å½¢å¼ã€‚ 4.1.1 ç®€å•æå–å¼ä¸ç®€å•åˆå–å¼ å®šä¹‰ï¼š å‘½é¢˜å˜å…ƒæˆ–è€…æ˜¯å‘½é¢˜å˜å…ƒçš„å¦å®šç§°ä¸ºæ–‡å­— ä»…ç”±æœ‰é™ä¸ªæ–‡å­—æ„æˆçš„æå–å¼ç§°ä¸ºç®€å•æå–å¼ï¼ˆæˆ–å­å¥ï¼‰ ä»…ç”±æœ‰é™ä¸ªæ–‡å­—æ„æˆçš„åˆå–å¼ç§°ä¸ºç®€å•åˆå–å¼ï¼ˆæˆ–çŸ­è¯­ï¼‰ noteï¼šæœ‰é™ä¸ªåŒ…æ‹¬ä¸€ä¸ªï¼Œæ–‡å­—æ—¢æ˜¯å­å¥ä¹Ÿæ˜¯çŸ­è¯­ Pä¸$\\urcorner P$æ˜¯äº’è¡¥å¯¹ 4.1.2 æå–èŒƒå¼å’Œåˆå–èŒƒå¼ å®šä¹‰ï¼š æœ‰é™ä¸ªç®€å•åˆå–å¼ï¼ˆçŸ­è¯­ï¼‰çš„æå–å¼ç§°ä¸ºæå–èŒƒå¼ å¦‚(P\\land Q)\\vee (\\urcorner P\\land Q)ï¼Œåˆå¦‚P\\vee \\urcorner Q, P,\\urcorner Q æœ‰é™ä¸ªç®€å•æå–å¼ï¼ˆå­å¥ï¼‰çš„åˆå–å¼ç§°ä¸ºåˆå–èŒƒå¼ å¦‚(P\\vee Q)\\land (\\urcorner P\\vee Q)ï¼Œåˆå¦‚P\\land \\urcorner Q, P,\\urcorner Q æ€»ç»“ èŒƒå¼å…³æ³¨çš„æ˜¯å‘½é¢˜å…¬å¼çš„å½“å‰ä¹¦å†™å½¢å¼ï¼› å•ä¸ªçš„æ–‡å­—æ˜¯å­å¥ã€çŸ­è¯­ã€æå–èŒƒå¼ï¼Œåˆå–èŒƒå¼ï¼› æå–èŒƒå¼ã€åˆå–èŒƒå¼ä»…å«è”ç»“è¯é›†{$\\urcorner \\land \\vee$} ,ä¸”å¦å®šè”æ¥è¯ä»…å‡ºç°åœ¨å‘½é¢˜å˜å…ƒä¹‹å‰ã€‚ èŒƒå¼å­˜åœ¨å®šç†ï¼š å¯¹äºä»»æ„å‘½é¢˜å…¬å¼ï¼Œéƒ½å­˜åœ¨ä¸å…¶ç­‰ä»·çš„åˆå–èŒƒå¼å’Œæå–èŒƒå¼ã€‚ Proofï¼š å¯ä»¥ç”±é€»è¾‘ç­‰ä»·å…¬å¼æ±‚å‡ºç­‰ä»·å®ƒçš„æå–èŒƒå¼å’Œåˆå–èŒƒå¼ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š æ€»ç»“ï¼š å‘½é¢˜å…¬å¼çš„æå–èŒƒå¼å¯ä»¥æŒ‡å‡ºå…¬å¼ä½•æ—¶ä¸ºçœŸï¼Œè€Œåˆå–èŒƒå¼å¯ä»¥æŒ‡å‡ºå…¬å¼ä½•æ—¶ä¸ºå‡ï¼Œä»è€Œèƒ½å¤Ÿä»£æ›¿çœŸå€¼è¡¨ã€‚ å‘½é¢˜å…¬å¼çš„èŒƒå¼è¡¨è¾¾å¹¶ä¸å”¯ä¸€ï¼Œæ¯”å¦‚å¯¹å…¬å¼$(P\\vee Q)\\land (P\\vee R)$è€Œè¨€ï¼Œå¯¹åº”çš„æå–èŒƒå¼æœ‰å¾ˆå¤š æœ€åï¼š ä¸€èˆ¬æ±‚è§£èŒƒå¼çš„æ—¶å€™ï¼Œæœ€åè¦è¿›è¡ŒåŒ–ç®€çš„è¿‡ç¨‹ã€‚ 4.2 ä¸»èŒƒå¼ å¼•å…¥ä¸»èŒƒå¼ï¼š ç”±äºèŒƒå¼çš„ä¸å”¯ä¸€æ€§ï¼Œæˆ‘ä»¬è€ƒè™‘å¯¹æ„æˆèŒƒå¼çš„å­å¥æˆ–çŸ­è¯­è¿›ä¸€æ­¥è§„èŒƒåŒ– ,ä»è€Œå½¢æˆå”¯ä¸€çš„ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ã€‚ 4.2.1 æå°é¡¹å’Œæå¤§é¡¹ 4.2.1.1 å®šä¹‰ åœ¨å«æœ‰nä¸ªå‘½é¢˜å˜å…ƒ$P_1,P_2,...,P_n$çš„çŸ­è¯­æˆ–è€…å­å¥ä¸­ï¼Œè‹¥æ¯ä¸ªå‘½é¢˜å˜å…ƒä¸å…¶å¦å®šä¸åŒæ—¶å­˜åœ¨ï¼Œä½†äºŒè€…ä¹‹ä¸€æ°å¥½å‡ºç°ä¸€æ¬¡ä¸”ä»…ä¸€æ¬¡ï¼Œå¹¶ä¸”å‡ºç°æ¬¡åºä¸$P_1,P_2,...,P_n$ä¸€è‡´ï¼Œåˆ™ç§°æ­¤çŸ­è¯­ä¸ºå…³äº$P_1,P_2,...,P_n$çš„ä¸€ä¸ªæå°é¡¹æˆ–è€…æå¤§é¡¹ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œè‹¥æœ‰nä¸ªå‘½é¢˜å˜å…ƒï¼Œåˆ™åº”æœ‰$2^n$ä¸ªä¸åŒçš„æå°é¡¹å’Œ$2^n$ä¸ªä¸åŒçš„æå¤§é¡¹ 4.2.1.2 æ€§è´¨ $m_i\\land m_j=0;M_i\\vee M_j=1(i\\neq j)$ $m_i = \\urcorner M_i; M_i=\\urcorner m_i$ $\\vee{i=0}^{2^n-1}m_i=1;\\land{i=0}^{2^n-1}M_i=0$ 4.2.2 ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ å®šä¹‰ï¼š åœ¨ç»™å®šçš„æå–èŒƒå¼ä¸­ï¼Œè‹¥æ¯ä¸€ä¸ªçŸ­è¯­éƒ½æ˜¯æå°é¡¹ï¼Œä¸”æŒ‰ç…§ç¼–ç ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œåˆ™ç§°è¯¥èŒƒå¼ä¸ºä¸»æå–èŒƒå¼(principal disjunctive normal form)ã€‚ åœ¨ç»™å®šçš„åˆå–èŒƒå¼ä¸­ï¼Œè‹¥æ¯ä¸€ä¸ªå­å¥éƒ½æ˜¯æå¤§é¡¹ï¼Œä¸”æŒ‰ç…§ç¼–ç ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ï¼Œåˆ™ç§°è¯¥èŒƒå¼ä¸ºä¸»åˆå–èŒƒå¼(principal conjunctive normal form)ã€‚ å¦‚æœä¸€ä¸ªä¸»æå–èŒƒå¼ä¸åŒ…å«ä»»ä½•æå°é¡¹,åˆ™ç§°è¯¥ä¸»æå–èŒƒå¼ä¸ºâ€œç©ºâ€ï¼›å¦‚æœä¸€ä¸ªä¸»åˆå–èŒƒå¼ä¸åŒ…å«ä»»ä½•æå¤§é¡¹,åˆ™ç§°ä¸»åˆå–èŒƒå¼ä¸ºâ€œç©º\"ã€‚ å…¬ç†ï¼š ä»»ä½•ä¸€ä¸ªå…¬å¼éƒ½æœ‰ä¸å…¶ç­‰ä»·çš„ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ã€‚ Proofï¼š æ±‚å‡ºå…¬å¼çš„æå–èŒƒå¼å’Œåˆå–èŒƒå¼ æ¶ˆå»é‡å¤å‡ºç°çš„å˜å…ƒï¼ŒçŸ›ç›¾å¼ä¸é‡è¨€å¼ è‹¥æå–ï¼ˆåˆå–ï¼‰å¼çš„æŸä¸€ä¸ªçŸ­è¯­ï¼ˆå­å¥ï¼‰$B_i$ä¸­ç¼ºå°‘å‘½é¢˜å˜å…ƒPï¼Œåˆ™å¯ç”¨ä¸‹é¢çš„æ–¹æ³•å°†å‘½é¢˜å˜å…ƒPè¡¥è¿›å» åˆ©ç”¨å¹‚ç­‰å¾‹å°†é‡å¤çš„æå°é¡¹å’Œæå¤§é¡¹åˆå¹¶ï¼Œå¹¶åˆ©ç”¨äº¤æ¢å¾‹è¿›è¡Œé¡ºåºè°ƒæ•´ï¼Œç”±æ­¤å¯è½¬æ¢æˆæ ‡å‡†çš„ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼ã€‚ 4.2.3 èŒƒå¼çš„æ±‚è§£ æ±‚è§£æ–¹æ³•1ï¼šå…¬å¼è½¬æ¢æ³• æ±‚è§£æ–¹æ³•2ï¼šçœŸå€¼è¡¨æ³• åˆ©ç”¨çœŸå€¼è¡¨æŠ€æœ¯æ±‚ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼çš„ç®€è¦æ–¹æ³•: åˆ—å‡ºçœŸå€¼è¡¨ï¼Œé€‰å‡ºå…¬å¼çš„çœŸå€¼ç»“æœä¸ºçœŸçš„æ‰€æœ‰çš„è¡Œï¼Œåœ¨è¿™æ ·çš„æ¯ä¸€è¡Œä¸­ï¼Œæ‰¾åˆ°å…¶æ¯ä¸€ä¸ªè§£é‡Šæ‰€å¯¹åº”çš„æå°é¡¹ï¼Œå°†è¿™äº›æå°é¡¹è¿›è¡Œæå–å³å¯å¾—åˆ°ç›¸åº”çš„ä¸»æå–èŒƒå¼ã€‚ åˆ—å‡ºçœŸå€¼è¡¨ï¼Œé€‰å‡ºå…¬å¼çš„çœŸå€¼ç»“æœä¸ºå‡çš„æ‰€æœ‰çš„è¡Œï¼Œåœ¨è¿™æ ·çš„æ¯ä¸€è¡Œä¸­ï¼Œæ‰¾åˆ°å…¶æ¯ä¸€ä¸ªè§£é‡Šæ‰€å¯¹åº”çš„æå¤§é¡¹ï¼Œå°†è¿™äº›æå¤§é¡¹è¿›è¡Œåˆå–å³å¯å¾—åˆ°ç›¸åº”çš„ä¸»åˆå–èŒƒå¼ã€‚ ä»çœŸå€¼è¡¨æŒ‰æ‰€ç»™çš„ç®—æ³•æ±‚å‡ºä¸»èŒƒå¼çš„æ–¹æ³•,ç§°ä¸ºçœŸå€¼è¡¨æŠ€æœ¯(technique of truth table)ã€‚ ç”±çœŸå€¼è¡¨æŠ€æœ¯å¯çŸ¥ï¼Œå¯¹äºä»»ä¸€ä¸ªå‘½é¢˜å…¬å¼è€Œè¨€ï¼Œä¸»æå–èŒƒå¼æ‰€ä½¿ç”¨çš„æå°é¡¹çš„ç¼–ç å’Œä¸»åˆå–èŒƒå¼æ‰€ä½¿ç”¨çš„æå¤§é¡¹çš„ç¼–ç æ˜¯â€œäº’è¡¥â€çš„å…³ç³»ã€‚ä»è€Œæˆ‘ä»¬åœ¨æ±‚ä¸»æå–èŒƒå¼å’Œä¸»åˆå–èŒƒå¼æ—¶ï¼Œå¯æ ¹æ®å…¬å¼ç‰¹ç‚¹ï¼Œå…ˆæ±‚å‡ºäºŒè€…ä¹‹ä¸€ï¼Œç„¶åå¯ç›´æ¥å†™å‡ºå¦ä¸€ ä¸ªã€‚ 4.2.4 èŒƒå¼çš„åº”ç”¨ ä¸»èŒƒå¼å¯ä»¥ç”¨äºäº†è§£å…¬å¼çš„çœŸå€¼æƒ…å†µï¼Œè¿›è¡Œå…¬å¼ç±»å‹çš„åˆ¤å®šå’Œç­‰ä»·å…³ç³»çš„åˆ¤å®šã€‚ å¦‚æœä¸»æå–èŒƒå¼ä¸­åŒ…å«æ‰€æœ‰çš„æå°é¡¹ï¼Œé‚£ä¹ˆè¯¥å…¬å¼ä¸ºæ°¸çœŸå…¬å¼ å¦‚æœä¸»åˆå–èŒƒå¼ä¸­åŒ…å«æ‰€æœ‰çš„æå¤§é¡¹ï¼Œé‚£ä¹ˆè¯¥å…¬å¼ä¸ºç”¨å‡å…¬å¼ å¦‚æœä¸¤ä¸ªå…¬å¼æœ‰ç›¸åŒçš„ä¸»æå–èŒƒå¼æˆ–è€…ä¸»åˆå–èŒƒå¼æ—¶ï¼Œé‚£ä¹ˆä¸¤ä¸ªå…¬å¼ç­‰ä»· 5. è”ç»“è¯çš„å®Œå¤‡é›† 5.1 çœŸå€¼å‡½æ•° å®šä¹‰ï¼šç§°$F:{0,1}^n\\rightarrow {0,1}$ä¸ºnå…ƒçœŸå€¼å‡½æ•° Fçš„å®šä¹‰åŸŸï¼š${0,1}^n={00...0,00...1,...,11...1}$ï¼Œå³ç”±0ï¼Œ1ç»„æˆçš„é•¿ä¸ºnçš„ç¬¦å·ä¸²çš„å…¨ä½“ï¼Œå€¼åŸŸä¸º${0,1}$ã€‚nä¸ªå‘½é¢˜å˜é¡¹å¯ä»¥æ„æˆ$2^{2^n}$ä¸ªä¸åŒçš„çœŸå€¼å‡½æ•°ã€‚ 1çš„çœŸå€¼å‡½æ•°æœ‰4ä¸ª 2çš„çœŸå€¼å‡½æ•°æœ‰16ä¸ª 3çš„çœŸå€¼å‡½æ•°æœ‰$2^{2^3}=256$ä¸ª æ¯ä¸ªçœŸå€¼å‡½æ•°ä¸å”¯ä¸€çš„ä¸»æå–èŒƒå¼ï¼ˆä¸»åˆå–èŒƒå¼ï¼‰ç­‰å€¼ã€‚ä¾‹å¦‚$F_0^{(2)}\\Leftrightarrow 0$(çŸ›ç›¾å¼)ï¼Œ$F_1^{(2)}\\Leftrightarrow (p \\land q) \\Leftrightarrow m_3â€¦â€¦$ï¼Œç­‰ã€‚æ¯ä¸ªä¸»æå–èŒƒå¼å¯¹åº”æ— ç©·å¤šä¸ªç­‰å€¼çš„å‘½é¢˜å…¬å¼ï¼Œæ¯ä¸€ä¸ªå‘½é¢˜å…¬å¼åˆæœ‰å”¯ä¸€ç­‰å€¼çš„ä¸»æå–èŒƒå¼ï¼Œæ‰€ä»¥æ¯ä¸ªçœŸå€¼å‡½æ•°å¯¹åº”æ— ç©·å¤šä¸ªç­‰å€¼çš„å‘½é¢˜å…¬å¼ï¼Œæ¯ä¸ªå‘½é¢˜å…¬å¼åˆå¯¹åº”å”¯ä¸€çš„ç­‰å€¼çš„çœŸå€¼å‡½æ•°ã€‚ 5.2 è”ç»“è¯çš„å®Œå¤‡é›† å®šä¹‰ï¼š è®¾Sæ˜¯ä¸€ä¸ªè”ç»“è¯é›†åˆï¼Œå¦‚æœä»»ä½•$n(\\geq 1)$å…ƒçœŸå€¼å‡½æ•°éƒ½å¯ä»¥ç”±ä»…å«Sä¸­çš„è”ç»“è¯æ„æˆçš„å…¬ç¤ºè¡¨ç¤ºï¼Œé‚£ä¹ˆåˆ™ç§°Sæ˜¯è”ç»“è¯çš„å®Œå¤‡é›†ã€‚ å®šç†ï¼š$S={\\urcorner, \\vee, \\land}$æ˜¯è¿æ¥è¯å®Œå¤‡é›† æ¨è®ºï¼šä»¥ä¸‹çš„è”ç»“è¯éƒ½æ˜¯è”ç»“è¯å®Œå¤‡é›† (1) $S{1}={\\neg, \\wedge, \\vee, \\rightarrow}$ (2) $S{2}={\\neg, \\wedge, \\vee, \\rightarrow, \\leftrightarrow}$ (3) $S{3}={\\neg, \\wedge}$ (4) $S{4}={\\neg, \\land}$ (5) $S_{5}={\\neg, \\rightarrow}$ 5.3 ä¸éä¸æˆ–é è®¾p, qæ˜¯ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜â€œpä¸qçš„å¦å®šâ€ç§°ä¸ºp, qçš„ä¸éå¼ï¼Œè®°åš$p\\uparrow q$ï¼Œå³$p\\uparrow q \\Leftrightarrow \\neg(p \\land q)$ï¼Œç¬¦å·$\\uparrow $ç§°ä¸ºä¸éè¿æ¥è¯ã€‚ è®¾p, qæ˜¯ä¸¤ä¸ªå‘½é¢˜ï¼Œå¤åˆå‘½é¢˜â€œpæˆ–qçš„å¦å®šâ€ç§°ä¸ºp, qçš„æˆ–éå¼ï¼Œè®°åš$p\\downarrow q$ï¼Œå³$p\\downarrow q \\Leftrightarrow \\neg(p \\vee q)$ï¼Œç¬¦å·$\\uparrow $ç§°ä¸ºä¸éè¿æ¥è¯ã€‚ å®šç†ï¼š${\\uparrow }å’Œ{\\downarrow}$éƒ½æ˜¯è”ç»“è¯å®Œå¤‡é›† var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/å‘½é¢˜é€»è¾‘çš„æ¨ç†ç†è®º.html":{"url":"ç¦»æ•£æ•°å­¦/å‘½é¢˜é€»è¾‘çš„æ¨ç†ç†è®º.html","title":"å‘½é¢˜é€»è¾‘çš„æ¨ç†ç†è®º","keywords":"","body":"å‘½é¢˜é€»è¾‘çš„æ¨ç†ç†è®º 1. åŸºæœ¬æ¨ç†å½¢å¼å’Œè•´æ¶µå…³ç³» 1.1 åŸºæœ¬æ¨ç†å½¢å¼ æ‰€è°“æ¨ç†ï¼ŒæŒ‡çš„æ˜¯ä»ä¸€ç»„å‰æåˆä¹é€»è¾‘åœ°æ¨ç†å‡ºç»“è®ºçš„è¿‡ç¨‹ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ç”¨å‘½é¢˜å…¬å¼æ¥è¡¨è¾¾å‰æå’Œç»“è®ºã€‚ å®šä¹‰ï¼š è®¾$G_1, G_2,...ï¼ŒG_n, H$æ˜¯å…¬å¼ï¼Œç§°$H$æ˜¯$G_1, G_2,... , G_n$çš„é€»è¾‘ç»“æœå½“ä¸”ä»…*å½“å¯¹ä»»æ„è§£é‡Š$I$ï¼Œå¦‚æœ$I$ä½¿å¾—$G_1 \\land G_2\\land...\\land G_n$ä¸ºçœŸï¼Œåˆ™$I$ä¹Ÿä¼šä½¿Hä¸ºçœŸã€‚è®°ä¸º$G_1,G_2,... ,G_n\\Rightarrow H$ã€‚â€œ$\\Rightarrow$â€ç§°ä¸ºè•´æ¶µå…³ç³»ã€‚æ­¤æ—¶ç§°$G_1, G_2,... , G_n\\Rightarrow H$ä¸ºæœ‰æ•ˆçš„ï¼Œå¦åˆ™ç§°ä¸ºæ— æ•ˆçš„ã€‚$G_1, G_2,... ,G_n$ç§°ä¸ºä¸€ç»„å‰æï¼Œæœ‰æ—¶ç”¨é›†åˆ$\\Gamma$æ¥è¡¨ç¤ºï¼Œè®°ä¸º$\\Gamma= {G_1, G_2,... ,G_n} $ï¼Œ$H$ç§°ä¸ºç»“è®ºã€‚æ­¤æ—¶ä¹Ÿç§°$H$æ˜¯å‰æé›†åˆ$\\Gamma$çš„é€»è¾‘ç»“æœã€‚è®°ä¸º$\\Gammaâ†’H$ã€‚ å…¬ç†ï¼š å…¬å¼$H$æ˜¯å‰æé›†åˆ$\\Gamma = {G_1,G_2,...,G_n}$çš„é€»è¾‘ç»“æœå½“ä¸”ä»…å½“$(G_1\\land G_2\\land â€¦\\land G_n)\\rightarrow H$ä¸ºæ°¸çœŸå¼ã€‚ åˆ¤å®šæ–¹æ³•ï¼š çœŸå€¼è¡¨æŠ€æœ¯ å…¬å¼è½¬æ¢å…³ç³» ä¸»æå–èŒƒå¼æ³•â€”â€”æ°¸çœŸå¼çš„ä¸»æå–èŒƒå¼åº”è¯¥åŒ…å«æœ‰æ‰€æœ‰çš„æå°é¡¹ 1.2 åŸºæœ¬è•´æ¶µå…³ç³» å®šç†ï¼š è®¾ $G, H, I$ ä¸ºä»»æ„çš„å‘½é¢˜å…¬å¼ã€‚ (1) $I{1}: G \\wedge H \\Rightarrow G ; \\quad I{2}: G \\wedge H \\Rightarrow H$. (ç®€åŒ–è§„åˆ™) (2) $I{3}: G \\Rightarrow G \\vee H ; \\quad I{4}: H \\Rightarrow G \\vee H$. (æ·»åŠ è§„åˆ™) (3) $I5: I, H \\Rightarrow G \\wedge H$; (åˆå–å¼•å…¥è§„åˆ™) (4) $I{6}: G \\vee H, \\neg G \\Rightarrow H ; \\quad I{7}: G \\vee H, \\neg H \\Rightarrow G$. (é€‰è¨€ä¸‰æ®µè®º) (5) $I{8}: G \\rightarrow H, G \\Rightarrow H$; (å‡è¨€æ¨ç†è§„åˆ™) (6) $I{9}: G \\rightarrow H, \\neg H \\Rightarrow \\neg G$; (å¦å®šåä»¶å¼) (7) $I{10}: G \\rightarrow H, H \\rightarrow I \\Rightarrow G \\rightarrow I$; (å‡è¨€ä¸‰æ®µè®º) (8) $I_{11}: G \\vee H, G \\rightarrow I, H \\rightarrow I \\Rightarrow I$ (äºŒéš¾æ¨è®º) Exampleï¼š 2. åŸºæœ¬æ¼”ç»æ³• 2.1 æ¨ç†è§„åˆ™ è§„åˆ™Pï¼ˆç§°ä¸ºå‰æå¼•ç”¨è§„åˆ™ï¼‰ï¼šåœ¨æ¨å¯¼çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶å¼•å…¥å‰æé›†åˆä¸­çš„ä»»æ„ä¸€ä¸ªå‰æã€‚ è§„åˆ™Tï¼ˆç§°ä¸ºé€»è¾‘ç»“æœå¼•ç”¨è§„åˆ™ï¼‰ï¼šåœ¨æ¨å¯¼çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶å¼•å…¥å…¬å¼Sï¼Œè¯¥å…¬å¼Sæ˜¯ç”±å…¶å‰çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…¬å¼æ¨å¯¼å‡ºæ¥çš„é€»è¾‘ç»“æœã€‚ è§„åˆ™CPï¼ˆç§°ä¸ºé™„åŠ å‰æè§„åˆ™ï¼‰ï¼šå¦‚æœèƒ½ä»ç»™å®šçš„å‰æé›†åˆ$\\Gamma$ä¸å…¬å¼Pæ¨å¯¼å‡ºæ¥Sï¼Œåˆ™èƒ½ä»å‰æé›†åˆ$\\Gamma$æ¨å¯¼å‡ºæ¥Sã€‚ 2.2 æ¼”ç»æ³•æ¨è®º 2.2.1 è‡ªç„¶æ¼”ç»æ³• å®šä¹‰ï¼š ä»å‰æé›†åˆ$\\Gamma$æ¨å‡ºç»“è®º$H$çš„ä¸€ä¸ªæ¼”ç»æ˜¯æ„é€ å‘½é¢˜å…¬å¼çš„ä¸€ä¸ªæœ‰é™åºåˆ—ï¼š$H1, H_2, H_3,... ,H{n-1},H_n$ã€‚å…¶ä¸­ï¼Œ$H_i$æˆ–è€…æ˜¯$\\Gamma$ä¸­çš„æŸä¸ªå‰æ,æˆ–è€…æ˜¯å‰é¢çš„æŸäº›$H_j(j 2.2.2 æ¼”ç» 2.2.2.1 ç›´æ¥è¯æ˜æ³• é€šå¸¸é‡‡ç”¨å€’æ¨çš„æ–¹å¼ï¼š 2.2.2.2 CPè§„åˆ™ 2.2.2.3 é—´æ¥è¯æ˜æ³• åè¯æ³•ã€å½’è°¬æ³• åè¯æ³•å¯ä»¥è®¤ä¸ºæ˜¯CPè§„åˆ™çš„ä¸€ç§å˜å‹ã€‚ 2.3 æ¨ç†çš„åº”ç”¨ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/è°“è¯é€»è¾‘.html":{"url":"ç¦»æ•£æ•°å­¦/è°“è¯é€»è¾‘.html","title":"è°“è¯é€»è¾‘","keywords":"","body":"è°“è¯é€»è¾‘ï¼ˆä¸€é˜¶é€»è¾‘ï¼‰ 1. è°“è¯çš„å¼•å…¥ 1.1 å‘½é¢˜é€»è¾‘çš„å±€é™æ€§ 1.2 ä¸ªä½“è¯å’Œè°“è¯ 1.2.1 ä¸ªä½“è¯ ä¸ªä½“è¯å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸ªä½“å¸¸é‡å’Œä¸ªä½“å˜é‡ï¼Œå‡åœ¨ä¸ªä½“åŸŸå†…å–å€¼ã€‚ è¡¨ç¤ºå…·ä½“æˆ–ç‰¹å®šçš„ä¸ªä½“è¯ç§°ä¸ºä¸ªä½“å¸¸é‡ã€‚ä¸€èˆ¬ç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯$a,b,c,... ,a_1,b_1, c_1,...$ç­‰è¡¨ç¤ºã€‚ è¡¨ç¤ºæŠ½è±¡çš„æˆ–æ³›æŒ‡çš„ä¸ªä½“è¯ç§°ä¸ºä¸ªä½“å˜é‡ã€‚ä¸€èˆ¬ç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯$x,y,z,... ,x_1,y_1,z_1,...$ ç­‰è¡¨ç¤ºã€‚ ä¸ªä½“è¯çš„å–å€¼èŒƒå›´ç§°ä¸ºä¸ªä½“åŸŸï¼Œå¸¸ç”¨Dæ¥è¡¨ç¤º å®‡å®™é—´çš„æ‰€æœ‰ä¸ªä½“åŸŸèšé›†åœ¨ä¸€èµ·æ‰€æ„æˆçš„ä¸ªä½“åŸŸç§°ä¸ºå…¨æ€»ä¸ªä½“åŸŸã€‚ è‹¥æ— ç‰¹åˆ«è¯´æ˜ï¼Œå‡ä½¿ç”¨å…¨æ€»ä¸ªä½“åŸŸã€‚ 1.2.2 è°“è¯ è®¾Dä¸ºéç©ºçš„ä¸ªä½“åŸŸ,å®šä¹‰åœ¨$D^n$(è¡¨ç¤ºnä¸ªä¸ªä½“éƒ½åœ¨ä¸ªä½“åŸŸDä¸Šå–å€¼)ä¸Šå–å€¼äº{0,1} ä¸Šçš„nå…ƒå‡½æ•°ï¼Œç§°ä¸ºnå…ƒå‘½é¢˜å‡½æ•°æˆ–nå…ƒè°“è¯ï¼Œè®°ä¸º$P(x_1,x_2,... ,x_n)$ã€‚å…¶ä¸­ï¼Œä¸ªä½“å˜é‡$x_1,x_2,... ,x_nâˆˆD$ã€‚ è¡¨ç¤ºå…·ä½“æ€§è´¨æˆ–å…³ç³»çš„è°“è¯ç§°ä¸ºè°“è¯å¸¸é‡ã€‚ è¡¨ç¤ºæŠ½è±¡çš„æˆ–æ³›æŒ‡çš„æ€§è´¨æˆ–å…³ç³»çš„è°“è¯ç§°ä¸ºè°“è¯å˜é‡ã€‚ è°“è¯å‡ä½¿ç”¨å¤§å†™è‹±æ–‡å­—æ¯$P, Q,R,..,F,G, H,...$æ¥è¡¨ç¤ºã€‚ 1.2.3 å¤åˆè°“è¯çš„å‘½é¢˜ç¬¦å·åŒ–æƒ…å†µ 1.3 æ€»ç»“ 2. é‡è¯çš„å¼•å…¥ è™½ç„¶æœ‰äº†ä¸ªä½“è¯å’Œè°“è¯ï¼Œä½†æ˜¯å¯¹äºæœ‰äº›å‘½é¢˜è€Œè¨€ï¼Œè¿˜æ˜¯æ— æ³•å‡†ç¡®æè¿°ï¼š 2.1 é‡è¯ å…¨ç§°é‡è¯ï¼š$\\forall$ï¼Œæ‰€æœ‰çš„xï¼Œä»»æ„çš„xï¼Œä¸€åˆ‡çš„xï¼Œæ¯ä¸€ä¸ªx å­˜åœ¨é‡è¯ï¼š$\\exists$ï¼Œæœ‰äº›ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªxï¼ŒæŸä¸€äº›xï¼Œå­˜åœ¨x å…¶ä¸­çš„xç§°ä¸ºä½œç”¨å˜é‡ã€‚ä¸€èˆ¬å°†å…¶é‡è¯åŠ åœ¨å…¶è°“è¯ä¹‹å‰,è®°ä¸º$(\\forall x)F(x) , (\\exist x)F(x)$ã€‚æ­¤æ—¶, F(x)ç§°ä¸ºå…¨ç§°é‡è¯å’Œå­˜åœ¨é‡è¯çš„è¾–åŸŸã€‚ 2.2 ä¸ªä½“åŸŸç¬¦å·åŒ– ä½¿ç”¨å…¨æ€»ä¸ªä½“åŸŸï¼š ç»Ÿä¸€ä¸ªä½“åŸŸä¸ºå…¨æ€»ä¸ªä½“åŸŸ,è€Œå¯¹æ¯ä¸€ä¸ªå¥å­ä¸­ä¸ªä½“å˜é‡çš„å˜åŒ–èŒƒå›´ç”¨ä¸€ å…ƒç‰¹æ€§è°“è¯åˆ»åˆ’ä¹‹ã€‚è¿™ç§ç‰¹æ€§è°“è¯åœ¨åŠ å…¥åˆ°å‘½é¢˜å‡½æ•°ä¸­æ—¶å¿…å®šéµå¾ªå¦‚ä¸‹åŸåˆ™: å¯¹äºå…¨ç§°é‡è¯$\\forall(x)$ ,åˆ»åˆ’å…¶å¯¹åº”ä¸ªä½“åŸŸçš„ç‰¹æ€§è°“è¯ä½œä¸ºè•´æ¶µå¼ä¹‹å‰ä»¶åŠ å…¥ã€‚ å¯¹äºå­˜åœ¨é‡è¯$\\exists (x)$ ,åˆ»åˆ’å…¶å¯¹åº”ä¸ªä½“åŸŸçš„ç‰¹æ€§è°“è¯ä½œä¸ºåˆå–å¼ä¹‹åˆå–é¡¹åŠ å…¥ã€‚ 2.3 é‡è¯çš„çœŸå€¼ç¡®å®š é‡è¯çš„é¡ºåºä¸èƒ½éšä¾¿å˜åŒ–ï¼š ä¸ªä½“ä¸æœ‰é™çš„æƒ…å†µä¸‹ï¼š 2.4 è°“è¯ç¬¦å·åŒ–ç¤ºä¾‹ 2.4.1 ç¤ºä¾‹1ï¼šä¸€å…ƒè°“è¯ 2.4.2 ç¤ºä¾‹2ï¼šäºŒå…ƒè°“è¯ é‡è¯å¯¹å˜å…ƒçš„çº¦æŸå¾€å¾€ä¸é‡è¯çš„æ¬¡åºæœ‰å…³ã€‚ä¸åŒçš„é‡è¯æ¬¡åº,å¯ä»¥äº§ç”Ÿä¸åŒçš„çœŸå€¼ã€‚å› æ­¤å½“å¤šä¸ªé‡è¯åŒæ—¶å‡ºç°æ—¶,ä¸èƒ½éšæ„é¢ å€’å®ƒä»¬çš„é¡ºåº,å¦åˆ™ä¼šæ”¹å˜åŸæœ‰çš„å«ä¹‰ã€‚ 2.4.3 ç¤ºä¾‹3ï¼šä¸ªä½“åŸŸé»˜è®¤é€‰æ‹© 3. è°“è¯åˆå¼å…¬å¼ 3.1 å››ç±»å…¬å¼ åœ¨åŸºäºè°“è¯çš„å½¢å¼åŒ–ä¸­,æˆ‘ä»¬å°†ä½¿ç”¨å¦‚ä¸‹å››ç§ç¬¦å·: å¸¸é‡ç¬¦å·ï¼šæŒ‡æ‰€å±ä¸ªä½“åŸŸDä¸­çš„æŸä¸ªå…ƒç´ ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯$a,b,c,.. ,a_1,b_1,c_1,... $æ¥è¡¨ç¤ºã€‚ å˜é‡ç¬¦å·ï¼šæŒ‡æ‰€å±ä¸ªä½“åŸŸDä¸­çš„ä»»æ„å…ƒç´ ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯$x,y,z,... ,x_1,y_1,z_1,...$æ¥è¡¨ç¤ºã€‚ å‡½æ•°ç¬¦å·ï¼šnå…ƒå‡½æ•°ç¬¦å·$f(x_1, x_2,... ,x_n)$å¯ä»¥æ˜¯æ‰€å±ä¸ªä½“åŸŸé›†åˆ$D^nâ†’D$çš„ä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å°å†™è‹±æ–‡å­—æ¯$f,g,h,... ,f_1,g_1,h_1,...$æ¥è¡¨ç¤ºã€‚==ã€å‡½æ•°ç¬¦å·çš„æœ€ç»ˆå–å€¼æ˜¯ä¸ªä½“åŸŸä¸­çš„ä¸ªä½“ã€‘== è°“è¯ç¬¦å·ï¼šnå…ƒè°“è¯ç¬¦å·$P(x_1, x_2,... ,x_n)$å¯ä»¥æ˜¯æ‰€å±ä¸ªä½“åŸŸé›†åˆ$D^nâ†’{0, 1}$çš„ä»»æ„ä¸€ä¸ªè°“è¯ï¼Œç”¨å¸¦æˆ–ä¸å¸¦ä¸‹æ ‡çš„å¤§å†™è‹±æ–‡å­—æ¯$P, Q,R,... ,P_1,Q_1, R_iï¼Œ...$æ¥è¡¨ç¤ºã€‚==ã€è°“è¯ç¬¦å·çš„æœ€ç»ˆå–å€¼æ˜¯0æˆ–è€…1ã€‘== 3.2 é¡¹ è°“è¯é€»è¾‘ä¸­çš„é¡¹( Term),è¢«é€’å½’åœ°å®šä¹‰ä¸º: ä»»æ„çš„å¸¸é‡ç¬¦å·æˆ–ä»»æ„çš„å˜é‡ç¬¦å·æ˜¯é¡¹; è‹¥$f(x_1,x_2,... ,x_n)$æ˜¯nå…ƒå‡½æ•°ç¬¦å·ï¼Œ$t_1,t_2,... ,t_n$æ˜¯é¡¹ï¼Œåˆ™$f(t_1,t_2,... ,t_n)$æ˜¯é¡¹ ä»…ç”±æœ‰é™æ¬¡ä½¿ç”¨ä»¥ä¸Šä¸¤ä¸ªè§„åˆ™äº§ç”Ÿçš„ç¬¦å·ä¸²æ‰æ˜¯é¡¹ã€‚ 3.3 è°“è¯å…¬å¼ Definitionï¼šè‹¥$P(x_1,x_2, ... ,x_n)$æ˜¯nå…ƒè°“è¯ï¼Œ$t_1,t_2,... ,t_n$ æ˜¯é¡¹,åˆ™ç§°$P(t_1, t_2,... ,t_n)$ä¸ºåŸå­è°“è¯å…¬å¼ï¼Œç®€ç§°åŸå­å…¬å¼ã€‚ 3.4 è‡ªç”±å˜å…ƒå’Œçº¦æŸå˜å…ƒ 3.4.1 å®šä¹‰ ç»™å®šä¸€ä¸ªåˆå¼å…¬å¼Gï¼Œè‹¥å˜å…ƒxå‡ºç°åœ¨ä½¿ç”¨å˜å…ƒçš„é‡è¯çš„è¾–åŸŸä¹‹å†…ï¼Œåˆ™ç§°å˜å…ƒxçš„å‡ºç°ä¸ºçº¦æŸå‡ºç°ï¼Œæ­¤æ—¶çš„å˜å…ƒxç§°ä¸ºçº¦æŸå˜å…ƒã€‚è‹¥xçš„å‡ºç°ä¸æ˜¯çº¦æŸå‡ºç°ï¼Œåˆ™ç§°å®ƒä¸ºè‡ªç”±å‡ºç°ï¼Œæ­¤æ—¶çš„å˜å…ƒxç§°ä¸ºè‡ªç”±å˜å…ƒã€‚ 3.4.2 ä¸¤ä¸ªè§„åˆ™ è§„åˆ™1ï¼šçº¦æŸè§„åˆ™çš„æ”¹åè§„åˆ™ å°†é‡è¯ä¸­çš„å˜å…ƒä»¥åŠè¯¥é‡è¯è¾–åŸŸä¸­æ­¤å˜é‡ä¹‹æ‰€æœ‰çº¦æŸå‡ºç°éƒ½ç”¨æ–°çš„ä¸ªä½“å˜å…ƒæ›¿æ¢; æ–°çš„å˜å…ƒ-å®šè¦æœ‰åˆ«äºæ”¹åè¾–åŸŸä¸­çš„æ‰€æœ‰å…¶å®ƒå˜é‡ã€‚ è§„åˆ™2ï¼šè‡ªç”±å˜å…ƒçš„ä»£å…¥è§„åˆ™ å°†å…¬å¼ä¸­å‡ºç°è¯¥è‡ªç”±å˜å…ƒçš„æ¯ä¸€å¤„éƒ½ç”¨æ–°çš„ä¸ªä½“å˜å…ƒæ›¿æ¢ ; æ–°çš„å˜å…ƒä¸å…è®¸åœ¨åŸå…¬å¼ä¸­ä»¥ä»»ä½•çº¦æŸå½¢å¼å‡ºç°ã€‚ä¹Ÿå¯ç”¨ä¸ªä½“å¸¸é‡ä»£å…¥ã€‚ 3.5 é—­å¼ 4. å…¬å¼çš„è§£é‡Šä¸åˆ†ç±» 4.1 å…¬å¼çš„è§£é‡Š â€‹ å…¬å¼è§£é‡Šçš„æ¦‚å¿µï¼š 4.2 å…¬å¼çš„åˆ†ç±» å¦‚æœå…¬å¼Gåœ¨å®ƒæ‰€æœ‰çš„è§£é‡Šä¸‹éƒ½å–å€¼ä¸ºçœŸï¼Œåˆ™ç§°Gä¸ºæœ‰æ•ˆå…¬å¼ã€‚ å¦‚æœå…¬å¼Gåœ¨å®ƒæ‰€æœ‰çš„è§£é‡Šä¸‹éƒ½å–å€¼ä¸ºå‡ï¼Œåˆ™ç§°Gä¸ºçŸ›ç›¾å…¬å¼ã€‚ å¦‚æœè‡³å°‘æœ‰ä¸€ä¸ªè§£é‡Šä¸‹å–å€¼ä¸ºçœŸï¼Œåˆ™ç§°Gä¸ºå¯æ»¡è¶³å…¬å¼ã€‚ 5. å…¬å¼çš„ç­‰ä»·å…³ç³» 5.1 ç­‰ä»·å…³ç³»çš„å®šä¹‰ å®šä¹‰ï¼šå¦‚æœ$G\\leftrightarrow H$æ˜¯æœ‰æ•ˆå…¬å¼ï¼Œåˆ™å…¬å¼Gï¼ŒHæ˜¯ç­‰ä»·çš„ï¼Œè®°ä¸º$G=H$ å®šä¹‰ï¼šè®¾$G(P_1,P_2,...,P_n)$æ˜¯å‘½é¢˜æ¼”ç®—ä¸­çš„å‘½é¢˜å…¬å¼ï¼Œ$P_1,P_2,...,P_n$æ˜¯å‡ºç°åœ¨å‘½é¢˜Gä¸­çš„å‘½é¢˜å˜å…ƒï¼Œå½“ç”¨ä»»æ„çš„è°“è¯å…¬å¼$G_i(1\\leq i\\leq n)$åˆ†åˆ«ä»£å…¥$P_i$åï¼Œå¾—åˆ°æ–°çš„è°“è¯å…¬å¼$G(G_1,G_2,...,G_n)$ç§°ä¸ºåŸå…¬å¼çš„ä»£å…¥å®ä¾‹ã€‚ æ°¸çœŸå…¬å¼çš„ä¸€ä¸ªä»£å…¥å®ä¾‹å¿…ç„¶æ˜¯æœ‰æ•ˆå…¬å¼ åŸºæœ¬ç­‰ä»·å…¬å¼åœ¨è°“è¯é€»è¾‘æ‰¾é‚£ä¸ªä»ç„¶æˆç«‹ 5.2 åŸºæœ¬ç­‰ä»·å…³ç³» å®šç†ï¼š å‡è®¾$G(x)ï¼ŒH(x)$æ˜¯åªå«æœ‰è‡ªç”±å˜å…ƒ$x$çš„å…¬å¼ï¼ŒSæ˜¯ä¸å«æœ‰$x$çš„å…¬å¼ï¼Œåˆ™åœ¨å…¨æ€»ä¸ªä½“åŸŸä¸­ï¼Œæœ‰ï¼š $E_{25}: (\\exists x)G(x)=(\\exists y)G(y);$ $E_{26}:(\\forall x)G(x)=(\\forall y)G(y);$ æ”¹åè§„åˆ™ $E_{27}:\\neg (\\exists x)G(x)=(\\forall x)\\neg G(x);$ $E_{28}:\\neg (\\forall x)G(x)=(\\exists x)\\neg G(x)$ é‡è¯è½¬æ¢å¾‹/é‡è¯å¦å®šç­‰ä»·å¼ $E{29}:(\\forall x)(G(x) \\vee S)=(\\forall x) G(x) \\vee S$; $E{30}:(\\forall x)(G(x) \\wedge S)=(\\forall x) G(x) \\wedge S$. $E{31}:(\\exists x)(G(x) \\vee S)=(\\exists x) G(x) \\vee S$. $E{32}:(\\exists x)(G(x) \\wedge S)=(\\exists x) G(x) \\wedge S$. é‡è¯è¾–åŸŸçš„æ”¶ç¼©ä¸æ‰©å¼  $E{33}:(\\forall x)(G(x) \\wedge H(x))=(\\forall x) G(x) \\wedge(\\forall x) H(x)$; $E{34}:(\\exists x)(G(x) \\vee H(x))=(\\exists x) G(x) \\vee(\\exists x) H(x)$. é‡è¯åˆ†é…å¾‹ 5.3 èŒƒå¼ åœ¨å‘½é¢˜é€»è¾‘é‡Œï¼Œæ¯ä¸€å…¬å¼éƒ½æœ‰ä¸ä¹‹ç­‰å€¼çš„èŒƒå¼ï¼ŒèŒƒå¼æ˜¯ä¸€ç§ç»Ÿä¸€çš„è¡¨è¾¾å½¢å¼ï¼Œå½“ç ”ç©¶ä¸€ä¸ªå…¬å¼çš„ç‰¹ç‚¹(å¦‚æ°¸çœŸã€æ°¸å‡)æ—¶ï¼ŒèŒƒå¼èµ·ç€é‡è¦ä½œç”¨ã€‚å¯¹è°“è¯é€»è¾‘çš„å…¬å¼æ¥è¯´ï¼Œä¹Ÿæœ‰èŒƒå¼ï¼Œå…¶ä¸­å‰æŸèŒƒå¼ä¸åŸå…¬å¼æ˜¯ç­‰å€¼çš„ï¼Œè€Œå…¶å®ƒèŒƒå¼ä¸åŸå…¬å¼åªæœ‰è¾ƒå¼±çš„å…³ç³»ã€‚ 5.3.1 å®šä¹‰ 5.3.2 æ±‚è§£æ­¥éª¤ 6. è°“è¯ç»¼åˆæ¨ç† 6.1 æ¨ç†å½¢å¼å’Œæ¨ç†è§„åˆ™ 6.1.1 æ¨ç†å½¢å¼ å®šä¹‰ï¼šè®¾$G_1,G_2,... ,G_n, H$æ˜¯å…¬å¼ï¼Œç§°$H$æ˜¯$G_1, G_2,... , G_n$çš„é€»è¾‘ç»“æœï¼ˆæˆ–ç§°$G_1, G_2,..ï¼ŒG_n$å…±åŒè•´æ¶µHï¼‰å½“ä¸”ä»…å½“å¯¹ä»»æ„è§£é‡Š$I$ï¼Œè‹¥$I$åŒæ—¶æ»¡è¶³$G_1,G_2,... ,G_n$ï¼Œåˆ™æ»¡è¶³Hï¼Œè®°ä¸º$G_1,G_2,... ,G_nâ†’H$ï¼Œæ­¤æ—¶ç§°$G_1,G_2,... ,G_n\\Rightarrow H$æ˜¯æœ‰æ•ˆçš„ï¼Œå¦åˆ™ç§°ä¸ºæ— æ•ˆçš„ã€‚$G_1, G_2,... ,G_n$ç§°ä¸ºä¸€ç»„å‰æ(premise) ï¼Œæœ‰æ—¶ç”¨é›†åˆFæ¥è¡¨ç¤ºï¼Œè®°$\\Gamma= {G1,G2,... ,Gn}$ï¼Œ $H$ç§°ä¸ºç»“è®º(conclusion) ï¼Œåˆç§°Hæ˜¯å‰æé›†åˆ$\\Gamma$çš„é€»è¾‘ç»“æœ,è®°ä¸º$\\Gammaâ†’H$ã€‚ 6.1.2 æ¨ç†è§„å¾‹ 6.1.3 æ¨ç†è§„åˆ™ æ¶ˆå»å’Œå¼•å…¥é‡è¯çš„4ç§è§„åˆ™ 6.1.3.1 å…¨ç§°ç‰¹æŒ‡è§„åˆ™US 6.1.3.2 å­˜åœ¨ç‰¹æŒ‡è§„åˆ™ES 6.1.3.3 å…¨ç§°æ¨å¹¿è§„åˆ™UG 6.1.3.4 å­˜åœ¨æ¨å¹¿è§„åˆ™EG 6.2 ç»¼åˆæ¨ç†æ–¹æ³• 6.2.1 åŸºæœ¬æ–¹æ³• 6.2.2 éš¾ç‚¹æ€»ç»“ åœ¨æ¨å¯¼è¿‡ç¨‹ä¸­ï¼Œå¦‚æ—¢è¦ä½¿ç”¨è§„åˆ™USåˆè¦ä½¿ç”¨è§„åˆ™ESæ¶ˆå»é‡è¯ï¼Œè€Œä¸”é€‰ç”¨çš„ä¸ªä½“æ˜¯åŒä¸€ä¸ªç¬¦å·ï¼Œåˆ™å¿…é¡»å…ˆä½¿ç”¨è§„åˆ™ESï¼Œå†ä½¿ç”¨è§„åˆ™USã€‚ç„¶åå†ä½¿ç”¨å‘½é¢˜æ¼”ç®—ä¸­çš„æ¨ç†è§„åˆ™ï¼Œæœ€åä½¿ç”¨è§„åˆ™UGæˆ–è§„åˆ™EGå¼•å…¥é‡è¯ï¼Œå¾—åˆ°æ‰€æ±‚ç»“è®ºã€‚ å¦‚ä¸€ä¸ªå˜é‡æ˜¯ç”¨è§„åˆ™ESæ¶ˆå»é‡è¯ï¼Œå¯¹è¯¥å˜é‡åœ¨æ·»åŠ é‡è¯æ—¶ï¼Œåˆ™åªèƒ½ä½¿ç”¨è§„åˆ™EG ; å¦‚ä½¿ç”¨è§„åˆ™USæ¶ˆå»é‡è¯ï¼Œå¯¹è¯¥å˜é‡åœ¨æ·»åŠ é‡è¯æ—¶ï¼Œåˆ™å¯ä½¿ç”¨è§„åˆ™EGå’Œè§„åˆ™UGã€‚ åœ¨ç”¨è§„åˆ™USå’Œè§„åˆ™ESæ¶ˆå»é‡è¯æ—¶ï¼Œæ­¤é‡è¯å¿…é¡»ä½äºæ•´ä¸ªå…¬å¼çš„æœ€å‰ç«¯ï¼Œä¸”è¾–åŸŸä¸ºå…¶åçš„æ•´ä¸ªå…¬å¼ã€‚ åœ¨æ·»åŠ é‡è¯$\\forall x$å’Œ$\\exists x$æ—¶ï¼Œæ‰€é€‰ç”¨çš„$x$ä¸èƒ½åœ¨å…¬å¼$G(y)$æˆ–$G(c)$ä¸­å‡ºç°ã€‚ $p \\lor q$ï¼Œ$p \\rightarrow r$ï¼Œ$q \\rightarrow s$ $\\neg r \\rightarrow s$ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/äºŒå…ƒå…³ç³».html":{"url":"ç¦»æ•£æ•°å­¦/äºŒå…ƒå…³ç³».html","title":"äºŒå…ƒå…³ç³»","keywords":"","body":"äºŒå…ƒå…³ç³» 1. åºå¶å’Œç¬›å¡å°”ä¹˜ç§¯ 1.1 åºå¶ å®šä¹‰ï¼šç”±ä¸¤ä¸ªå…ƒç´ æŒ‰ç…§ä¸€å®šçš„æ¬¡åºç»„æˆçš„äºŒå…ƒç»„ç§°ä¸ºåºå¶ï¼Œè®°åš$$ï¼Œå…¶ä¸­$x$æ˜¯ç¬¬ä¸€å…ƒç´ ï¼Œ$y$æ˜¯ç¬¬äºŒå…ƒç´ ã€‚ã€é¡ºåºå¾ˆé‡è¦ã€‘ ç”±å®šä¹‰å¯è§ï¼Œä¸¤ä¸ªåºå¶$=$å½“ä¸”ä»…å½“$a=c,b=d$ 1.2 ç¬›å¡å°”ä¹˜ç§¯ 1.2.1 å®šä¹‰ å®šä¹‰ï¼šè®¾Aï¼ŒBæ˜¯ä¸¤ä¸ªé›†åˆï¼Œç§°é›†åˆ$A\\times B={|(x\\in A) \\land (y\\in B)}$ä¸ºé›†åˆAä¸Bçš„ç¬›å¡å°”ä¹˜ç§¯ã€‚ 1.2.2 æ€§è´¨ ç¬›å¡å°”ç§¯ä¸æ»¡è¶³äº¤æ¢å¾‹ $A\\times B=\\empty$å½“ä¸”ä»…å½“$A=\\empty$æˆ–è€…$B=\\empty$ è®¾Aï¼ŒBï¼ŒCæ˜¯ä»»æ„ä¸‰ä¸ªé›†åˆï¼Œåˆ™ä¸ä¸€å®šæœ‰$A\\times(B\\times C) = (A\\times B)\\times C$ï¼Œå³ç¬›å¡å°”ç§¯ä¸æ»¡è¶³ç»“åˆå¾‹ å½“Aï¼ŒBéƒ½æ˜¯æœ‰é™é›†åˆæ—¶ï¼Œ$|A\\times B| = |B\\times A| =|A|\\times B$ ç¬›å¡å°”ç§¯å¯¹å¹¶è¿ç®—å’Œäº¤è¿ç®—æ»¡è¶³åˆ†é…å¾‹ 1.3 æ¨å¹¿ å®šä¹‰ï¼š ç”±nä¸ªå…ƒç´ $a_1,a_2,...,a_n$æŒ‰ç…§ä¸€å®šçš„æ¬¡åºç»„æˆçš„nå…ƒç»„ç§°ä¸ºné‡æœ‰åºç»„ï¼Œè®°åš$$ï¼Œå…¶ä¸­$a_1$æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œ$a_2$æ˜¯ç¬¬äºŒä¸ªå…ƒç´ ï¼Œâ€¦â€¦ï¼Œ$a_n$æ˜¯ç¬¬nä¸ªå…ƒç´ ã€‚ è®¾$A_1,A_2,...,A_n$æ˜¯nä¸ªé›†åˆï¼Œç§°é›†åˆ $A_1\\times A_2\\times â€¦â€¦\\times A_n={|a_i\\in A_i,i=1,2,3,...,n}$ä¸ºé›†åˆ$A_1, A_2,...,A_n$çš„ç¬›å¡å°”ç§¯ã€‚å½“$A_1=A_2=...=A_n=A$æ—¶ï¼Œå¯è®°$A_1\\times A_2\\times â€¦â€¦ \\times A_n=A^n$ 2. å…³ç³»çš„å®šä¹‰ 2.1 äºŒå…ƒå…³ç³»å®šä¹‰ è®¾A, Bä¸ºä¸¤ä¸ªéç©ºé›†åˆï¼Œç§°$A \\times B$çš„ä»»æ„å­é›†Rä¸ºä»Aåˆ°Bçš„ä¸€ä¸ªäºŒå…ƒå…³ç³»ï¼Œç®€ç§°å…³ç³»(relation)ã€‚å…¶ä¸­ï¼ŒAç§°ä¸ºå…³ç³»Rçš„å‰åŸŸï¼ŒBç§°ä¸ºå…³ç³»Rçš„ååŸŸã€‚å¦‚æœ$A=B$ï¼Œåˆ™ç§°Rä¸ºAä¸Šçš„ä¸€ä¸ªäºŒå…ƒå…³ç³»ã€‚ å‡ ç§é‡è¦çš„å…³ç³»ï¼š å½“$R=\\empty$æ—¶ï¼Œç§°Rä¸ºä»Aåˆ°Bçš„ç©ºå…³ç³»(empty relation) ; å½“$R=A\\times B$æ—¶ï¼Œç§°Rä¸ºä»Aåˆ°Bçš„å…¨å…³ç³»(total relation) ; Aä¸Šçš„å…¨å…³ç³»é€šå¸¸è®°ä¸º$E_A$ã€‚ å½“$R=I_A={|xâˆˆA}$æ—¶ï¼Œç§°Rä¸ºAä¸Šçš„æ’ç­‰å…³ç³»(identity relation)ã€‚ æœ‰é™é›†åˆçš„äºŒå…ƒå…³ç³»çš„æ•°é‡ï¼š å½“é›†åˆAï¼ŒBéƒ½æ˜¯æœ‰é™é›†æ—¶, $A\\times B$å…±æœ‰$|A|\\times |B|$ ä¸ªä¸åŒçš„å…ƒç´ ï¼Œè¿™äº›å…ƒç´ å°†ä¼šäº§ç”Ÿ$2^{|A|\\times |B|}$ ä¸ªä¸åŒçš„å­é›†ã€‚å³ï¼Œ==ä»Aåˆ°Bçš„ä¸åŒå…³ç³»å…±æœ‰$2^{|A|\\times |B|}$ä¸ª==ã€‚ 2.2 å®šä¹‰åŸŸå’Œå€¼åŸŸ å®šä¹‰ï¼šè®¾Ræ˜¯ä»Aåˆ°Bçš„äºŒå…ƒå…³ç³»ï¼Œåˆ™Aä¸ºå…³ç³»Rçš„å‰åŸŸï¼ŒBä¸ºå…³ç³»Rçš„ååŸŸã€‚ ä»¤ï¼š$C= {x|xâˆˆA,\\exists yâˆˆB,âˆˆR}$ , $D={y|yâˆˆB,\\exists xâˆˆA, âˆˆR}$ã€‚ ç§°Cä¸ºRçš„å®šä¹‰åŸŸ(domain)ï¼Œè®°ä¸º$C= domR$ï¼›Dä¸ºRçš„å€¼åŸŸ(range)ï¼Œè®°ä¸º$D= ranR$ï¼› fldR = $domRâˆªranR$ä¸ºRçš„åŸŸ( field)ã€‚ 2.3 nå…ƒå…³ç³» 3. å…³ç³»çš„è¡¨ç¤º 3.1 é›†åˆè¡¨ç¤ºæ³• å…³ç³»æ˜¯ä¸€ç§ç‰¹æ®Šçš„é›†åˆï¼Œå› æ­¤é›†åˆçš„ä¸¤ç§åŸºæœ¬è¡¨ç¤ºæ³•(æšä¸¾æ³•å’Œå™è¿°æ³•) ï¼Œå¯ä»¥ç”¨åˆ°å…³ç³»çš„è¡¨ç¤ºä¸­ã€‚ æšä¸¾æ³• å™è¿°æ³• å›¾ç¤ºæ³• 3.2 å…³ç³»å›¾è¡¨ç¤ºæ³• $A\\neq B$ $A=B$ 3.3 å…³ç³»çŸ©é˜µæ³• å…³ç³»è¿ç®—ç”¨ä¸Šè¿°çš„ä¸¤ç§æ–¹å¼è¿›è¡Œè¾ƒä¸ºå›°éš¾ï¼Œä½¿ç”¨å…³ç³»çŸ©é˜µæ¯”è¾ƒç®€ä¾¿ã€‚ å®šä¹‰ï¼šè®¾$A= {a1,a_2, ... ,a_n}, B= {b_1,b_2,... ,b_m}$ï¼ŒRæ˜¯ä»Aåˆ°Bçš„ä¸€ä¸ªäºŒå…ƒå…³ç³»ï¼Œç§°çŸ©é˜µ$M_R = (m{ij})_{n\\times m}$ ä¸ºå…³ç³»Rçš„å…³ç³»çŸ©é˜µ(relation matrix) ,å…¶ä¸­:$\\begin{cases}1\\ âˆˆR\\0\\ \\notin R\\end{cases}(1â‰¤iâ‰¤m,1â‰¤jâ‰¤n)$åˆç§°$M_R$ä¸ºRçš„é‚»æ¥çŸ©é˜µ(adjacency matrix)ã€‚ 3.4 å¸ƒå°”çŸ©é˜µçš„è¿ç®— 3.4.1 å¸ƒå°”çŸ©é˜µçš„äº¤å’Œå¹¶ 3.4.2 å¸ƒå°”çŸ©é˜µçš„ç§¯è¿ç®— 4. å…³ç³»çš„è¿ç®— 4.1 å…³ç³»çš„å¹¶äº¤å·®è¡¥è¿ç®— å…³ç³»æ˜¯ä¸€ç§ç‰¹æ®Šçš„é›†åˆï¼Œå› æ­¤é›†åˆçš„æ‰€æœ‰åŸºæœ¬è¿ç®—(å¹¶ã€äº¤ã€å·®ã€è¡¥)ï¼Œéƒ½å¯ä»¥åº”ç”¨åˆ°å…³ç³»ä¸­ï¼Œå¹¶ä¸”åŒæ ·æ»¡è¶³é›†åˆçš„æ‰€æœ‰è¿ç®—å®šå¾‹ã€‚ 4.2 å…³ç³»çš„å¤åˆè¿ç®— å®šä¹‰ï¼šè®¾Aï¼ŒBï¼ŒCæ˜¯3ä¸‰ä¸ªé›†åˆï¼ŒRæ˜¯ä»Aåˆ°Bçš„å…³ç³»ï¼ŒSæ˜¯ä»Båˆ°Cçš„å…³ç³»ï¼ˆå³$Rï¼šAâ†’B,Sï¼šBâ†’C$ï¼‰ï¼Œåˆ™Rä¸Sçš„å¤åˆå…³ç³»(åˆæˆå…³ç³»ï¼‰ï¼ˆcomposite relationï¼‰RoSæ˜¯ä»Aåˆ°Cçš„å…³ç³»ï¼Œå¹¶ä¸”ï¼š$R o S={|(xâˆˆA)\\land (zâˆˆC)\\land (\\exists y)(yâˆˆB\\land xRy\\land ySz)}$ã€‚è¿ç®—\"o\"ç§°ä¸ºå¤åˆè¿ç®—ï¼ˆcomposite operationï¼‰ã€‚ â€‹ â€”â€”Rçš„ååŸŸæ˜¯Sçš„å‰åŸŸ 4.3 é€†è¿ç®— å®šä¹‰ï¼šè®¾Aï¼ŒBæ˜¯ä¸¤ä¸ªé›†åˆï¼ŒRæ˜¯Aåˆ°Bçš„å…³ç³»ï¼Œåˆ™ä»Båˆ°Açš„å…³ç³»$R^{-1}={|âˆˆR}$ç§°ä¸ºRçš„é€†å…³ç³»(inverse relation) ,è¿ç®—â€œ-1â€ ç§°ä¸ºé€†è¿ç®—(inverse operation)ã€‚ $(R^{-1})^{-1}=R$ $\\O^{-1}=\\O$ $(A\\times B)^{-1}=B\\times A$ æ±‚é€†è¿ç®—åœ¨ä¸‰ç§è¡¨ç¤ºæ³•ä¸­çš„ä½“ç°ï¼š 5. å…³ç³»çš„è¿ç®—å®šå¾‹ 5.1 å¤åˆè¿ç®—æ€§è´¨ è®¾Aã€Bã€Cå’ŒDæ˜¯ä»»æ„å››ä¸ªé›†åˆï¼ŒRã€Så’ŒTåˆ†åˆ«æ˜¯ä»Aåˆ°Bï¼ŒBåˆ°Cå’ŒCåˆ°Dçš„äºŒå…ƒå…³ç³»ï¼Œ$I_A$å’Œ$I_B$åˆ†åˆ«æ˜¯Aå’ŒBä¸Šçš„æ’ç­‰å…³ç³»ï¼Œåˆ™ è¯æ˜æ–¹æ³•ï¼š è¯æ˜ä¸¤ä¸ªå…³ç³»ç›¸ç­‰ï¼Œå³è¯æ˜ä¸¤ä¸ªé›†åˆç›¸ç­‰ï¼›è¯æ˜ä¸¤ä¸ªé›†åˆç›¸ç­‰ï¼Œä¹Ÿå³è¯æ˜ä¸¤ä¸ªé›†åˆç›¸äº’åŒ…å«ã€‚ ä»¥ç»“åˆå¾‹ä¸ºä¾‹ï¼Œè¯æ˜ä¸¤ä¸ªé›†åˆç›¸ç­‰ï¼š åˆ†é…å¾‹ 5.2 é€†è¿ç®—çš„è¿ç®—å®šå¾‹ è®¾Aï¼ŒBï¼ŒCæ˜¯ä¸‰ä¸ªé›†åˆï¼ŒR, Såˆ†åˆ«æ˜¯ä»Aåˆ°Bå’Œä»Båˆ°Cçš„å…³ç³»ï¼Œåˆ™æœ‰ï¼š (R\\circ S)^{-1}=S^{-1}\\circ R^{-1} 6. å…³ç³»çš„å¹‚è¿ç®— åªè¦è¿ç®—æ»¡è¶³ç»“åˆå¾‹ï¼Œé‚£ä¹ˆä¸€å®šå¯ä»¥å®šä¹‰è¯¥è¿ç®—çš„å¹‚è¿ç®—ã€‚ å…³ç³»çš„å¤åˆè¿ç®—æ»¡è¶³ç»“åˆå¾‹ï¼Œå› æ­¤å¯ä»¥å®šä¹‰å…³ç³»çš„å¤åˆè¿ç®—çš„å¹‚è¿ç®—ã€‚ 6.1 å¹‚è¿ç®—çš„å®šä¹‰ è®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼Œåˆ™Rçš„næ¬¡å¹‚ï¼Œè®°ä¸º$R^n$ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š $R^0=I_A$â€”â€”ã€whyï¼Ÿè€ƒè™‘åŒä¸€å¾‹ã€‘ $R^1=R$ $R^{n+1}=R^n\\circ R=R\\circ R^n$ $R^n$ä»æ˜¯Aä¸Šçš„å…³ç³»ï¼Œè¡¨ç¤ºRå¤šæ¬¡è‡ªæˆ‘å¤åˆçš„ç»“æœï¼š $R^{m+n}=R^m\\circ R^n=R^n\\circ R^m=R^{m+n}$ $(R^m)^n=R^{mn},m,n\\in N$ 6.2 å¹‚è¿ç®—çš„æ€§è´¨ ç”±å‰ä¾‹å¯è§ï¼Œ$R^n$çš„åŸºæ•°å¹¶ééšç€nçš„å¢åŠ è€Œå¢åŠ ï¼Œè€Œæ˜¯å‘ˆé€’å‡è¶‹åŠ¿ å½“$n\\geq |A|$æ—¶ï¼Œåˆ™$R^n\\sube \\cup_{i=1}^{|A|}R^i$ 6.3 å¹‚è¿ç®—æ”¶æ•›å®šç† å®šç†ï¼šè®¾Aæ˜¯æœ‰é™é›†åˆï¼Œä¸”$|A|=n$ï¼ŒRæ˜¯Aä¸Šçš„å…³ç³»ï¼Œåˆ™ï¼š \\cup_{i=1}^\\infty R^i = \\cup_{i=1}^n R^i 7. å…³ç³»çš„æ€§è´¨ å…³ç³»çš„æ€§è´¨å¯ä»¥å¯¹å…³ç³»è¿›è¡Œåˆ†ç±»ã€‚ 7.1 è‡ªåæ€§ä¸åè‡ªåæ€§ å®šä¹‰ï¼š è®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼Œ å¦‚æœå¯¹ä»»æ„çš„$x\\in A$ï¼Œéƒ½æœ‰$\\in R$ï¼Œé‚£ä¹ˆç§°Råœ¨Aä¸Šæ˜¯è‡ªåçš„ï¼Œæˆ–è€…ç§°Rå…·æœ‰è‡ªåæ€§ã€‚ å¦‚æœå¯¹ä»»æ„çš„$x\\in A$ï¼Œéƒ½æœ‰$\\notin R$ï¼Œé‚£ä¹ˆç§°Råœ¨Aä¸Šæ˜¯åè‡ªåçš„ï¼Œæˆ–è€…ç§°Rå…·æœ‰åè‡ªåæ€§ã€‚ å¯¹äºå…³ç³»çŸ©é˜µä¸Šçš„ä½“ç°ï¼Œä¼šä½“ç°åœ¨å¯¹è§’çº¿ä¸Šï¼š æ€»ç»“ å­˜åœ¨æ—¢ä¸æ˜¯è‡ªåçš„ä¹Ÿä¸æ˜¯åè‡ªåçš„å…³ç³»; å…³ç³»Ræ˜¯è‡ªåçš„å½“ä¸”ä»…å½“Rçš„å…³ç³»å›¾ä¸­æ¯ä¸ªç»“ç‚¹éƒ½æœ‰è‡ªç¯ï¼Œå…³ç³»Ræ˜¯åè‡ªåçš„å½“ä¸”ä»…å½“Rçš„å…³ç³»å›¾ä¸­æ¯ä¸ªç»“ç‚¹éƒ½æ— è‡ªç¯; å…³ç³»Ræ˜¯è‡ªåçš„å½“ä¸”ä»…å½“Rçš„å…³ç³»çŸ©é˜µçš„ä¸»å¯¹è§’çº¿ä¸Šå…¨ä¸º1ï¼Œå…³ç³»Ræ˜¯åè‡ªåçš„å½“ä¸”ä»…å½“Rçš„å…³ç³»çŸ©é˜µçš„ä¸»å¯¹è§’çº¿ä¸Šå…¨ä¸º0. 7.2 å¯¹ç§°æ€§ è®¾Ræ˜¯Aä¸Šçš„å…³ç³»ï¼š å¦‚æœå¯¹ä»»æ„çš„$x,y\\in A$ï¼Œå¦‚æœ$\\in R$ï¼Œé‚£ä¹ˆ$\\in R$ï¼Œé‚£ä¹ˆç§°Ræ˜¯å¯¹ç§°çš„ï¼Œæˆ–ç§°Rå…·æœ‰å¯¹ç§°æ€§ã€‚ å¦‚æœå¯¹ä»»æ„çš„$x,y\\in A$ï¼Œå¦‚æœ$\\in Rä¸”\\in R$ï¼Œé‚£ä¹ˆ$x=y$ï¼Œé‚£ä¹ˆç§°Ræ˜¯åå¯¹ç§°æ€§çš„ã€‚ å­˜åœ¨æ—¢æ˜¯å¯¹ç§°ä¹Ÿæ˜¯åå¯¹ç§°çš„å…³ç³»ï¼Œä¹Ÿå­˜åœ¨æ—¢ä¸æ˜¯å¯¹ç§°ä¹Ÿä¸æ˜¯åå¯¹ç§°çš„å…³ç³»ã€‚ 7.3 ä¼ é€’æ€§ å®šä¹‰ï¼šè®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼Œå¯¹ä»»æ„çš„$x,y,z\\in A$ï¼Œå¦‚æœ$\\in R $ä¸”$\\in R$ï¼Œé‚£ä¹ˆ$\\in R$ï¼Œåˆ™ç§°Ræ˜¯ä¼ é€’çš„ï¼Œæˆ–ç§°Rå…·æœ‰ä¼ é€’æ€§ã€‚ å¯¹äºå…³ç³»å›¾ä¸Šçš„ä¼ é€’æ€§çš„è¡¨ç°ï¼šæœ‰a->b, b->cä¸€å®šæœ‰a->c å…³ç³»çŸ©é˜µï¼š 7.4 å…³ç³»æ€§è´¨çš„åˆ¤å®šå®šç† å¯¹å…·ä½“é›†åˆä¸Šçš„å…·ä½“å…³ç³»ï¼Œæˆ‘ä»¬å¯æ ¹æ®å…³ç³»å›¾å’Œå…³ç³»çŸ©é˜µç­‰æ–¹æ³•æ¥åˆ¤å®šå…³ç³»çš„æ€§è´¨ï¼Œä½†å¯¹äºæŠ½è±¡é›†åˆä¸Šçš„æŠ½è±¡å…³ç³»ï¼Œåˆ™å­˜åœ¨ä¸€å®šçš„å±€é™æ€§ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä»é›†åˆè¿ç®—çš„è§‚ç‚¹ï¼Œç»™å‡ºç›¸åº”çš„åˆ¤å®šå®šç†ã€‚ 7.4.1 åˆ¤å®šå®šç† è®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼Œåˆ™ï¼š Ræ˜¯è‡ªåçš„ï¼Œå½“ä¸”ä»…å½“$I_A\\sube R$â€”â€”æœ€å°çš„æ˜¯$I_A$ Ræ˜¯åè‡ªåçš„ï¼Œå½“ä¸”ä»…å½“$R\\cap I_A=\\O$ Ræ˜¯å¯¹ç§°çš„ï¼Œå½“ä¸”ä»…å½“$R=R^{-1}$ Ræ˜¯åå¯¹ç§°çš„ï¼Œå½“ä¸”ä»…å½“$R\\cap R^{-1}\\sube I_A$â€”â€”åªå¯èƒ½æ˜¯$I_A$ä¸­çš„å…ƒç´  Ræ˜¯ä¼ é€’çš„ï¼Œå½“ä¸”ä»…å½“$R\\circ R\\sube R$ 7.4.2 åˆ¤å®šæ–¹æ³•æ€»ç»“ 7.4.3 å…³ç³»æ€§è´¨åˆ¤å®šä¾‹å­ ä¸€ä¸ªå…³ç³»å¯èƒ½æ»¡è¶³å¤šç§æ€§è´¨ï¼š ä¸€ä¸ªå…³ç³»å¯èƒ½å¤šç§æ€§è´¨éƒ½ä¸æ»¡è¶³ï¼š 7.5 å…³ç³»æ€§è´¨çš„ä¿å®ˆæ€§ å…³ç³»æ—¢å¯åšå„ç§é›†åˆåŸºæœ¬è¿ç®—ï¼Œåˆå¯åšå…³ç³»ç‰¹æœ‰çš„å¤åˆè¿ç®—å’Œæ±‚é€†è¿ç®—ã€‚å…·æœ‰ç‰¹æ®Šæ€§è´¨çš„å…³ç³»é€šè¿‡å„ç±»è¿ç®—åäº§ç”Ÿçš„æ–°å…³ç³»æ˜¯å¦ä»ç„¶ä¿æŒåŸæœ‰çš„ç‰¹æ®Šæ€§è´¨å‘¢ï¼Ÿè¿™å°±æ˜¯å…³ç³»æ€§è´¨çš„ä¿å®ˆæ€§é—®é¢˜ã€‚ 8. å…³ç³»çš„é—­åŒ… â€‹ ä¸€ä¸ªå…³ç³»å¯èƒ½ä¸å…·å¤‡æŸä¸€ä¸ªç‰¹æ®Šæ€§è´¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœå¸Œæœ›å®ƒæœ‰æˆ‘ä»¬å¸Œæœ›å®ƒå…·å¤‡çš„æŸä¸€ä¸ªæ€§è´¨ï¼Œåº”è¯¥å¦‚ä½•æ“ä½œå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä¸€äº›å…ƒç´ ï¼Œä½¿å¾—å…³ç³»å…·å¤‡æˆ‘ä»¬æƒ³è¦çš„æ€§è´¨ã€‚ä¾‹å¦‚ï¼Œå¯¹ç»™å®šé›†åˆA= {1, 2, 3}ä¸Šçš„å…³ç³»R= {, , }ï¼Œå®ƒä¸å…·æœ‰è‡ªåæ€§ã€‚æ ¹æ®è‡ªåæ€§çš„å®šä¹‰ï¼Œåœ¨å…³ç³»Rä¸­æ·»åŠ , è¿™ä¸¤ä¸ªå…ƒç´ åï¼Œæ‰€å¾—åˆ°çš„æ–°å…³ç³»$R^{'}$å°±å…·æœ‰è‡ªåæ€§ã€‚å¦å¤–è¿˜å¯ä»¥æ·»åŠ , , ï¼Œå¾—åˆ°çš„æ–°å…³ç³»$R^{''}$ä»ç„¶å…·æœ‰è‡ªåæ€§ã€‚ â€‹ å¦‚ä½•åœ¨ç»™å®šå…³ç³»ä¸­æ·»åŠ æœ€å°‘çš„å…ƒç´ ï¼Œä½¿å…¶å…·æœ‰éœ€è¦çš„ç‰¹æ®Šæ€§è´¨ï¼Œè¿™å°±æ˜¯å…³ç³»çš„é—­åŒ…é—®é¢˜ã€‚ â€‹ è‡ªåæ€§ï¼Œå¯¹ç§°æ€§ï¼Œä¼ é€’æ€§å¯ä»¥é€šè¿‡æ·»åŠ å…ƒç´ å¾—åˆ°ï¼Œä½†æ˜¯å¯¹äºåè‡ªåæ€§ï¼Œåå¯¹ç§°æ€§ï¼Œæ— æ³•é€šè¿‡æ·»åŠ å…ƒç´ å¾—åˆ°ï¼Œåªèƒ½é€šè¿‡åˆ é™¤å…ƒç´ å¾—åˆ°ã€‚è¿™é‡Œä¸è€ƒè™‘åˆ é™¤å…ƒç´ å¾—åˆ°å…³ç³»æ€§è´¨çš„æƒ…å†µã€‚ 8.1 é—­åŒ…çš„å®šä¹‰ è®¾Ræ˜¯é›†åˆAä¸Šçš„å…³ç³»ï¼Œè‹¥å­˜åœ¨Aä¸Šçš„å¦ä¸€ä¸ªå…³ç³»$R'$ï¼Œæ»¡è¶³ï¼š $R'$æ˜¯è‡ªåçš„ï¼ˆå¯¹ç§°çš„ï¼Œæˆ–ä¼ é€’çš„ï¼‰â€”â€”æ»¡è¶³æ€§è´¨ å¯¹äºä»»ä½•è‡ªåçš„ï¼ˆå¯¹ç§°çš„ï¼Œä¼ é€’çš„ï¼‰å…³ç³»$R^{''}$ï¼Œå¦‚æœ$R\\sube R^{''}$ï¼Œå°±æœ‰$R^{'}\\sube R^{''}$ã€‚åˆ™ç§°$R'$ä¸ºRçš„è‡ªåé—­åŒ…ï¼ˆå¯¹ç§°é—­åŒ…æˆ–è€…ä¼ é€’é—­åŒ…ï¼‰ï¼Œåˆ†åˆ«è®°ä¸º$r(R)(s(R)æˆ–t(R))$ 8.2 é—­åŒ…æ±‚è§£ åˆ©ç”¨å…³ç³»å›¾æ±‚é—­åŒ… æ£€æŸ¥Rçš„å…³ç³»å›¾ï¼Œåœ¨æ²¡æœ‰è‡ªç¯çš„ç»“ç‚¹å¤„åŠ ä¸Šè‡ªç¯ï¼Œå¯å¾—r(R)çš„å…³ç³»å›¾; æ£€æŸ¥Rçš„å…³ç³»å›¾ï¼Œå°†æ¯æ¡å•å‘è¾¹å…¨éƒ¨æ”¹æˆåŒå‘è¾¹ï¼Œå¯å¾—s( R)çš„å…³ç³»å›¾; æ£€æŸ¥Rçš„å…³ç³»å›¾ï¼Œä»æ¯ä¸ªç»“ç‚¹å‡ºå‘ï¼Œæ‰¾åˆ°å…¶ç»ˆç‚¹ï¼Œå¦‚æœè¯¥ç»“ç‚¹åˆ°å…¶ç»ˆç‚¹æ²¡æœ‰è¾¹ç›¸è¿ï¼Œå°±åŠ ä¸Šæ­¤è¾¹ï¼Œå¯å¾—t(R)çš„å…³ç³»å›¾. å®šç†ï¼š è®¾ $R$ æ˜¯é›†åˆ $A$ ä¸Šçš„å…³ç³», åˆ™ (1) $r(R)=R \\cup I{A}$; (2) $s(R)=R \\cup R^{-1}$; (3) $t(R)=\\bigcup{i=1}^{\\infty} R^{i}$, è‹¥ $|A|=n$ ï¼Œåˆ™ $t(R)=\\bigcup_{i=1}^{n} R^{i}$. var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/ç‰¹æ®Šå…³ç³».html":{"url":"ç¦»æ•£æ•°å­¦/ç‰¹æ®Šå…³ç³».html","title":"ç‰¹æ®Šå…³ç³»","keywords":"","body":"ç‰¹æ®Šå…³ç³» 1.ç­‰ä»·å…³ç³» 1.1 ç­‰ä»·å…³ç³»å®šä¹‰ 1.1.1 å®šä¹‰ è®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„å…³ç³»ï¼Œå¦‚æœRæ˜¯è‡ªåçš„ï¼Œå¯¹ç§°çš„ï¼Œä¼ é€’çš„ï¼Œåˆ™ç§°Rä¸ºAä¸Šçš„ç­‰ä»·å…³ç³»ã€‚ 1.1.2 åŒä½™å…³ç³» è®¾nä¸ºæ­£æ•´æ•°ï¼Œå®šä¹‰æ•´æ•°é›†åˆZä¸Šçš„ä»¥nä¸ºæ¨¡çš„åŒä½™å…³ç³»$R={|n|(x-y)}$ï¼Œè¯æ˜Ræ˜¯ä¸€ä¸ªç­‰ä»·å…³ç³»ã€‚ 1.2 ç­‰ä»·ç±» 1.2.1 ç­‰ä»·ç±»çš„å®šä¹‰ å®šä¹‰ï¼šè®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„ç­‰ä»·å…³ç³»ï¼Œå¯¹ä»»æ„$x\\in A$ï¼Œç§°é›†åˆ$[x]_R={y|y\\in A,\\in R}$ä¸º$x$å…³äºRçš„ç­‰ä»·ç±»ï¼Œæˆ–è€…å«åšç”±xç”Ÿæˆçš„ä¸€ä¸ªRç­‰ä»·ç±»ï¼Œå…¶ä¸­$x$ç§°ä¸º$[x]_R$çš„ç”Ÿæˆå…ƒï¼ˆä»£è¡¨å…ƒæˆ–è€…å…¸å‹å…ƒï¼‰ã€‚ 1.2.2 ç­‰ä»·ç±»çš„æ€§è´¨ ç­‰ä»·ç±»æ˜¯éç©ºçš„ æœ‰äº›ç­‰ä»·ç±»æ˜¯ç›¸åŒçš„ï¼Œæœ‰äº›æ˜¯ä¸åŒçš„ æ‰€æœ‰ç­‰ä»·ç±»ä¸­çš„å…ƒç´ æ±‡æ€»ä¸ºé›†åˆçš„æ‰€æœ‰å…ƒç´  å®šç†ï¼š è®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„ç­‰ä»·ç±»ï¼Œåˆ™ï¼š å¯¹ä»»æ„$x\\in A$ï¼Œ$[x]_R\\neq \\O$ å¯¹ä»»æ„$x,y\\in A$ï¼Œå¦‚æœ$y\\in [x]_R$ï¼Œåˆ™æœ‰$[x]_R=[y]_R$ï¼Œå¦åˆ™$[x]_R\\cap [y]_R=\\O$ $\\cup_{x\\in A}[x]_R=A$ 1.3 å•†é›† 1.3.1 å®šä¹‰ å®šä¹‰ï¼šè®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„ç­‰ä»·å…³ç³»ï¼Œç”±Rç¡®å®šçš„ä¸€åˆ‡ç­‰ä»·ç±»çš„é›†åˆï¼Œç§°ä¸ºé›†åˆAä¸Šçš„å•†é›†ï¼Œè®°ä¸ºA/Rï¼Œå³$A/R={[x]_R|x\\in A}$. 1.3.2 ç­‰ä»·ç±»çš„æ±‚æ³• 2. é›†åˆçš„åˆ’åˆ† åœ¨ç­‰ä»·å…³ç³»ä¸­æˆ‘ä»¬å·²ç»å‘ç°ï¼ŒåŒä¸€ä¸ªç­‰ä»·ç±»ä¸­çš„å…ƒç´ å…·æœ‰ç›¸åŒçš„å±æ€§ï¼Œå› è€Œå¯å°†é›†åˆä¸­çš„å…ƒç´ åˆ†æˆä¸åŒçš„ç±»åˆ«ï¼Œå¯¹åº”äºé›†åˆçš„åˆ’åˆ†ã€‚ 2.1 é›†åˆçš„åˆ’åˆ†çš„å®šä¹‰ å®šç†ï¼š è®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„ä¸€ä¸ªç­‰ä»·å…³ç³»ï¼Œåˆ™Aå¯¹Rçš„å•†é›†A/Ræ˜¯Açš„ä¸€ä¸ªåˆ’åˆ†ï¼Œç§°ä¸ºç”±Rå¯¼å‡ºçš„ç­‰ä»·åˆ’åˆ†ã€‚ åŒä¸€ä¸ªé›†åˆæœ‰å¤šç§ä¸åŒçš„åˆ’åˆ†ï¼Œä¸åŒçš„ç­‰ä»·å…³ç³»å¯¼å‡ºä¸åŒçš„åˆ’åˆ†ã€‚ 2.2 ç­‰ä»·å…³ç³»å¯¼å‡º ç»™å®šé›†åˆAçš„ä¸€ä¸ªåˆ’åˆ†$\\pi = {S_1,S_2,...,S_m}$ï¼Œåˆ™ç”±è¯¥åˆ’åˆ†ç¡®å®šçš„å…³ç³»$R=(S_1\\times S_2)\\cup(S_2\\times S_2)\\cupâ€¦â€¦\\cup(S_m\\times S_m)$æ˜¯Aä¸Šçš„ç­‰ä»·å…³ç³»ã€‚æˆ‘ä»¬ç§°è¯¥ç­‰ä»·å…³ç³»ä¸ºç”±åˆ’åˆ†$\\pi$æ‰€å¯¼å‡ºçš„ç­‰ä»·å…³ç³»ã€‚ 3. ååºå…³ç³» 3.1 ååºå…³ç³»çš„å®šä¹‰ å®šä¹‰ï¼šè®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„å…³ç³»ï¼Œå¦‚æœRæ˜¯è‡ªåçš„ã€åå¯¹ç§°çš„ã€ä¼ é€’çš„ï¼Œåˆ™ç§°Rä¸ºAä¸Šçš„ååºå…³ç³»(partial order relation), è®°ä¸º\"$\\leq$\"ï¼Œè¯»ä½œâ€œå°äºç­‰äºâ€ï¼Œå¹¶å°†â€œ$\\in \\leq$\"è®°ä¸ºaâ‰¤bã€‚åºå¶$$ç§°ä¸ºååºé›†(partial order set)ã€‚ 3.2 å¯æ¯”ä¸è¦†ç›– å®šä¹‰ï¼š è®¾Ræ˜¯éç©ºé›†åˆ$A$ä¸Šçš„ååºå…³ç³»ï¼Œ$\\forall x,y\\in A$ï¼Œ å¦‚æœ$x\\leq y$æˆ–è€…$y\\leq x$ï¼Œåˆ™ç§°xä¸yå¯æ¯” å¦‚æœ$x\\leq y$ä¸”ä¸å­˜åœ¨$z\\in A$ä½¿å¾—$x\\leq z\\leq y$ï¼Œåˆ™ç§°$y$è¦†ç›–$x$ 3.3 å­—å…¸æ’åº 3.4 å“ˆæ–¯å›¾ åœ¨ååºé›†çš„å…³ç³»å›¾ä¸­ï¼Œè®¸å¤šæœ‰å‘è¾¹å¯ä»¥ä¸ç”¨æ˜¾ç¤ºå‡ºæ¥ã€‚ä¾‹å¦‚ï¼Œååºå…³ç³»æ»¡è¶³è‡ªåæ€§ï¼Œæ‰€ä»¥æ¯ä¸ªç»“ç‚¹éƒ½æœ‰ç¯ï¼Œå› æ­¤å¯ä»¥ä¸å¿…æ˜¾ç¤ºè¿™äº›ç¯ï¼›åˆå¦‚ï¼Œååºå…³ç³»æ»¡è¶³ä¼ é€’æ€§ï¼Œæˆ‘ä»¬ä¸å¿…æ˜¾ç¤ºç”±äºä¼ é€’æ€§è€Œå¿…é¡»å‡ºç°çš„è¾¹ï¼›å¦å¤–ï¼Œç”±äºå…¶åå¯¹ç§°çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è§„å®šè¾¹çš„æ–¹å‘ï¼Œä»è€Œçœå»ç®­å¤´ã€‚æŒ‰ç…§ä»¥ä¸Šæ–¹æ³•å¯¹å…³ç³»å›¾è¿›è¡Œç®€åŒ–è€Œå¾—åˆ°çš„å›¾å½¢å«åšå“ˆæ–¯å›¾ï¼Œå“ˆæ–¯å›¾å¯¹äºåˆ¤æ–­å…ƒç´ ä¹‹é—´çš„å…ˆåé¡ºåºä»¥åŠç¡®å®šç‰¹æ®Šå…ƒç´ éå¸¸æ–¹ä¾¿ã€‚ 3.4.1 å®šä¹‰ è®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„ååºå…³ç³»ï¼Œä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•å¯¹Rçš„å…³ç³»å›¾è¿›è¡Œç®€åŒ–ï¼š å–æ¶ˆæ¯ä¸ªç»“ç‚¹çš„è‡ªç¯ï¼ˆå› è‡ªåæ€§ï¼‰ å–æ¶ˆç”±äºä¼ é€’æ€§å‡ºç°çš„è¾¹ï¼Œå³è‹¥$x\\rightarrow y,y\\rightarrow z$ï¼Œåˆ™å»æ‰$x\\rightarrow z$è¿™æ¡è¾¹ï¼ˆå› ä¼ é€’æ€§ï¼‰ é‡æ–°æ’åˆ—æ¯æ¡è¾¹ï¼Œä½¿å¾—ç®­å¤´çš„æ–¹å‘å…¨éƒ¨å‘ä¸Šï¼Œç„¶åå»æ‰è¿™äº›ç®­å¤´ï¼ˆå› åå¯¹ç§°æ€§ï¼‰ ä»¥ä¸Šçš„æ­¥éª¤å¯ä»¥å¾—åˆ°ä¸€ä¸ªåŒ…å«è¶³å¤Ÿååºä¿¡æ¯çš„å›¾ï¼Œè¿™ä¸ªå›¾ç§°ä¸ºååºå…³ç³»Rçš„å“ˆæ–¯å›¾ï¼ˆHasse diagramï¼‰ã€‚ 3.4.2 ç‰¹æ®Šå…ƒç´  3.4.2.1 æœ€å¤§å…ƒå’Œæœ€å°å…ƒ å®šä¹‰ï¼š è®¾$$æ˜¯ååºé›†ï¼Œ*Bæ˜¯Açš„ä»»æ„ä¸€ä¸ªå­é›†*ã€‚è‹¥å­˜åœ¨å…ƒç´ $b\\in B$ï¼Œä½¿å¾—â€”â€”==æœ€å¤§å…ƒå’Œæœ€å°å…ƒæ˜¯åœ¨é›†åˆBä¸­å¯»æ‰¾çš„== å¯¹ä»»æ„$x\\in B$ï¼Œéƒ½æœ‰$x\\leq b$ï¼Œåˆ™ç§°bä¸ºBçš„æœ€å¤§å…ƒ å¯¹ä»»æ„$x\\in B$ï¼Œéƒ½æœ‰$b\\leq x$ï¼Œåˆ™ç§°bä¸ºBçš„æœ€å°å…ƒ 3.4.2.2 æå¤§å…ƒå’Œæå°å…ƒ å®šä¹‰ï¼š è®¾$$æ˜¯ååºé›†ï¼ŒBæ˜¯Açš„ä»»æ„ä¸€ä¸ªå­é›†/u>ã€‚è‹¥å­˜åœ¨å…ƒç´ $b\\in B$ï¼Œä½¿å¾—â€”â€”==æå¤§å…ƒå’Œæå°å…ƒä¹Ÿæ˜¯åœ¨é›†åˆBä¸­å¯»æ‰¾çš„== å¯¹ä»»æ„$x\\in B$ï¼Œéƒ½æœ‰$b\\leq x\\Rightarrow x=b$ï¼Œåˆ™ç§°bä¸ºBçš„æå¤§å…ƒ å¯¹ä»»æ„$x\\in B$ï¼Œéƒ½æœ‰$x\\leq b\\Rightarrow x=b$ï¼Œåˆ™ç§°bä¸ºBçš„æå°å…ƒ 4.3.2.3 ä¸Šç•Œå’Œä¸Šç¡®ç•Œ å®šä¹‰ï¼šè®¾$$æ˜¯ååºé›†ï¼ŒBæ˜¯Açš„ä»»æ„ä¸€ä¸ªå­é›†ï¼Œè‹¥å­˜åœ¨å…ƒç´ $a\\in A$ï¼Œä½¿å¾—ï¼šâ€”â€”==ä¸Šç•Œå’Œä¸Šç¡®ç•Œéƒ½æ˜¯åœ¨æ•´ä¸ªé›†åˆä¸­å¯»æ‰¾çš„== å¯¹ä»»æ„$x\\in B$ï¼Œæ»¡è¶³$x\\leq a$ï¼Œåˆ™ç§°aä¸ºBçš„ä¸Šç•Œ è‹¥å…ƒç´ $a'\\in A$æ˜¯Bçš„ä¸Šç•Œï¼Œå…ƒç´ $a\\in A$æ˜¯Bçš„ä»»ä½•ä¸€ä¸ªä¸Šç•Œï¼Œå‡æœ‰$a'\\leq a$ï¼Œåˆ™ç§°$a'$ä¸ºBçš„æœ€å°ä¸Šç•Œæˆ–ä¸Šç¡®ç•Œ 4.3.2.4 ä¸‹ç•Œå’Œä¸‹ç¡®ç•Œ å®šä¹‰ï¼šè®¾$$æ˜¯ååºé›†ï¼ŒBæ˜¯Açš„ä»»æ„ä¸€ä¸ªå­é›†ï¼Œè‹¥å­˜åœ¨å…ƒç´ $a\\in A$ï¼Œä½¿å¾—ï¼šâ€”â€”==ä¸‹ç•Œå’Œä¸‹ç¡®ç•Œéƒ½æ˜¯åœ¨æ•´ä¸ªé›†åˆä¸­å¯»æ‰¾çš„== å¯¹ä»»æ„$x\\in B$ï¼Œæ»¡è¶³$a\\leq x$ï¼Œåˆ™ç§°aä¸ºBçš„ä¸‹ç•Œ è‹¥å…ƒç´ $a'\\in A$æ˜¯Bçš„ä¸Šç•Œï¼Œå…ƒç´ $a\\in A$æ˜¯Bçš„ä»»ä½•ä¸€ä¸ªä¸‹ç•Œï¼Œå‡æœ‰$a\\leq a'$ï¼Œåˆ™ç§°$a'$ä¸ºBçš„æœ€å°ä¸‹ç•Œæˆ–ä¸‹ç¡®ç•Œ 4. å…¶ä»–æ¬¡åºå…³ç³» 4.1 æ‹Ÿåºå…³ç³» è®¾Ræ˜¯éç©ºé›†åˆAä¸Šçš„å…³ç³»ï¼Œå¦‚æœRæ˜¯åè‡ªåçš„å’Œä¼ é€’çš„ï¼Œåˆ™ç§°Rä¸ºAä¸Šçš„æ‹Ÿåºå…³ç³»(quasi-order relation)ï¼Œè®°ä¸ºâ€œ$âˆˆ$ç§°ä¸ºæ‹Ÿåºé›†(quasi-order set)ã€‚ å¦‚æœæ»¡è¶³åè‡ªåå’Œä¼ é€’æ€§ï¼Œé‚£ä¹ˆä¸€å®šæ»¡è¶³åå¯¹ç§°æ€§ï¼Œè¯æ˜å¦‚ä¸‹ï¼š æ‹Ÿåºå…³ç³» VS ååºå…³ç³»ï¼š Ræ˜¯Aä¸Šçš„ååºå…³ç³»ï¼Œåˆ™$R-I_A$æ˜¯$A$ä¸Šçš„æ‹Ÿåºå…³ç³» Sæ˜¯Aä¸Šçš„æ‹Ÿåºå…³ç³»ï¼Œåˆ™$S\\cup I_A$æ˜¯Aä¸Šçš„ååºå…³ç³» 4.2 å…¨åºå…³ç³» å®šä¹‰ï¼šè®¾$$æ˜¯ä¸€ä¸ªååºå…³ç³»ï¼Œè‹¥å¯¹ä»»æ„çš„$x,y\\in A$ï¼Œ$x$ä¸$y$éƒ½æ˜¯å¯æ¯”çš„ï¼Œåˆ™ç§°å…³ç³»$\\leq $ä¸ºå…¨åºå…³ç³»æˆ–è€…çº¿åºå…³ç³»ã€‚ç§°$$ä¸ºå…¨åºé›†ï¼Œæˆ–çº¿åºé›†ï¼Œæˆ–é“¾ã€‚ 4.3 è‰¯åºå…³ç³» å®šä¹‰ï¼šè®¾$$æ˜¯å…¨åºé›†ï¼Œè‹¥$A$çš„ä»»ä½•ä¸€ä¸ªéç©ºå­é›†éƒ½æœ‰æœ€å°å…ƒç´ ï¼Œåˆ™ç§°â€œ$\\leq$â€ä¸ºè‰¯åºå…³ç³»ï¼Œæ­¤æ—¶$$ç§°ä¸ºè‰¯åºé›†ã€‚ 4.4 æ€»ç»“ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/å‡½æ•°.html":{"url":"ç¦»æ•£æ•°å­¦/å‡½æ•°.html","title":"å‡½æ•°","keywords":"","body":"å‡½æ•° ä»äºŒå…ƒå…³ç³»çš„è§’åº¦æ¥ç ”ç©¶å‡½æ•° 1. å‡½æ•°çš„å®šä¹‰ 1.1 å®šä¹‰ å®šä¹‰ï¼š è®¾$f$æ˜¯é›†åˆAåˆ°Bçš„å…³ç³»ï¼Œå¦‚æœå¯¹æ¯ä¸ª$x\\in A$ï¼Œéƒ½å­˜åœ¨å”¯ä¸€çš„$y\\in B$ï¼Œä½¿å¾—$\\in f$ï¼Œåˆ™ç§°å…³ç³»$f$ä¸ºAåˆ°Bçš„å‡½æ•°æˆ–è€…æ˜ å°„ï¼Œè®°ä¸º$fï¼šA\\rightarrow B$ã€‚Aä¸ºå‡½æ•°$f$çš„å®šä¹‰åŸŸï¼Œè®°ä¸º$dom$f=Aï¼›$f(A)$ä¸ºå‡½æ•°çš„å€¼åŸŸï¼Œè®°ä¸ºranfã€‚ æ³¨æ„åŒºåˆ†$få’Œf(x)$ï¼š $f$ï¼šå‡½æ•°ï¼ŒåŒ…å«äº†å¤šä¸ªåºå¶ $f(x)$ï¼šè‡ªå˜é‡ä¸º$x$æ—¶çš„å‡½æ•°å€¼ å¦‚æœå…³ç³»$f$å…·å¤‡ä¸‹åˆ—ä¸¤ç§æƒ…å†µä¹‹ä¸€ï¼Œé‚£ä¹ˆ$f$å°±ä¸æ˜¯å‡½æ•°: å­˜åœ¨å…ƒç´ aâˆˆAï¼Œåœ¨Bä¸­æ²¡æœ‰åƒ; å­˜åœ¨å…ƒç´ aâˆˆAï¼Œæœ‰ä¸¤ä¸ªåŠä¸¤ä¸ªä»¥ä¸Šçš„åƒã€‚ 1.2 ä¸¾ä¾‹ å®šä¹‰ï¼šæŠŠæ‰€æœ‰ä»Aåˆ°Bçš„ä¸€åˆ‡å‡½æ•°æ„æˆçš„é›†åˆè®°ä¸º$B^A$ï¼š B^A=\\{f|fï¼šA\\rightarrow B\\} 1.3 å‡½æ•°çš„æ•°é‡ è®¾å‡½æ•°$f:A\\rightarrow B,|A|=m,|B|=n$ï¼Œå¯¹Aä¸­ä»»æ„çš„å…ƒç´ è€Œè¨€ï¼Œå…¶åºå¶çš„ç¬¬äºŒå…ƒç´ éƒ½æœ‰nç§å¯èƒ½çš„é€‰æ‹©ï¼Œå› è€Œæ€»å…±æœ‰$n^m$ç§é€‰æ³•ï¼Œä¹Ÿå°±æ˜¯æœ‰$n^m$ä¸ªä¸åŒçš„å‡½æ•°ã€‚ 1.4 å‡½æ•°ä¸ä¸€èˆ¬å…³ç³»çš„å·®åˆ« å½“Aå’ŒBéƒ½æ˜¯æœ‰é™é›†åˆæ—¶ï¼Œå‡½æ•°å’Œä¸€èˆ¬å…³ç³»æœ‰ä¸‹é¢çš„å·®åˆ«ï¼š å…³ç³»å’Œå‡½æ•°çš„æ•°é‡ä¸åŒï¼šä»Aåˆ°Bçš„ä¸åŒå…³ç³»æœ‰$2^{|A|\\times|B|}$ä¸ªï¼Œä»Aåˆ°Bçš„ä¸åŒçš„å‡½æ•°å´ä»…æœ‰$|B|^{|A|}$ä¸ª å…³ç³»å’Œå‡½æ•°çš„åŸºæ•°ä¸åŒï¼šæ¯ä¸€ä¸ªå…³ç³»çš„åŸºæ•°å¯ä»¥ä»$0\\sim |A|\\times|B|$ï¼Œæ¯ä¸€ä¸ªå‡½æ•°çš„åŸºæ•°éƒ½ä¸º$|A|$ä¸ª å…³ç³»å’Œå‡½æ•°çš„ç¬¬ä¸€å…ƒç´ å­˜åœ¨å·®åˆ«ï¼šå…³ç³»çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¯ä»¥ç›¸åŒï¼Œå‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸€å®šæ˜¯äº’ä¸ç›¸åŒçš„ã€‚ 2. å‡½æ•°çš„ç±»å‹ 2.1 å®šä¹‰ è®¾fä¸ºä»é›†åˆAåˆ°é›†åˆBçš„å‡½æ•°ï¼š å¯¹ä»»æ„çš„$x_1,x_2\\in A$ï¼Œå¦‚æœ$x_1\\neq x_2$ï¼Œé‚£ä¹ˆ$f(x_1)\\neq f(x_2)$ï¼Œåˆ™ç§°$f$ä¸ºä»$A$åˆ°$B$çš„å•å°„ å¦‚æœranf=Bï¼Œåˆ™ç§°$f$ä¸ºä»$A$åˆ°$B$çš„æ»¡å°„ å¦‚æœ$f$â€‹æ—¢æ˜¯å•å°„åˆæ˜¯æ»¡å°„ï¼Œåˆ™ç§°$f$ä¸ºä»$A$åˆ°$B$çš„åŒå°„ 2.2 å¿…è¦æ¡ä»¶ è‹¥$f$æ˜¯ä»æœ‰é™é›†åˆAåˆ°æœ‰é™é›†åˆBçš„å‡½æ•°ï¼Œåˆ™æœ‰ï¼š $f$æ˜¯å•å°„çš„å¿…è¦æ¡ä»¶ä¸º$|A|\\leq |B|$ $f$æ˜¯æ»¡å°„çš„å¿…è¦æ¡ä»¶ä¸º$|A|\\geq |B|$ $f$æ˜¯åŒå°„çš„å¿…è¦æ¡ä»¶æ˜¯$|A|=|B|$ 2.3 æ•°å­¦åŒ–æè¿° å‡½æ•°ç±»å‹çš„æ•°å­¦åŒ–æè¿°ï¼š $fï¼šA\\rightarrow B$æ˜¯å•å°„å½“ä¸”ä»…å½“å¯¹$\\forall x_1,x_2\\in A$ï¼Œè‹¥$x_1\\neq x_2$ï¼Œé‚£ä¹ˆ$f(x_1)\\neq f(x_2)$ $fï¼šA\\rightarrow B$æ˜¯æ»¡å°„å½“ä¸”ä»…å½“å¯¹$\\forall y\\in B$ï¼Œä¸€å®š$\\exists x\\in A$ï¼Œä½¿å¾—$f(x) = y$ $fï¼šA\\rightarrow B$æ˜¯åŒå°„ï¼Œå½“ä¸”ä»…å½“æ»¡è¶³ä»¥ä¸Šä¸¤ç‚¹æ¡ä»¶ 2.4 è¯æ˜ 3. å‡½æ•°çš„è¿ç®— å‡½æ•°æ˜¯ç‰¹æ®Šçš„å…³ç³»ï¼Œæ‰€ä»¥åº”ç”¨äºå…³ç³»çš„è¿ç®—ä¹Ÿå¯ä»¥åº”ç”¨äºå‡½æ•°ã€‚ä½†æ˜¯å‡½æ•°ç»è¿‡æŸäº›å…³ç³»è¿ç®—ä¹‹åä¸èƒ½ä¿è¯ä»æ˜¯å‡½æ•°ï¼š ä¸¤ä¸ªå‡½æ•°çš„äº¤è¿ç®—å’Œå¹¶è¿ç®—çš„ç»“æœä¸ä¸€å®šæ˜¯å‡½æ•°ã€‚ 3.1 å‡½æ•°çš„å¤åˆè¿ç®— å®šä¹‰ï¼šè®¾$f:A\\rightarrow B,g: B\\rightarrow C$æ˜¯ä¸¤ä¸ªå‡½æ•°ï¼Œåˆ™$f$å’Œ$g$å¤åˆå…³ç³»ï¼Œ$f\\circ g={x\\in A, z\\in C,\\exists y\\in B,ä½¿å¾—y=f(x)ä¸”z=g(y)}$æ˜¯ä»Aåˆ°Cçš„å‡½æ•°ï¼Œç§°ä¸ºå‡½æ•°$f$ä¸$g$çš„å¤åˆå‡½æ•°ï¼Œè®°ä¸º$f\\circ g:A\\rightarrow C$ å‡½æ•°çš„å¤åˆä¸æ»¡è¶³äº¤æ¢å¾‹ï¼š å‡½æ•°çš„å¤åˆè¿ç®—æ»¡è¶³ç»“åˆå¾‹ï¼š 3.2 å‡½æ•°è¿ç®—çš„ä¿å®ˆæ€§ è®¾få’Œgåˆ†åˆ«æ˜¯ä»Aåˆ°Bå’Œä»Båˆ°Cçš„å‡½æ•°ï¼Œåˆ™ï¼š è‹¥få’Œgæ˜¯æ»¡å°„ï¼Œé‚£ä¹ˆ$f\\circ g$ä¹Ÿæ˜¯ä»Aåˆ°Cçš„æ»¡å°„ è‹¥få’Œgæ˜¯å•å°„ï¼Œé‚£ä¹ˆ$f\\circ g$ä¹Ÿæ˜¯ä»Aåˆ°Cçš„å•å°„ è‹¥få’Œgæ˜¯åŒå°„ï¼Œé‚£ä¹ˆ$f\\circ g$ä¹Ÿæ˜¯ä»Aåˆ°Cçš„åŒå°„ 3.3 å‡½æ•°çš„é€†è¿ç®— var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"ç¦»æ•£æ•°å­¦/å›¾è®ºåŸºç¡€.html":{"url":"ç¦»æ•£æ•°å­¦/å›¾è®ºåŸºç¡€.html","title":"å›¾è®ºåŸºç¡€","keywords":"","body":"var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"},"GLOSSARY.html":{"url":"GLOSSARY.html","keywords":"","body":"markdown ç®€æ´ä¼˜é›…çš„æ’ç‰ˆè¯­è¨€,ç®€åŒ–ç‰ˆçš„ HTML,åŠ å¼ºç‰ˆçš„ TXT,è¯¦æƒ…è¯·å‚è€ƒ https://xinwuyun.github.io/markdown/ git åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ,è¯¦æƒ…è¯·å‚è€ƒ https://xinwuyun.github.io/git/ var targetUl = document.getElementsByClassName('page-inner')[0].getElementsByTagName('ul')[0];if(targetUl.getElementsByTagName('a').length>0){targetUl.className='toc';}"}}