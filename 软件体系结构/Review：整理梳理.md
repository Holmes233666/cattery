# <center>Review：整理梳理</center>

## 1.架构

架构的概念：

构件 + 连接件 + 约束

- 超过算法和数据结构的计算
- 设计和确定系统的整体结构是一个新的课题
- 结构问题包括组织和全局控制结构、通信协议、同步和数据访问、物理分布、将功能分配给设计元素、设计元素的构成、扩展和性能、方案的选择

## 2.架构风格

### 2.1 数据流风格

构件：数据输入和输出端口

连接件：数据流——**通常是异步的，有缓冲**

控制：任意系统结构

风格特点：

- 数据控制计算
- 系统结构由数据的有序移动决定
- 数据流的风格是显而易见的

纯数据流风格的特点：

- 除了数据交互之外没有别的交互
- 变化的是：
  - 并行：
  - 拓扑结构：
  - 数据的控制

#### 2.1.1 批处理风格 batch sequencial

构件：**独立的应用程序**

连接件：数据流

约束：数据全量传递，每一步必须在上一步结束后开始

典型应用：**编译器，case工具**

#### 2.1.2 管道过滤器

构件：过滤器

连接件：管道

约束：过滤器之间是相互独立的，没有联系

特点：

- 无状态计算
- **传递的是流，不一定是全量的数据**
- 纯过滤器风格进行数据的丰富、精炼、转换和增量的传递

- 数据到来时便进行计算，不是收集然后处理

优缺点：

优点：并发、模块重用、隐蔽性强，高内聚低耦合、维护和扩展

缺点：数据没有统一模式，效率低、对于交互性很强的应用不适合

### 2.2 数据中心的风格

Shared Information System

特点：

共享数据的形式进行信息传递，搜集、存储、处理大量的数据

优点：

- **系统耦合度低**
- 一个生产者的错误不会影响到整个系统
- 方便对数据进行：

缺点：

- **同步和ACID**
- **配置和管理**

#### 2.2.1 Repository

构件：中心数据结构和一系列对中心数据结构进行操作的独立构件

连接件：对中心数据结构的直接访问或者过程调用

应用：**数据库、符号表**

#### 2.2.2 黑板

构件：黑板数据结构，知识源

连接件：对中心数据结构的直接访问和过程调用

适用问题：

- 问题有多种求解方法，没有唯一确定的求解方法
- 问题求解过程中有可能有多个可行的解，目标是寻找问题的最优解或者可接受的解
- 需要各个领域的专家求解

各部分功能：

- 黑板数据结构

  是全局的数据库，用来存储数据，传递信息，包含了解域的所有状态。

  问题求解过程中的所有状态，以层次的形式组织起来

  知识源求中心黑板数据结构的状态进行修改，逐步找到问题的解

- 知识源

  将问题分解成若干个子问题，每个知识源负责一个子问题的求解

  一个知识源包含**独立的领域知识**

  知识源对问题求解后会修改黑板的状态

- 控制

  时刻监控黑板的状态

  对黑板的状态进行**评价和判断**

应用：自然语言处理，模式识别，声音图像处理

### 2.3 独立组件 independent component

#### 2.3.1 Communication Process

适用问题：

- 包含一系列不同的，大量的独立计算单元，这些计算单元之间的计算需要独立进行
- 需要考虑数据的协同和对离散时间点的控制

构件：向明确的接收方发送和接收消息的进程

连接件：离散的消息

控制：每个进程都有自己的线程控制

应用：操作系统、分布式系统	

#### 2.3.2 event system：隐式调用

适用问题：

- 一系列松耦合的构件集合，一个构建调用某些操作，并可能调用过程中其他操作，通常是响应式系统
- 对于必须胴体进行，运行时配置的应用程序非常有效

上下文：

需要一个事件处理程序，来接收对事件的兴趣，当事件触发时通知组件

特点：

- 构件并不直接调用一个过程，而是触发广播或者多个事件
- 事先不知道构件的调用顺序，甚至不知道哪些构件会被调用
- 构件之间是独立的，彼此不知道对方的存在

构件：在不知道信号接收方的情况下发送消息的进程

连接件：事件处理程序

优缺点：

- 优点

  **可重用性：当一个构件需要加入现存系统时，只需要将该构件加入注册系统的事件中**

  **可修改性：当一个构件代替另一个构件时，不会影响到其他构件的接口**

- 缺点

  构件放弃了对系统计算的控制

### 2.4 虚拟机风格

#### 2.4.1 Intepreter

适用问题：

- 问题不能直接使用最合适的语言/机器求解
- 或者问题的核心是定义问题的求解的表示法的应用程序，如脚本语言
- 有时会链式使用，在一系列问题中从语言/机器中翻译

构件：一个状态机和三个内存

连接件：数据传递，过程调用

优点：

- 功能性
- 灵活性
- 测试性

缺点：

- 测试
- 性能

应用：

- 脚本语言
- 通信协议
- 组合键

#### 2.4.2 规则系统

构件：规则解释器，规则/数据选择，工作内存，知识库

### 2.5 调用返回

#### 2.5.1 主程序和子程序

构件：过程和显式可见的数据

连接件：过程调用和数据共享

约束：适用于计算可以被层次性定义的应用

#### 2.5.2 面向对象

构件：对象

连接件：过程调用

控制：去中心化，通常是单线程

组成：

- 封装
- 继承
- 多态
- 交互
- 复用和维护

OO问题：

- 管理大量的对象
- 管理大量的操作
- 分散的行为责任
- 捕获相似的设计

#### 2.5.3 层次结构

适用问题：服务可以被层次定义的程序

构件：**过程构件的集合**

连接件：过程调用

特点：

- 优点
- 缺点

#### 2.5.4 客户机服务器架构

BS是CS的特例







